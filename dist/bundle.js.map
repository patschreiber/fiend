{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/engine/FiendGame.ts","src/entities/Enemy.ts","src/main.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;ACEA;;;;IAIa,S,WAAA,S;AAaX,qBAAY,aAAZ,EAAmC,cAAnC,EAAyD;AAAA;;AAEvD;;;AAGA,SAAK,MAAL,GAAc,KAAK,SAAL,CAAe,aAAf,EAA8B,cAA9B,CAAd;AACA,SAAK,SAAL,GAAiB,SAAS,cAAT,CAAwB,YAAxB,CAAjB;AACA,SAAK,SAAL,CAAe,YAAf,CAA4B,KAAK,MAAjC,EAAyC,KAAK,SAAL,CAAe,UAAxD;AACA,SAAK,GAAL,GAAW,KAAK,MAAL,CAAY,UAAZ,CAAuB,IAAvB,CAAX;AAEA;;;;;AAKA,SAAK,GAAL,CAAS,qBAAT,GAAiC,KAAjC;AAEA;;;;;;;AAOA,SAAK,SAAL,GAAiB,IAAjB;AAEA;;;;AAIA,SAAK,UAAL,GAAkB,EAAlB;AAEA;;;;AAIA,SAAK,aAAL,GAAqB,CAArB;AAEA,SAAK,WAAL,GAAmB,IAAnB;AAEA,SAAK,eAAL,GAAuB,CAAvB;AAEA;;;AAGA,SAAK,WAAL,GAAmB,CACjB,IAAI,YAAJ,EADiB,CAAnB;AAGD;AAED;;;;;;;;;8BAKU,C,EAAW,C,EAAS;AAC5B,UAAI,SAAS,SAAS,aAAT,CAAuB,QAAvB,CAAb;AACA,aAAO,EAAP,GAAY,WAAZ;AACA,aAAO,KAAP,GAAe,CAAf;AACA,aAAO,MAAP,GAAgB,CAAhB;AAEA,aAAO,MAAP;AACD;AAED;;;;;;;;;;;2BAQO,K,EAAa;AAClB,WAAK,IAAI,IAAE,CAAX,EAAc,IAAE,KAAK,eAArB,EAAsC,GAAtC,EAA2C;AACzC,aAAK,WAAL,CAAiB,CAAjB,EAAoB,MAApB,CAA2B,KAA3B;AACD;AAED,WAAK,eAAL,GAAuB,KAAK,WAAL,CAAiB,MAAxC;AACD;AAED;;;;;;mCAGY;AACV,aAAO,oBAAP,CAA4B,KAAK,SAAjC;AACA,cAAQ,GAAR,CAAY,YAAZ;AACD;AAED;;;;;;mCAGY,CAEX;;;;;;;;;;;;;;;;;IChHU,K,WAAA,K;AAMX,qBAAA;AAAA;;AACE,aAAK,EAAL,GAAU,GAAV;AACA,aAAK,GAAL,GAAW,CAAX;AACA,aAAK,KAAL,GAAa,GAAb;AACA,aAAK,QAAL,GAAgB;AACd,eAAG,CADW;AAEd,eAAG;AAFW,SAAhB;AAID;;;;+BAEM,K,EAAK;AACV,iBAAK,QAAL,CAAc,CAAd,IAAmB,KAAK,KAAL,GAAa,KAAhC;AACA,iBAAK,QAAL,CAAc,CAAd,IAAmB,KAAK,KAAL,GAAa,KAAhC;AACD;;;+BAEG;AACF,mBAAO,EAAP,CAAU,GAAV,CAAc,SAAd;AACA,mBAAO,EAAP,CAAU,GAAV,CAAc,GAAd,CAAkB,KAAK,QAAL,CAAc,CAAhC,EAAmC,KAAK,QAAL,CAAc,CAAjD,EAAoD,EAApD,EAAwD,CAAxD,EAA2D,KAAK,EAAL,GAAQ,CAAnE;AACA,mBAAO,EAAP,CAAU,GAAV,CAAc,SAAd,GAA0B,SAA1B;AACA,mBAAO,EAAP,CAAU,GAAV,CAAc,IAAd;AACA,mBAAO,EAAP,CAAU,GAAV,CAAc,SAAd;AACD;;;;;;;;;;;ACpBH,OAAO,EAAP,GAAY,IAAI,oBAAJ,CAAc,GAAd,EAAmB,GAAnB,CAAZ","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { Enemy } from \"../entities/Enemy\";\n\n/**\n * The Game superclass. Operations to act upon the main game thread are found\n * here.\n */\nexport class FiendGame {\n\n  public canvas: HTMLCanvasElement;\n  public ctx: CanvasRenderingContext2D;\n  public gameObjectCount: number;\n  public gameObjects: Array<Enemy>;\n  \n  private container: HTMLElement;\n  private stopToken: number|null;\n  private tickLength: number;\n  private lastFrameTime: number;\n  private maxEntities: number;\n\n  constructor(gamePaneWidth: number, gamePaneHeight: number) {\n\n    /**\n     * \n     */\n    this.canvas = this.genCanvas(gamePaneWidth, gamePaneHeight);\n    this.container = document.getElementById(\"fiend-game\");\n    this.container.insertBefore(this.canvas, this.container.firstChild);\n    this.ctx = this.canvas.getContext('2d');\n\n    /**t\n     * Prevent anti-aliasing in the event a tile gets scaled.\n     * \n     * @property {CanvasRenderingContext2D.imageSmoothingEnabled}\n     */\n    this.ctx.imageSmoothingEnabled = false;\n\n    /**\n     * The ID returned from our main loop's most recent call to\n     * requestAnimationFrame(). The token can then be used when we call\n     * cancelAnimationFrame() to stop the main loop by telling the browser to\n     * cancel the request that corresponds to our token.\n     * @type {number}\n     */\n    this.stopToken = null;\n\n    /**\n     * How frequently the game state updates. It is 16.66 Hz (60ms)\n     * @type {number}\n     */\n    this.tickLength = 60;\n\n    /**\n     * The most recently elapsed tick of the game clock.\n     * @type {double} DOMHighResTimeStamp\n     */\n    this.lastFrameTime = 0;\n\n    this.maxEntities = 1000;\n\n    this.gameObjectCount = 0;\n\n    /**\n     * The list of active game objects to be updated each framr\n     */\n    this.gameObjects = [\n      new Enemy(),\n    ];\n  }\n\n  /**\n   * \n   * @param {integer} w The width of the canvas, in pixels. \n   * @param {integer} h The height of the canvas, in pixels.\n   */\n  genCanvas(w: number, h: number): HTMLCanvasElement {\n    let canvas = document.createElement('canvas');\n    canvas.id = \"game-pane\";\n    canvas.width = w;\n    canvas.height = h;\n\n    return canvas;\n  }\n\n  /**\n   * Calculates the game state as of a given point in time. It is the authority\n   * for game state. The delta should be used in calculations to make the game\n   * simulation framerate independent.\n   *\n   * @param {float} delta  The difference in time between this frame and last\n   * frame, in seconds.\n   */\n  update(delta: number): void {\n    for (let i=0; i<this.gameObjectCount; i++) {\n      this.gameObjects[i].update(delta);\n    }\n\n    this.gameObjectCount = this.gameObjects.length;\n  }\n\n  /**\n   * Stops the main game loop.\n   */\n  stopMainLoop(): void {\n    window.cancelAnimationFrame(this.stopToken);\n    console.log(\"Goodbye...\");\n  }\n\n  /**\n   * Attempts to gracefully tear down the game.\n   */\n  shutdownGame(): void {\n\n  }\n}\n","export class Enemy {\n  public HP: number;\n  public ATK: number;\n  public speed: number;\n  public position: { x: number, y: number };\n\n  constructor() {\n    this.HP = 100;\n    this.ATK = 1;\n    this.speed = 100;\n    this.position = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  update(delta) {\n    this.position.x += this.speed * delta;\n    this.position.y += this.speed * delta;\n  }\n\n  draw() {\n    window.FG.ctx.beginPath();\n    window.FG.ctx.arc(this.position.x, this.position.y, 10, 0, Math.PI*2);\n    window.FG.ctx.fillStyle = \"#0095DD\";\n    window.FG.ctx.fill();\n    window.FG.ctx.closePath();\n  }\n}\n","import { Enemy } from \"./entities/Enemy\";\nimport { FiendGame } from \"./engine/FiendGame\";\n\ndeclare global {\n  interface Window { FG: FiendGame }\n}\n\nwindow.FG = new FiendGame(640, 480);\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvZW5naW5lL0ZpZW5kR2FtZS50cyIsInNyYy9lbnRpdGllcy9FbmVteS50cyIsInNyYy9tYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7OztBQ0VBOzs7O0lBSWEsUyxXQUFBLFM7QUFhWCxxQkFBWSxhQUFaLEVBQW1DLGNBQW5DLEVBQXlEO0FBQUE7O0FBRXZEOzs7QUFHQSxTQUFLLE1BQUwsR0FBYyxLQUFLLFNBQUwsQ0FBZSxhQUFmLEVBQThCLGNBQTlCLENBQWQ7QUFDQSxTQUFLLFNBQUwsR0FBaUIsU0FBUyxjQUFULENBQXdCLFlBQXhCLENBQWpCO0FBQ0EsU0FBSyxTQUFMLENBQWUsWUFBZixDQUE0QixLQUFLLE1BQWpDLEVBQXlDLEtBQUssU0FBTCxDQUFlLFVBQXhEO0FBQ0EsU0FBSyxHQUFMLEdBQVcsS0FBSyxNQUFMLENBQVksVUFBWixDQUF1QixJQUF2QixDQUFYO0FBRUE7Ozs7O0FBS0EsU0FBSyxHQUFMLENBQVMscUJBQVQsR0FBaUMsS0FBakM7QUFFQTs7Ozs7OztBQU9BLFNBQUssU0FBTCxHQUFpQixJQUFqQjtBQUVBOzs7O0FBSUEsU0FBSyxVQUFMLEdBQWtCLEVBQWxCO0FBRUE7Ozs7QUFJQSxTQUFLLGFBQUwsR0FBcUIsQ0FBckI7QUFFQSxTQUFLLFdBQUwsR0FBbUIsSUFBbkI7QUFFQSxTQUFLLGVBQUwsR0FBdUIsQ0FBdkI7QUFFQTs7O0FBR0EsU0FBSyxXQUFMLEdBQW1CLENBQ2pCLElBQUksWUFBSixFQURpQixDQUFuQjtBQUdEO0FBRUQ7Ozs7Ozs7Ozs4QkFLVSxDLEVBQVcsQyxFQUFTO0FBQzVCLFVBQUksU0FBUyxTQUFTLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBYjtBQUNBLGFBQU8sRUFBUCxHQUFZLFdBQVo7QUFDQSxhQUFPLEtBQVAsR0FBZSxDQUFmO0FBQ0EsYUFBTyxNQUFQLEdBQWdCLENBQWhCO0FBRUEsYUFBTyxNQUFQO0FBQ0Q7QUFFRDs7Ozs7Ozs7Ozs7MkJBUU8sSyxFQUFhO0FBQ2xCLFdBQUssSUFBSSxJQUFFLENBQVgsRUFBYyxJQUFFLEtBQUssZUFBckIsRUFBc0MsR0FBdEMsRUFBMkM7QUFDekMsYUFBSyxXQUFMLENBQWlCLENBQWpCLEVBQW9CLE1BQXBCLENBQTJCLEtBQTNCO0FBQ0Q7QUFFRCxXQUFLLGVBQUwsR0FBdUIsS0FBSyxXQUFMLENBQWlCLE1BQXhDO0FBQ0Q7QUFFRDs7Ozs7O21DQUdZO0FBQ1YsYUFBTyxvQkFBUCxDQUE0QixLQUFLLFNBQWpDO0FBQ0EsY0FBUSxHQUFSLENBQVksWUFBWjtBQUNEO0FBRUQ7Ozs7OzttQ0FHWSxDQUVYOzs7Ozs7Ozs7Ozs7Ozs7OztJQ2hIVSxLLFdBQUEsSztBQU1YLHFCQUFBO0FBQUE7O0FBQ0UsYUFBSyxFQUFMLEdBQVUsR0FBVjtBQUNBLGFBQUssR0FBTCxHQUFXLENBQVg7QUFDQSxhQUFLLEtBQUwsR0FBYSxHQUFiO0FBQ0EsYUFBSyxRQUFMLEdBQWdCO0FBQ2QsZUFBRyxDQURXO0FBRWQsZUFBRztBQUZXLFNBQWhCO0FBSUQ7Ozs7K0JBRU0sSyxFQUFLO0FBQ1YsaUJBQUssUUFBTCxDQUFjLENBQWQsSUFBbUIsS0FBSyxLQUFMLEdBQWEsS0FBaEM7QUFDQSxpQkFBSyxRQUFMLENBQWMsQ0FBZCxJQUFtQixLQUFLLEtBQUwsR0FBYSxLQUFoQztBQUNEOzs7K0JBRUc7QUFDRixtQkFBTyxFQUFQLENBQVUsR0FBVixDQUFjLFNBQWQ7QUFDQSxtQkFBTyxFQUFQLENBQVUsR0FBVixDQUFjLEdBQWQsQ0FBa0IsS0FBSyxRQUFMLENBQWMsQ0FBaEMsRUFBbUMsS0FBSyxRQUFMLENBQWMsQ0FBakQsRUFBb0QsRUFBcEQsRUFBd0QsQ0FBeEQsRUFBMkQsS0FBSyxFQUFMLEdBQVEsQ0FBbkU7QUFDQSxtQkFBTyxFQUFQLENBQVUsR0FBVixDQUFjLFNBQWQsR0FBMEIsU0FBMUI7QUFDQSxtQkFBTyxFQUFQLENBQVUsR0FBVixDQUFjLElBQWQ7QUFDQSxtQkFBTyxFQUFQLENBQVUsR0FBVixDQUFjLFNBQWQ7QUFDRDs7Ozs7Ozs7Ozs7QUNwQkgsT0FBTyxFQUFQLEdBQVksSUFBSSxvQkFBSixDQUFjLEdBQWQsRUFBbUIsR0FBbkIsQ0FBWiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCB7IEVuZW15IH0gZnJvbSBcIi4uL2VudGl0aWVzL0VuZW15XCI7XG5cbi8qKlxuICogVGhlIEdhbWUgc3VwZXJjbGFzcy4gT3BlcmF0aW9ucyB0byBhY3QgdXBvbiB0aGUgbWFpbiBnYW1lIHRocmVhZCBhcmUgZm91bmRcbiAqIGhlcmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBGaWVuZEdhbWUge1xuXG4gIHB1YmxpYyBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBwdWJsaWMgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHB1YmxpYyBnYW1lT2JqZWN0Q291bnQ6IG51bWJlcjtcbiAgcHVibGljIGdhbWVPYmplY3RzOiBBcnJheTxFbmVteT47XG4gIFxuICBwcml2YXRlIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgc3RvcFRva2VuOiBudW1iZXJ8bnVsbDtcbiAgcHJpdmF0ZSB0aWNrTGVuZ3RoOiBudW1iZXI7XG4gIHByaXZhdGUgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xuICBwcml2YXRlIG1heEVudGl0aWVzOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoZ2FtZVBhbmVXaWR0aDogbnVtYmVyLCBnYW1lUGFuZUhlaWdodDogbnVtYmVyKSB7XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKi9cbiAgICB0aGlzLmNhbnZhcyA9IHRoaXMuZ2VuQ2FudmFzKGdhbWVQYW5lV2lkdGgsIGdhbWVQYW5lSGVpZ2h0KTtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmllbmQtZ2FtZVwiKTtcbiAgICB0aGlzLmNvbnRhaW5lci5pbnNlcnRCZWZvcmUodGhpcy5jYW52YXMsIHRoaXMuY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIC8qKnRcbiAgICAgKiBQcmV2ZW50IGFudGktYWxpYXNpbmcgaW4gdGhlIGV2ZW50IGEgdGlsZSBnZXRzIHNjYWxlZC5cbiAgICAgKiBcbiAgICAgKiBAcHJvcGVydHkge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5pbWFnZVNtb290aGluZ0VuYWJsZWR9XG4gICAgICovXG4gICAgdGhpcy5jdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgSUQgcmV0dXJuZWQgZnJvbSBvdXIgbWFpbiBsb29wJ3MgbW9zdCByZWNlbnQgY2FsbCB0b1xuICAgICAqIHJlcXVlc3RBbmltYXRpb25GcmFtZSgpLiBUaGUgdG9rZW4gY2FuIHRoZW4gYmUgdXNlZCB3aGVuIHdlIGNhbGxcbiAgICAgKiBjYW5jZWxBbmltYXRpb25GcmFtZSgpIHRvIHN0b3AgdGhlIG1haW4gbG9vcCBieSB0ZWxsaW5nIHRoZSBicm93c2VyIHRvXG4gICAgICogY2FuY2VsIHRoZSByZXF1ZXN0IHRoYXQgY29ycmVzcG9uZHMgdG8gb3VyIHRva2VuLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zdG9wVG9rZW4gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSG93IGZyZXF1ZW50bHkgdGhlIGdhbWUgc3RhdGUgdXBkYXRlcy4gSXQgaXMgMTYuNjYgSHogKDYwbXMpXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpY2tMZW5ndGggPSA2MDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtb3N0IHJlY2VudGx5IGVsYXBzZWQgdGljayBvZiB0aGUgZ2FtZSBjbG9jay5cbiAgICAgKiBAdHlwZSB7ZG91YmxlfSBET01IaWdoUmVzVGltZVN0YW1wXG4gICAgICovXG4gICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gMDtcblxuICAgIHRoaXMubWF4RW50aXRpZXMgPSAxMDAwO1xuXG4gICAgdGhpcy5nYW1lT2JqZWN0Q291bnQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxpc3Qgb2YgYWN0aXZlIGdhbWUgb2JqZWN0cyB0byBiZSB1cGRhdGVkIGVhY2ggZnJhbXJcbiAgICAgKi9cbiAgICB0aGlzLmdhbWVPYmplY3RzID0gW1xuICAgICAgbmV3IEVuZW15KCksXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB3IFRoZSB3aWR0aCBvZiB0aGUgY2FudmFzLCBpbiBwaXhlbHMuIFxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IGggVGhlIGhlaWdodCBvZiB0aGUgY2FudmFzLCBpbiBwaXhlbHMuXG4gICAqL1xuICBnZW5DYW52YXModzogbnVtYmVyLCBoOiBudW1iZXIpOiBIVE1MQ2FudmFzRWxlbWVudCB7XG4gICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy5pZCA9IFwiZ2FtZS1wYW5lXCI7XG4gICAgY2FudmFzLndpZHRoID0gdztcbiAgICBjYW52YXMuaGVpZ2h0ID0gaDtcblxuICAgIHJldHVybiBjYW52YXM7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgZ2FtZSBzdGF0ZSBhcyBvZiBhIGdpdmVuIHBvaW50IGluIHRpbWUuIEl0IGlzIHRoZSBhdXRob3JpdHlcbiAgICogZm9yIGdhbWUgc3RhdGUuIFRoZSBkZWx0YSBzaG91bGQgYmUgdXNlZCBpbiBjYWxjdWxhdGlvbnMgdG8gbWFrZSB0aGUgZ2FtZVxuICAgKiBzaW11bGF0aW9uIGZyYW1lcmF0ZSBpbmRlcGVuZGVudC5cbiAgICpcbiAgICogQHBhcmFtIHtmbG9hdH0gZGVsdGEgIFRoZSBkaWZmZXJlbmNlIGluIHRpbWUgYmV0d2VlbiB0aGlzIGZyYW1lIGFuZCBsYXN0XG4gICAqIGZyYW1lLCBpbiBzZWNvbmRzLlxuICAgKi9cbiAgdXBkYXRlKGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5nYW1lT2JqZWN0Q291bnQ7IGkrKykge1xuICAgICAgdGhpcy5nYW1lT2JqZWN0c1tpXS51cGRhdGUoZGVsdGEpO1xuICAgIH1cblxuICAgIHRoaXMuZ2FtZU9iamVjdENvdW50ID0gdGhpcy5nYW1lT2JqZWN0cy5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgdGhlIG1haW4gZ2FtZSBsb29wLlxuICAgKi9cbiAgc3RvcE1haW5Mb29wKCk6IHZvaWQge1xuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnN0b3BUb2tlbik7XG4gICAgY29uc29sZS5sb2coXCJHb29kYnllLi4uXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGVtcHRzIHRvIGdyYWNlZnVsbHkgdGVhciBkb3duIHRoZSBnYW1lLlxuICAgKi9cbiAgc2h1dGRvd25HYW1lKCk6IHZvaWQge1xuXG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBFbmVteSB7XG4gIHB1YmxpYyBIUDogbnVtYmVyO1xuICBwdWJsaWMgQVRLOiBudW1iZXI7XG4gIHB1YmxpYyBzcGVlZDogbnVtYmVyO1xuICBwdWJsaWMgcG9zaXRpb246IHsgeDogbnVtYmVyLCB5OiBudW1iZXIgfTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLkhQID0gMTAwO1xuICAgIHRoaXMuQVRLID0gMTtcbiAgICB0aGlzLnNwZWVkID0gMTAwO1xuICAgIHRoaXMucG9zaXRpb24gPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH07XG4gIH1cblxuICB1cGRhdGUoZGVsdGEpIHtcbiAgICB0aGlzLnBvc2l0aW9uLnggKz0gdGhpcy5zcGVlZCAqIGRlbHRhO1xuICAgIHRoaXMucG9zaXRpb24ueSArPSB0aGlzLnNwZWVkICogZGVsdGE7XG4gIH1cblxuICBkcmF3KCkge1xuICAgIHdpbmRvdy5GRy5jdHguYmVnaW5QYXRoKCk7XG4gICAgd2luZG93LkZHLmN0eC5hcmModGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnksIDEwLCAwLCBNYXRoLlBJKjIpO1xuICAgIHdpbmRvdy5GRy5jdHguZmlsbFN0eWxlID0gXCIjMDA5NUREXCI7XG4gICAgd2luZG93LkZHLmN0eC5maWxsKCk7XG4gICAgd2luZG93LkZHLmN0eC5jbG9zZVBhdGgoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRW5lbXkgfSBmcm9tIFwiLi9lbnRpdGllcy9FbmVteVwiO1xuaW1wb3J0IHsgRmllbmRHYW1lIH0gZnJvbSBcIi4vZW5naW5lL0ZpZW5kR2FtZVwiO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cgeyBGRzogRmllbmRHYW1lIH1cbn1cblxud2luZG93LkZHID0gbmV3IEZpZW5kR2FtZSg2NDAsIDQ4MCk7XG4iXX0="}
{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/atlases/MapBase.ts","src/atlases/Overworld.ts","src/engine/AssetLoader.ts","src/engine/Command/Command.ts","src/engine/Command/MoveEastCommand.ts","src/engine/Command/MoveNorthCommand.ts","src/engine/Command/MoveSouthCommand.ts","src/engine/Command/MoveWestCommand.ts","src/engine/Command/NullCommand.ts","src/engine/Command/index.ts","src/engine/Component/Component.ts","src/engine/Component/EventComponent.ts","src/engine/Component/LifeforceComponent.ts","src/engine/Component/MovementComponent.ts","src/engine/Component/index.ts","src/engine/Event/PlayerDeathEvent.ts","src/engine/Event/index.ts","src/engine/FiendGame.ts","src/engine/GameObject/GameActor/ActorFactory/ActorFactory.ts","src/engine/GameObject/GameActor/ActorFactory/OrdinaryFolkFactory.ts","src/engine/GameObject/GameActor/ActorFactory/PlayerFactory.ts","src/engine/GameObject/GameActor/GameActor.ts","src/engine/GameObject/GameActor/Npc.ts","src/engine/GameObject/GameActor/OrdinaryFolk.ts","src/engine/GameObject/GameActor/Player.ts","src/engine/GameObject/GameObject.ts","src/engine/GameObject/index.ts","src/engine/Input/InputHandler.ts","src/engine/Render/Camera/Camera.ts","src/engine/Render/Renderer.ts","src/engine/development/sandbox.ts","src/main.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export class MapBase {\n  SM: HTMLImageElement;\n  cols: number;\n  rows: number;\n  tsize: number;\n  tiles: Array<any>;\n  \n  constructor() {\n    this.cols = 0;\n    this.rows = 0;\n    this.tsize = 0;\n    this.tiles = null;\n  }\n\n  /**\n   * Gets the tile value located by the column and row (x,y) coordinates.\n   * This is trivial with a 2D array, but this method allows us to use a 1D\n   * array instead.\n   *\n   * @param {integer} x   The x-axis position of the requested tile.\n   * @param {integer} y   The y-axis position of the requested tile.\n   */\n  getTile(x: number, y: number): number {\n    if (\n      this.cols === 0\n      || this.rows === 0\n      || this.tsize === 0\n    ) {\n      throw new Error(\"Map size needs to have proper dimensions.\");\n    }\n\n    return this.tiles[y * this.cols + x];\n  }\n}\n","import { MapBase } from \"./MapBase\";\n\nexport class Overworld extends MapBase {\n  SM: HTMLImageElement;\n  tiles: Array<any>;\n  layers: Array<any>;\n  cols: number;\n  rows: number;\n  tsize: number;\n  \n  constructor() {\n    super();\n\n    /**\n     * The spritemap to be used.\n     * @var {HTMLImageElement}\n     */\n    this.SM = window.F_LOADER.getImage('TESTNUMBERED');\n\n    this.cols = 20;\n    this.rows = 15;\n    this.tsize = 300;\n    this.tiles = [\n        1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,\n       21,  2,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,\n        8,  8,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  5,  5,  5,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  5,  0,  5,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  5,  5,  5,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 10,\n    ];\n    this.layers = [\n      [\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n      ], [\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n      ]\n    ]\n  }\n\n}\n","export class AssetLoader {\n  private _assetList: Array<any>;\n\n  constructor() {\n    this._assetList = [];\n  }\n\n  public initAssets(): Array<any> {\n    return [\n      this.loadImage(\"testTileset\", \"./DAT/1bittest.png\"),\n      this.loadImage(\"testTileset2\", \"./DAT/psychic-swamp.png\"),\n      this.loadImage(\"TESTORIG\", \"./DAT/low-res-spritesheet.png\"),\n      this.loadImage(\"TESTNUMBERED\", \"./DAT/pixel_art_tileset_test.png\"),\n    ];\n  }\n\n  public loadImage(key: string, src: string) {\n    let img = new Image();\n\n    let d = new Promise(function (resolve, reject) {\n      img.onload = function () {\n        this._assetList[key] = img;\n        resolve(img);\n      }.bind(this);\n\n      img.onerror = function () {\n        reject('Could not load image: ' + src);\n      };\n    }.bind(this));\n  \n    img.src = src;\n  \n    return d;\n  }\n\n  public getImage(key: string): HTMLImageElement {\n    return (key in this._assetList) ? this._assetList[key] : null;\n  };\n}","import { GameActor } from \"../GameObject\";\n\n/**\n * The Command class.\n * @abstract\n */\nexport abstract class Command {\n\n  /**\n   * Executes the command.\n   *\n   * @param actor The GameActor to command.\n   * @param delta The game's delta between frames.\n   */\n  public abstract execute(actor: GameActor, delta: number): void;\n}\n","import { Command } from \"./Command\";\nimport { GameActor } from \"../GameObject\";\n\n/**\n * The MoveEastCommand class.\n */\nexport class MoveEastCommand extends Command {\n\n  /**\n   * Executes the command.\n   *\n   * @param actor The GameActor to command.\n   * @param delta The game's delta between frames.\n   */\n  public execute(actor: GameActor, delta: number): void {\n    actor.moveE(delta);\n  }\n}\n","import { Command } from \"./Command\";\nimport { GameActor } from \"../GameObject\";\n\n/**\n * The MoveNorthCommand class.\n */\nexport class MoveNorthCommand extends Command {\n\n  /**\n   * Executes the command.\n   *\n   * @param actor The GameActor to command.\n   * @param delta The game's delta between frames.\n   */\n  public execute(actor: GameActor, delta: number): void {\n    actor.moveN(delta);\n  }\n}\n","import { Command } from \"./Command\";\nimport { GameActor } from \"../GameObject\";\n\n/**\n * The MoveSouthCommand class.\n */\nexport class MoveSouthCommand extends Command {\n\n  /**\n   * Executes the command.\n   *\n   * @param actor The GameActor to command.\n   * @param delta The game's delta between frames.\n   */\n  public execute(actor: GameActor, delta: number): void {\n    actor.moveS(delta);\n  }\n}\n","import { Command } from \"./Command\";\nimport { GameActor } from \"../GameObject\";\n\n/**\n * The MoveWestCommand class.\n */\nexport class MoveWestCommand extends Command {\n\n  /**\n   * Executes the command.\n   *\n   * @param actor The GameActor to command.\n   * @param delta The game's delta between frames.\n   */\n  public execute(actor: GameActor, delta: number): void {\n    actor.moveW(delta);\n  }\n}\n","import { Command } from \"./Command\";\n\n/**\n * The NullCommand class.\n * This class is special in that it intentionally doesn't execute anything, in\n * so if a user doesn't have a mapped button, we don't have to check fo `null`.\n */\nexport class NullCommand extends Command {\n\n  /**\n   * Executes the command.\n   */\n  public execute(): void {}\n}\n","/**\n * @file The Command Barrel. Re-exports Command files for easier import\n * elsewhere.\n * @see @link https://basarat.gitbooks.io/typescript/docs/tips/barrel.html\n */\n\n/**\n * The base command class.\n */\nexport * from './Command';\n\nexport * from './NullCommand';\n\nexport * from './MoveNorthCommand';\n\nexport * from './MoveSouthCommand';\n\nexport * from './MoveEastCommand';\n\nexport * from './MoveWestCommand';\n\n","/**\n * The Component interface.\n */\ninterface IComponent {}\n\n/**\n * The Component class\n * @abstract\n */\nexport abstract class Component {\n\n  /**\n   * @var typeId The type of the component.\n   */\n  protected typeId: string;\n\n  /**\n   * Accessor for the private member `typeId`.\n   *\n   * @returns The type id the Component.\n   */\n  public getTypeId(): string {\n    return this.typeId;\n  }\n\n}\n","import { EventContainer } from \"../types/globals\";\nimport { Component } from './Component';\n\n/**\n * The EventComponent interface.\n */\n interface IEventComponent {\n\n  /**\n   * The list of ES6 Events or CustomEvents that can be emitted.\n   */\n  attachedEvents: EventContainer;\n\n  /**\n   * Adds DOM Events to this component via an array of events.\n   *\n   * @param events The array of events to add.\n   */\n  attachMultiple(eventList: Array<Event|CustomEvent>): void;\n\n  /**\n   * Attaches a single event to this component. Attached components can be\n   * emitted.\n   *\n   * @param event An `Event` or `CustomEvent` that this EventComponent knows\n   * about.\n   */\n  attach(event: Event|CustomEvent): void;\n\n  /**\n   * Emits an event via the `game-pane` DOM element. Uses the string name of the\n   * event to lookup if it's in the attachedEvent member.\n   *\n   * @param eventName The event to emit.\n   */\n  emit(eventName: string): void;\n}\n\n/**\n * The EventComponent class.\n * @implements [[IEventComponent]]\n */\nexport class EventComponent extends Component implements IEventComponent {\n\n  /**\n   * @var attachedEvents The list of events that can be emitted.\n   */\n  public attachedEvents: EventContainer;\n\n  /**\n   * @constructor\n   */\n  public constructor() {\n    super();\n\n    this.typeId = \"EventComponent\";\n\n    // We need to declare this as an object otherwise we get a reference error\n    // when we try and assign events to it in the `attach` and `attachMultiple`\n    // methods.\n    this.attachedEvents = {};\n  }\n\n  /**\n   * Attaches a single event to this component. Attached components can be\n   * emitted.\n   *\n   * @param event An `Event` or `CustomEvent` that this EventComponent knows\n   * about.\n   */\n  public attach(event: Event|CustomEvent): void {\n    this.attachedEvents[event.type] = event;\n  }\n\n  /**\n   * Adds DOM Events to this component via an array of events.\n   *\n   * @param events The array of events to add.\n   */\n  public attachMultiple(eventList: Array<Event|CustomEvent>): void {\n    for (let event of eventList) {\n      this.attach(event);\n    }\n  }\n\n  /**\n   * Emits an event via the `game-pane` DOM element. Uses the string name of the\n   * event to lookup if it's in the attachedEvent member.\n   *\n   * @param eventName The event to emit.\n   */\n  public emit(eventName: string): void {\n    document.getElementById('game-pane')\n      .dispatchEvent(this.attachedEvents[eventName]);\n  }\n\n}\n","import { GameObject } from '../GameObject/GameObject';\nimport { Component } from './Component';\n\n/**\n * The Lifeforce component. Adds health to a GameObject. Adds life, health\n * regeneration, and death.\n *\n * This component is required for entities to be alive or dead, as well as take\n * damage.\n *\n * @extends [[Component]]\n */\nexport class LifeforceComponent extends Component implements Component {\n\n  /**\n   * The current HP of the GameObject.\n   */\n  private currentHP: number;\n\n  /**\n   * The maximum HP of the GameObject.\n   */\n  private maxHP: number;\n\n  /**\n   * @constructor\n   */\n  public constructor() {\n    super();\n\n    this.typeId = \"LifeforceComponent\";\n  }\n\n  /**\n   * Update is intended to be run once per frame.\n   *\n   * @param GO The GameObject this component belongs to.\n   */\n  public update(GO: GameObject): void {}\n\n}\n","import { Component } from \"./Component\";\nimport { GameActor } from \"../GameObject\";\n\n/**\n * The Movement component. Adds movement to a GameObject.\n *\n * This component is required for entities to be able to move around the world.\n *\n * @extends [[Component]]\n */\nexport class MovementComponent extends Component {\n\n  /**\n   * The speed at which the GameObject can move.\n   */\n  public speed: number;\n\n  /**\n   * @constructor\n   */\n  public constructor() {\n    super();\n\n    this.typeId = \"MovementComponent\";\n\n    this.speed = 100;\n  }\n\n  /**\n   * Move the Actor north.\n   * @param delta The game's delta between frames.\n   */\n   public moveN(actor: GameActor, delta: number): void {\n    // Decrementing {y} makes the actor move south, since we're dealing with a\n    // 2D array and not an actual mathematical grid plane.\n    actor.position.y -= this.speed * delta;\n  }\n\n  /**\n   * Move the Actor south.\n   *\n   * @param delta The game's delta between frames.\n   */\n  public moveS(actor: GameActor, delta: number): void {\n    // Increasing {y} makes the actor move south, since we're dealing with a 2D\n    // array and not an actual mathematical grid plane.\n    actor.position.y += this.speed * delta;\n  }\n\n  /**\n   * Move the Actor east.\n   *\n   * @param delta The game's delta between frames.\n   */\n  public moveE(actor: GameActor, delta: number): void {\n    actor.position.x += this.speed * delta;\n  }\n\n  /**\n   * Move the Actor west.\n   *\n   * @param delta The game's delta between frames.\n   */\n  public moveW(actor: GameActor, delta: number): void {\n    actor.position.x -= this.speed * delta;\n  }\n\n}\n","/**\n * @file The Component Barrel. Re-exports Component files for easier import\n * elsewhere.\n * @see @link https://basarat.gitbooks.io/typescript/docs/tips/barrel.html\n */\n\n/**\n * Progenitor classes for all Component classes in the game.\n */\nexport * from './Component';\n\n/**\n * The Event component. Allows an entiy to emit and/or listen for events.\n */\n export * from './EventComponent';\n\n/**\n * The Lifeforce component. Adds health and all that comes with it when attached\n * to an entity.\n */\nexport * from './LifeforceComponent';\n\n/**\n * The Movement component. Adds movement to a GameObject.\n */\n export * from './MovementComponent';\n","import { GameObject } from '../GameObject';\n\n/**\n * The PlayerDeathEvent class.\n */\nexport class PlayerDeathEvent {\n\n  /**\n   * Retrieves the native ES6 CustomEvent. [[CustomEvent]] allows the attachment\n   * of data via the `CustomEventInit` dictionary.\n   *\n   * @param player The player GameObject.\n   *\n   * @emits `player_died`\n   */\n  public static create(player: GameObject): CustomEvent {\n\n    let event = new CustomEvent('player_died', {\n      detail: {\n        'go_id': player.getId(),\n      }\n    });\n\n    return event;\n  }\n}\n","/**\n * @file The Event Barrel. Re-exports Event files for easier import elsewhere.\n * @see @link https://basarat.gitbooks.io/typescript/docs/tips/barrel.html\n */\n\n/**\n * Progenitor classes for all entities in the game.\n */\n export * from './PlayerDeathEvent';\n","import { InputHandler } from \"./Input/InputHandler\";\nimport { Camera } from \"./Render/Camera/Camera\";\nimport { Renderer } from \"./Render/Renderer\";\n\nimport { Sandbox } from \"./development/sandbox\";\nimport { Player } from \"./GameObject\";\n\n/**\n * The Game superclass. Operations to act upon the main game thread are found\n * here.\n */\nexport class FiendGame {\n\n  /**\n   * The input handler that accepts player input.\n   */\n  public InputHandler: InputHandler;\n\n  /**\n   * The renderer responsible for drawing to the screen.\n   */\n  public Renderer: Renderer;\n\n  /**\n   * The main camera\n   */\n  public Camera: Camera;\n\n  /**\n   * The canvas in the DOM. What the game is rendered on.\n   */\n  public canvas: HTMLCanvasElement;\n\n  /**\n   * The number of currently-active game objects.\n   *\n   * @type {number}\n   */\n  public gameObjectCount: number;\n\n  /**\n   * The list of active game objects. Every game object in this list will have\n   * their state updated every frame, if possible.\n   */\n  public gameObjects: Array<any>;\n\n  /**\n   * The instance of the Player's character.\n   */\n  public Player: Player;\n\n  /**\n   * The max amount of active game objects that can be present in the game.\n   * TODO: Figure out what happens if this limit is reached.\n   * @internal This could be an \"importance weight\" where less important game\n   * objects are purged.\n   */\n  public maxEntities: number;\n\n  /**\n   * The HTML wrapper for the game. Assume everything in this container is part\n   * of the game.\n   */\n  public container: HTMLElement;\n\n  /**\n   * How frequently the game state updates, ideally. Defaults to 60 Hz, 16.6\n   * frames-per-second.\n   */\n  public tickLength: number;\n\n  /**\n   * The most recently elapsed tick of the game clock.\n   */\n  public lastFrameTime: number;\n\n  /**\n   * The ID returned from our main loop's most recent call to\n   * requestAnimationFrame(). The token can then be used when we call\n   * cancelAnimationFrame() to stop the main loop by telling the browser to\n   * cancel the request that corresponds to our token.\n   */\n  public stopToken: number|null;\n\n  /**\n   * Testing ground for new ideas.\n   */\n  public sandbox: Sandbox;\n\n  constructor(gamePaneWidth: number, gamePaneHeight: number) {\n\n    /**\n     * Create the game pane and canvas.\n     */\n    this.canvas = this.genCanvas(gamePaneWidth, gamePaneHeight);\n    this.container = document.getElementById(\"fiend-game\");\n    this.container.insertBefore(this.canvas, this.container.firstChild);\n\n    this.stopToken = null;\n\n    this.tickLength = 60;\n\n    this.lastFrameTime = 0;\n\n    this.maxEntities = 1000;\n\n    this.Renderer = new Renderer(this.canvas);\n\n    this.InputHandler = new InputHandler();\n\n    this.Camera = new Camera();\n\n    this.gameObjectCount = 0;\n\n    this.sandbox = new Sandbox();\n    this.Player = this.sandbox.Player;\n\n    // TODO: gameObjects should be empty on init.\n    // this.gameObjects = [];\n    this.gameObjects = this.sandbox.testGameObjects; // LOad the test game objects\n\n    // Let's kick off the game loop!\n    this.main(performance.now());\n  }\n\n  /**\n   * Generates a new canvas DOM canvas element. The game will run in this\n   * canvas.\n   *\n   * @param {number} w The width of the canvas, in pixels.\n   * @param {number} h The height of the canvas, in pixels.\n   */\n  private genCanvas(w: number, h: number): HTMLCanvasElement {\n    let canvas = document.createElement('canvas');\n    canvas.id = \"game-pane\";\n    canvas.width = w;\n    canvas.height = h;\n    canvas.tabIndex = 1;\n\n    return canvas;\n  }\n\n  /**\n   * Calculates the game state as of a given point in time. It is the authority\n   * for game state. The delta should be used in calculations to make the game\n   * simulation framerate independent.\n   *\n   * @param {float} delta  The difference in time between this frame and last\n   * frame, in seconds.\n   */\n  private _update(delta: number): void {\n    // TODO Remove clog.\n    // console.log('delta :', delta);\n    for (let i=0; i<this.gameObjectCount; i++) {\n      this.gameObjects[i].update(delta);\n    }\n\n    this.gameObjectCount = this.gameObjects.length;\n  }\n\n  /**\n   * Responsible for drawing the current game state to the screen.\n   */\n  private _draw(): void {\n\n    // Draw the scene.\n    this.Renderer.draw(this.gameObjectCount, this.gameObjects);\n  }\n\n  /**\n   * Stops the main game loop.\n   */\n  private stopMainLoop(): void {\n    window.cancelAnimationFrame(this.stopToken);\n    console.log(\"Goodbye...\");\n  }\n\n  /**\n   * Attempts to gracefully tear down the game.\n   */\n  public shutdownGame(): void {\n    this.stopMainLoop();\n  }\n\n/**\n  * The main game loop. We use requestAnimationFrame to be thread-safe and not\n  * dominate the browser when the player blurs focus on our tab.\n  *\n  * render() is passed tFrame because it is assumed that the render method will\n  *          calculate how long it has been since the most recently passed\n  *          update tick for extrapolation (purely cosmetic for fast devices).\n  *          It draws the scene.\n  *\n  * update() calculates the game state as of a given point in time.\n  *\n  * init()   Performs whatever tasks are needed before the main loop can run.\n  *\n  *\n  * @param {DOMHighResTimeStamp} tFrame The number of milliseconds since\n  * navigationStart (when the previous document is unloaded.\n  * window.requestAnimationFrame() always provides a DOMHighResTimeStamp to\n  * callbacks as an argument when they are executed.\n  */\n  public main(tFrame: DOMHighResTimeStamp): void {\n    // Store the ID returned from our main loop's most recent call to\n    // requestAnimationFrame().\n    this.stopToken = window.requestAnimationFrame(this.main.bind(this));\n\n    // Delta should be in seconds, not ms, so we divide by 1000.\n    let delta = (tFrame - this.lastFrameTime) / 1000.0;\n    // Keep track of when the last frame happened.\n    this.lastFrameTime = tFrame;\n\n    this.InputHandler.handleInput(this.Player, delta);\n    this._update(delta);\n    this._draw();\n  }\n\n}\n","import { GameActor } from \"../GameActor\";\nimport { Coordinate } from \"../../../types/globals\";\n\n/**\n * The ActorFactory class. Used for common actors such as common enemies,\n * wildlife, generic NPCs, etc. Allows us to implement the \"Type Object\"\n * pattern.\n *\n * The benefit here is twofold:\n * 1) We can define the Actor's properties in an external file, say, JSON, then\n * create a new Actor with those properties when a Scene is loaded.\n * 2) We can change the type of the Actor on the fly without recreating it.\n */\nexport abstract class ActorFactory {\n\n  /**\n   * The string unique label for the Actor type.\n   */\n  public label: string;\n\n  /**\n   * Factory method for creating a new Npc of a specific type.\n   * For reference, check out the Type Object (factory) pattern.\n   *\n   * @param position The starting position of the spawned Actor.\n   *\n   * @return The spawned GameActor.\n   */\n  protected abstract spawn(position: Coordinate): GameActor;\n}\n","import {\n  ActorFactory,\n  OrdinaryFolk\n} from '../../../GameObject';\n\nimport {\n  LifeforceComponent,\n  MovementComponent\n} from \"../../../Component\";\n\nimport { Coordinate } from '../../../types/globals';\n\n/**\n * The OrdinaryFolkFactory class. This is used to spawn non-unique,\n * humanoid-like GameActors aka \"Folks.\"\n */\nexport class OrdinaryFolkFactory extends ActorFactory {\n\n  /**\n   * @constructor\n   */\n  public constructor() {\n    super();\n\n    this.label = \"ordinary_folk\";\n  }\n\n  /**\n   * Factory method for creating a new Npc of type OrdinaryFolk.\n   * For reference, check out the Type Object (factory) pattern.\n   *\n   * @param position The starting position of the spawned Actor.\n   *\n   * @return The spawned GameActor.\n   */\n  public spawn(position: Coordinate): OrdinaryFolk {\n    let npc = new OrdinaryFolk(this, position);\n\n    npc.addComponent(new MovementComponent());\n    npc.addComponent(new LifeforceComponent());\n\n    return npc;\n  }\n}\n","import {\n  ActorFactory,\n  Player\n} from '../../../GameObject';\n\n\nimport {\n  LifeforceComponent,\n  MovementComponent,\n  EventComponent\n} from \"../../../Component\";\n\nimport { Coordinate } from '../../../types/globals';\nimport { PlayerDeathEvent } from '../../../Event';\n\n/**\n * The Player class. This is used to spawn a Player character.\n */\nexport class PlayerFactory extends ActorFactory {\n\n  /**\n   * @constructor\n   */\n  public constructor() {\n    super();\n\n    this.label = \"player_1\";\n  }\n\n  /**\n   * Factory method for creating a new Npc of type OrdinaryFolk.\n   * For reference, check out the Type Object (factory) pattern.\n   *\n   * @param position The starting position of the spawned Actor.\n   *\n   * @return The spawned GameActor.\n   */\n  public spawn(position: Coordinate): Player {\n    let player = new Player(this, position);\n\n    player.addComponent(new EventComponent());\n    player.addComponent(new LifeforceComponent());\n    player.addComponent(new MovementComponent());\n\n    // Attach some Player-specific events.\n    player.getComponent(\"EventComponent\")\n      .attach(PlayerDeathEvent.create(player));\n\n    return player;\n  }\n}\n","import { GameObject } from '../../GameObject';\nimport { Component } from '../../Component';\nimport { ComponentContainer, Coordinate } from '../../types/globals';\n\n/**\n * The interface for the [[GameActor]] class.\n *\n * @interface IGameActor\n */\ninterface IGameActor {\n\n  /**\n   * The position member. Signifies the location of the of the GameObject.\n   */\n  position: Coordinate;\n\n  /**\n   * Defines the signature for the update method for the GameActor.\n   *\n   * @param delta The time difference between frames. Provided by the game's\n   * main game loop.\n   * @see FiendGame.main()\n   */\n  update(delta: number): void;\n\n  /**\n   * Attaches a Component to a `GameActor` instance.\n   *\n   * @param component The Component to be attached.\n   *\n   * @return If the Component was successfully attached or not.\n   */\n  addComponent(component: Component): boolean;\n\n  /**\n   * Removes a Component from a `GameActor` instance.\n   *\n   * @param key The lookup key for the Component to be removed from this\n   * GameActor. Usually this is the Component's `typeId` as a string.\n   *\n   * @return If the Component was successfully removed or not.\n   */\n  removeComponent(key: string): boolean;\n\n  /**\n   * Checks to see if a Component is attached to a `GameActor` instance.\n   *\n   * @param key The key to use as a look up. Usually this is the Component's\n   * `typeId` as a string.\n   *\n   * @return If the Component is attached to this GameActor.\n   */\n  hasComponent(key: string): boolean;\n\n  /**\n   *  Gets a Component attached to a `GameActor` instance.\n   *\n   * @param key The key to use as a look up. Usually this is the Component's\n   * `typeId` as a string.\n   *\n   * @return The desired attached Component, or null if it's not attached.\n   */\n  getComponent(key: string): Component|null;\n\n  /**\n   * Retrieves the list of Components attached to a `GameActor` instance.\n   *\n   * @return The list of attached Components.\n   */\n  listComponents(): Array<string>;\n\n}\n\n/**\n * The base GameActor class. All GameObjects that can influence things in the\n * environment will derive from the GameActor class.\n * @abstract\n * @extends [[GameObject]] The GameObject base abstract class.\n * @implements [[IGameActor]]\n */\nexport abstract class GameActor extends GameObject implements IGameActor {\n\n  /**\n   * @var position The position of the GameObject.\n   */\n  public position: Coordinate;\n\n  /**\n   * @var components The container for all the actor's components.\n   */\n  protected components: ComponentContainer;\n\n  /**\n   * @constructor\n   *\n   * @param position The starting position of the spawned Actor.\n   */\n  constructor(position: Coordinate) {\n    super();\n\n    this.position = position;\n\n    // We need to declare this as an object otherwise we get a reference error\n    // when we try and assign Components to it with addComponent().\n    this.components = {};\n  }\n\n  /**\n   * Adds a Component to the GameActor's `ComponentContainer`, if it's not\n   * already attached.\n   *\n   * @param component The Component to be attached.\n   *\n   * @return If the Component was successfully attached or not.\n   */\n  public addComponent<K extends keyof ComponentContainer>(component: ComponentContainer[K]): boolean {\n    let typeId = component.getTypeId();\n\n    if (this.hasComponent(typeId)) {\n      // TODO: Make this a real exception.\n      console.log('addComponentError :', `A ${typeId} Component is already attached to this GameActor(id:${this.getId()})`);\n      return false;\n    }\n\n    this.components[typeId] = component;\n    return true;\n  }\n\n  /**\n   * Removes a Component from the GameActor's `ComponentContainer`, if it's\n   * attached.\n   *\n   * @param key The lookup key for the Component to be removed from this\n   * GameActor. Usually this is the Component's `typeId` as a string.\n   *\n   * @return If the Component was successfully removed or not.\n   */\n  public removeComponent(key: string): boolean {\n\n    if (this.hasComponent(key)) {\n      delete this.components[key];\n      return true;\n    }\n\n    // TODO: Make this a real exception.\n    console.log('removeComponentError :', `Cannot remove Component ${key} since one's not attached to this GameActor(id:${this.getId()})`);\n  }\n\n  /**\n   * Checks to see if a Component is attached to this GameActor via the\n   * `ComponentContainer` list.\n   *\n   * @param key The key to use as a look up. Usually this is the Component's\n   * `typeId` as a string.\n   *\n   * @return If the Component is attached to this GameActor.\n   */\n  public hasComponent(key: string): boolean {\n    return this.components[key] === undefined ? false : true;\n  }\n\n  /**\n   * Gets a Component attached to this GameActor.\n   *\n   * @see https://stackoverflow.com/questions/58573975\n   *\n   * @param key The key to use as a look up. Usually this is the Component's\n   * `typeId` as a string. It must be a key defined in the `ComponentContainer`\n   * type.\n   *\n   * @return The desired attached Component, or null if it's not attached.\n   */\n  public getComponent<K extends keyof ComponentContainer>(\n    key: K\n  ): ComponentContainer[K] {\n    if (this.hasComponent(key)) {\n      return this.components[key];\n    }\n\n    return null;\n  }\n\n  /**\n   * Retrieves the list of Components attached to this GameActor.\n   *\n   * @return The list of attached Components.\n   */\n  public listComponents(): Array<string> {\n    return Object.keys(this.components);\n  }\n\n  /**\n   * The update method for the abstract GameActor class.\n   *\n   * @abstract\n   * @param delta The time difference between frames. Provided by the game's\n   * main game loop.\n   * @see FiendGame.main()\n   */\n  public abstract update(delta: number): void;\n\n  // TODO: Make a subclass that has movement. Not all actors will, I dont think.\n  public moveN(delta: number): void {}\n  public moveS(delta: number): void {}\n  public moveE(delta: number): void {}\n  public moveW(delta: number): void {}\n}\n","import { GameActor } from './GameActor';\nimport { ActorFactory } from '../../GameObject';\nimport { Coordinate } from '../../types/globals';\n\n/**\n * The Npc class. All non-player characters are Npcs, unlike some games where\n * there is a `Monster` class for all hostile actors.The reasoning is that in\n * Fiend, any non-player character can be a friend or foe, depending on how the\n * player acts.\n */\nexport class Npc extends GameActor {\n\n  /**\n   * The actor's type.\n   */\n  protected _type: ActorFactory;\n\n  /**\n   * @constructor\n   *\n   * @param actorType The Actor's type.\n   * @param position The starting position of the spawned Actor.\n   */\n  public constructor(actorType: ActorFactory, position: Coordinate) {\n    super(position);\n\n    this._type = actorType;\n  }\n\n  /**\n   * The update method for the Npc class.\n   *\n   * @param delta The time difference between frames. Provided by the game's\n   * main game loop.\n   * @see FiendGame.main()\n   */\n  public update(delta: number): void {}\n\n}\n","import {\n  ActorFactory,\n  Npc\n} from '../../GameObject';\n\nimport { Coordinate } from '../../types/globals';\n\n/**\n * The OrdinaryFolk class. Ordinary Folks are generally benign NPCs to populate\n * the world.\n */\nexport class OrdinaryFolk extends Npc {\n\n  /**\n   * @constructor\n   *\n   * @param actorType The Actor's type.\n   * @param position The starting position of the spawned Actor.\n   */\n  public constructor(actorType: ActorFactory, position: Coordinate) {\n    super(actorType, position);\n  }\n\n  /**\n   * The update method for the Npc class.\n   *\n   * @param delta The time difference between frames. Provided by the game's\n   * main game loop.\n   * @see FiendGame.main()\n   */\n  public update(delta: number): void {}\n\n  /**\n   * Draws the NPC entity.\n   * TODO: This should be moved to the Render component once it's done.\n   *\n   * @param ctx The canvas context.\n   */\n  public draw(ctx: CanvasRenderingContext2D): void {\n    ctx.beginPath();\n    ctx.rect(this.position.x, this.position.y, 20, 20);\n    ctx.fillStyle = \"#FF0000\";\n    ctx.fill();\n    ctx.closePath();\n  }\n\n}\n","import {\n  GameActor,\n  ActorFactory\n} from '../../GameObject';\n\nimport { Coordinate } from '../../types/globals';\n\n/**\n * The interface for the [[Player]] class.\n *\n * @interface IPlayer\n */\ninterface IPlayer {\n\n  /**\n   * Move the Player north.\n   *\n   * @param delta The game's delta between frames.\n   */\n  moveN(delta: number): void;\n\n  /**\n   * Move the Player south.\n   *\n   * @param delta The game's delta between frames.\n   */\n  moveS(delta: number): void;\n\n  /**\n   * Move the Player east.\n   *\n   * @param delta The game's delta between frames.\n   */\n  moveE(delta: number): void;\n\n  /**\n   * Move the Player west.\n   *\n   * @param delta The game's delta between frames.\n   */\n  moveW(delta: number): void;\n}\n\n/**\n * The Player class. Keeps track of the state of the player including all\n * attributes and stats.\n *\n * @abstract\n * @extends [[GameActor]] The GameObject base abstract class.\n * @implements [[IPlayer]]\n */\nexport class Player extends GameActor implements IPlayer {\n\n  /**\n   * The actor's type.\n   */\n  protected _type: ActorFactory;\n\n  /**\n   * @constructor\n   *\n   * @param actorType The Actor's type.\n   * @param position The starting position of the Player.\n   */\n   constructor(actorType: ActorFactory, position: Coordinate) {\n    super(position);\n\n    this._type = actorType;\n  }\n\n  /**\n   * Updates the Player's state. Intended to be run in the main game loop.\n   *\n   * @param delta The time difference between frames. Provided by the game's\n   * main game loop.\n   * @see FiendGame.main()\n   */\n  public update(delta: number): void {\n    // this._eventComponent.emit('player_died');\n    // TODO: console.log('this.position :', this.position);\n  }\n\n  /**\n   * Draws the Player entity\n   *\n   * @param ctx The canvas context.\n   */\n   public draw(ctx: CanvasRenderingContext2D) {\n    ctx.beginPath();\n    ctx.arc(this.position.x, this.position.y, 10, 0, Math.PI*2);\n    ctx.fillStyle = \"#0095DD\";\n    ctx.fill();\n    ctx.closePath();\n  }\n\n\n  /**\n   *    |               .    ||\n   *   |||      ....  .||.  ...    ...   .. ...    ....\n   *  |  ||   .|   ''  ||    ||  .|  '|.  ||  ||  ||. '\n   *  .''''|.  ||       ||    ||  ||   ||  ||  ||  . '|..\n   * .|.  .||.  '|...'  '|.' .||.  '|..|' .||. ||. |'..|'\n   */\n\n  /**\n   * Move the Player north.\n   *\n   * @param delta The game's delta between frames.\n   */\n  public moveN(delta: number): void {\n    if (this.hasComponent(\"MovementComponent\")) {\n      this.getComponent(\"MovementComponent\").moveN(this, delta);\n    }\n  }\n\n  /**\n   * Public API for the MovementComponent\n   *\n   * @param delta The game's delta between frames.\n   */\n  public moveS(delta: number): void {\n    if (this.hasComponent(\"MovementComponent\")) {\n      this.getComponent(\"MovementComponent\").moveS(this, delta);\n    }\n  }\n\n  /**\n   * Move the Player east.\n   *\n   * @param delta The game's delta between frames.\n   */\n  public moveE(delta: number): void {\n    if (this.hasComponent(\"MovementComponent\")) {\n      this.getComponent(\"MovementComponent\").moveE(this, delta);\n    }\n  }\n\n  /**\n   * Move the Player west.\n   *\n   * @param delta The game's delta between frames.\n   */\n  public moveW(delta: number): void {\n    if (this.hasComponent(\"MovementComponent\")) {\n      this.getComponent(\"MovementComponent\").moveW(this, delta);\n    }\n  }\n\n}\n","/**\n * The interface for the [[GameObject]] class.\n *\n * @interface IGameObject\n */\ninterface IGameObject {\n\n  /**\n   * Accessor for the private member `id`.\n   *\n   * @returns The id of the GameObject\n   */\n   getId(): number;\n\n  /**\n   * Defines the signature for the update method for the GameActor.\n   *\n   * @param delta The time difference between frames. Provided by the game's\n   * main game loop.\n   * @see FiendGame.main()\n   */\n  update(delta: number): void;\n}\n\n/**\n * The GameObject abstract class. All game entities inherit from this class.\n * On instantiation, the class will generate an auto-incrementing id for use\n * in identifying the newly-created GameObject.\n *\n * @abstract\n */\nexport abstract class GameObject implements IGameObject {\n\n  /**\n   * @var idIncrementor Keeps track of the `id` of the last GameObject\n   instantiated.\n   *\n   * @static\n   */\n  private static idIncrementor: number = 1;\n\n  /**\n   * @var id The id of the instance of the GameObject.\n   */\n  private id: number;\n\n  /**\n   * @constructor\n   * Auto-increments the GameOject id for the new GameObject being created.\n   */\n  public constructor() {\n    this.id = GameObject.idIncrementor++;\n  }\n\n  /**\n   * Accessor for the private member `id`.\n   *\n   * @returns The id of the GameObject\n   */\n  public getId(): number {\n    return this.id;\n  }\n\n  /**\n   * Updates the GameObject's state. Intended to be run in the main game loop.\n   *\n   * @abstract\n   * @param delta The time difference between frames. Provided by the game's\n   * main game loop.\n   * @see FiendGame.main()\n   */\n  public abstract update(delta: number): void;\n\n}\n","/**\n * @file The GameObject Barrel. Re-exports GameObject files for easier import\n * elsewhere.\n * @see @link https://basarat.gitbooks.io/typescript/docs/tips/barrel.html\n */\n\n/**\n * Progenitor classes for all entities in the game.\n */\nexport * from './GameObject';\n\n/**\n * The base GameActor class. All GameObjects that can influence things in the\n * environment will derive from the GameActor class.\n */\nexport * from './GameActor/GameActor';\n\n/**\n * The base Npc class.\n */\nexport * from './GameActor/Npc';\n\n/**\n * The ordinary folk npc class.\n */\nexport * from './GameActor/OrdinaryFolk';\n\n/**\n * The player character class.\n */\nexport * from './GameActor/Player';\n\n/**\n * The base Actor factory class.\n */\nexport * from './GameActor/ActorFactory/ActorFactory';\n\n/**\n * The OrdinaryFolk factory class.\n */\nexport * from './GameActor/ActorFactory/OrdinaryFolkFactory';\n\n/**\n * The Player factory class.\n */\nexport * from './GameActor/ActorFactory/PlayerFactory';\n","import { Command } from \"../Command\";\nimport { GameActor } from '../GameObject';\n\nimport { NullCommand } from \"../Command\";\nimport { MoveNorthCommand } from \"../Command\";\nimport { MoveSouthCommand } from \"../Command\";\nimport { MoveEastCommand } from \"../Command\";\nimport { MoveWestCommand } from \"../Command\";\n\n/**\n * The interface for the InputHandler\n */\ninterface IInputHandler {\n\n  /**\n   * Binds an input to a command.\n   *\n   * @param event The user interaction with a keyboard.\n   * @param command\n   */\n  keyBind(event: KeyboardEvent, command: Command): void;\n\n  /**\n   * Handles any input if a mapped button is pressed. Run once per game update\n   * tick.\n   *\n   * @param actor The game actor entity to handle input. Most likely will be the\n   * Player(s).\n   * @param delta The\n   */\n  handleInput(actor: GameActor, delta: number): void;\n}\n\n/**\n * The IInputMap interface.\n * @keys\n * [key]: The name of the key pressed, sent by the browser.header\n * [command]: The mapped command to be executed.\n * [status]: The button's current status\n */\ninterface IInputMap {\n  [key: string]: {\n    command: Command,\n    status: ButtonStatus\n  }\n}\n\n/**\n * The built-in control scheme types. Allows a user to change the control scheme\n * without remapping all the keys individually.\n *\n * @type {enum} ControlSchemes\n */\nenum ControlSchemes {\n  DEFAULT,\n  FPS,\n  ONEHANDED_RIGHT,\n  ONEHANDED_LEFT,\n}\n\n/**\n * Maps a button to a keyboard input key.\n *\n * @type {enum} Button\n */\nenum Button {\n  UP = \"ArrowUp\",\n  DOWN = \"ArrowDown\",\n  LEFT = \"ArrowLeft\",\n  RIGHT = \"ArrowRight\",\n  E = \"e\",\n  Q = \"q\",\n  BSPACE = \"Backspace\",\n  ENTER = \"Enter\",\n  SHIFT = \"Shift\",\n}\n\n/**\n * The ButtonStatus enum.\n * @values\n * [PRESSED]: The button is pressed.\n * [RAISED]: The button is NOT pressed, it is raised. Also can be considered\n * \"untouched\" by the player.\n * [HELD]: The button is held down.\n * [RELEASED]: The button has been released from a pressed state.\n * [DISABLED]: The button has been disabled and will not fire events.\n *\n * @type {enum} ButtonStatus\n */\n enum ButtonStatus {\n  PRESSED,\n  RAISED,\n  HELD,\n  RELEASED,\n  DISABLED,\n}\n\n/**\n * The InputHandler class.\n */\nexport class InputHandler implements IInputHandler {\n\n  /**\n   * TODO Structure should add [\"context\"] so we can have context-independent\n   * buttons\n   * @type {IInputMap} The inputMap instance.\n   */\n  private inputMap: IInputMap;\n\n  /**\n   * The InputHandler constructor.\n   * Attaches the keydown and keyup KeyboardEvent to the document.\n   */\n  constructor() {\n\n    document.getElementById('game-pane').addEventListener(\n      'keydown', (event) => this.buttonPressed(event), false\n    );\n\n    document.getElementById('game-pane').addEventListener(\n      'keyup', (event) => this.buttonReleased(event), false\n    );\n\n    this.inputMap = this.initInputMap();\n\n    // TODO: This should read in user-defined input mappings, otheriwse load\n    // default settings. (if user has saved control scheme, else load default)\n    this.loadControlScheme(ControlSchemes.DEFAULT);\n  }\n\n  /**\n   * Binds an input to a command.\n   *\n   * @param {KeyboardEvent} event The key to bind the event to\n   * @param {Command} command The command to bind to the button\n   */\n  public keyBind(event: KeyboardEvent, command: Command): void {\n    this.inputMap[event.key].command = command;\n  }\n\n  /**\n   * Determins if a button was pressed. Callback for when a button is pressed by\n   * the user.\n   *\n   * @param {KeyboardEvent} event The user interaction with a keyboard.\n   */\n  public buttonPressed(event: KeyboardEvent): void {\n    event.preventDefault();\n\n    if (this.inputMap[event.key]) {\n      this.inputMap[event.key].status = ButtonStatus.PRESSED;\n    }\n  }\n\n  /**\n   * Callback for when a button is released by the user.\n   *\n   * @param {KeyboardEvent} event The user interaction with a keyboard.\n   */\n  public buttonReleased(event: KeyboardEvent): void {\n    event.preventDefault();\n\n    if (this.inputMap[event.key]) {\n      this.inputMap[event.key].status = ButtonStatus.RAISED;\n    }\n  }\n\n  /**\n   * Handles user input. Runs once per game loop.\n   */\n  public handleInput(actor: GameActor, delta: number): void {\n\n    if (this.inputMap[Button.UP].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.UP].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.DOWN].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.DOWN].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.LEFT].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.LEFT].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.RIGHT].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.RIGHT].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.E].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.E].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.Q].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.Q].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.BSPACE].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.BSPACE].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.ENTER].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.ENTER].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.SHIFT].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.SHIFT].command.execute(actor, delta);\n    }\n  }\n\n  /**\n   * Initializes an input map so the structure is available when needed.\n   *\n   * @return {IInputMap} The IInputMap interface.\n   */\n  private initInputMap(): IInputMap {\n    let ip = {};\n\n    for(let buttonKey in Button) {\n      ip[Button[buttonKey]] = {\n        command: NullCommand,\n        status: ButtonStatus.RAISED\n      }\n    }\n\n    return ip;\n  }\n\n  /**\n   * Loads a control scheme when the game first initializes, so the player can\n   * have some input. Supports multiple control schemes so players can re-map\n   * controls without having to re-map each button individually.\n   *\n   * @param controlScheme\n   */\n  private loadControlScheme(controlScheme: ControlSchemes): void {\n    switch(controlScheme) {\n      case 1:\n        break;\n      default:\n        // this.inputMap[Button.UP].command = new MoveNorthCommand(player: GameActor);\n        this.inputMap[Button.UP].command = new MoveNorthCommand();\n        this.inputMap[Button.DOWN].command = new MoveSouthCommand();\n        this.inputMap[Button.LEFT].command = new MoveWestCommand();\n        this.inputMap[Button.RIGHT].command = new MoveEastCommand();\n        this.inputMap[Button.E].command = new NullCommand();\n        this.inputMap[Button.Q].command = new NullCommand();\n        this.inputMap[Button.BSPACE].command = new NullCommand();\n        this.inputMap[Button.ENTER].command = new NullCommand();\n        this.inputMap[Button.SHIFT].command = new NullCommand();\n    }\n  }\n}\n\n// var key = {\n//   BACKSPACE: 8,\n//   TAB:       9,\n//   RETURN:   13,\n//   ESC:      27,\n//   SPACE:    32,\n//   PAGEUP:   33,\n//   PAGEDOWN: 34,\n//   END:      35,\n//   HOME:     36,\n//   LEFT:     37,\n//   UP:       38,\n//   RIGHT:    39,\n//   DOWN:     40,\n//   INSERT:   45,\n//   DELETE:   46,\n//   ZERO:     48, ONE: 49, TWO: 50, THREE: 51, FOUR: 52, FIVE: 53, SIX: 54, SEVEN: 55, EIGHT: 56, NINE: 57,\n//   A:        65, B: 66, C: 67, D: 68, E: 69, F: 70, G: 71, H: 72, I: 73, J: 74, K: 75, L: 76, M: 77, N: 78, O: 79, P: 80, Q: 81, R: 82, S: 83, T: 84, U: 85, V: 86, W: 87, X: 88, Y: 89, Z: 90,\n//   TILDA:    192\n// };\n","import { Coordinate } from \"../../types/globals\";\n\ninterface ICamera {\n\n  /**\n   * The current position of the camera.\n   */\n  position: Coordinate;\n\n  /**\n   * The width of the Camera's viewport.\n   */\n  width: number;\n\n  /**\n   * The height of the Camera's viewport.\n   */\n  height: number;\n\n  /**\n   * The limit for the camera's position — The lower limit will nearly always be\n   * (0,0). The upper limit is equal to the size of the world minus the size of\n   * the camera's viewport.\n   */\n  maxX: number;\n\n  /**\n   * The limit for the camera's position — The lower limit will nearly always be\n   * (0,0). The upper limit is equal to the size of the world minus the size of\n   * the camera's viewport.\n   */\n  maxY: number;\n\n}\n\nexport class Camera implements ICamera {\n\n  position: Coordinate;\n  width: number;\n  height: number;\n  maxX: number;\n  maxY: number;\n\n  constructor() {}\n\n}\n","import { MapBase } from \"../../atlases/MapBase\";\nimport { Overworld } from \"../../atlases/Overworld\";\n\nexport class Renderer {\n\n  EMPTY_TILE: number;\n  canvas: HTMLCanvasElement;\n  ctx: CanvasRenderingContext2D;\n  pixels: number;\n  scale: number;\n  sceneWidth: number;\n  sceneHeight: number;\n\n  /**\n   * TODO: Change this to be the scene. Recreate the Renderer when a new scene\n   * is loaded.\n   */\n  protected _currentMap: MapBase;\n\n  constructor(canvas: HTMLCanvasElement) {\n\n    this.canvas = canvas;\n\n    /**\n     * The canvas context.\n     *\n     * @var {CanvasRenderingContext2D}\n     */\n     this.ctx = this.canvas.getContext('2d');\n\n    /**\n     * Prevent anti-aliasing in the event a tile gets scaled.\n     *\n     * @property {CanvasRenderingContext2D.imageSmoothingEnabled}\n     */\n     this.ctx.imageSmoothingEnabled = false;\n\n    /**\n     * The empty tile value. If this value is set for a position in a map's\n     * array, it will not be rendered.\n     * TODO: Move this to the Scene.\n     *\n     * @var {integer}\n     */\n    this.EMPTY_TILE = 0;\n\n    /**\n     * Multiplier for x,y position to pixels. What size the tiles for the game\n     * will be rendered at. Always use a power of 2 so the scaling prevents\n     * blurring.\n     *\n     * @var {integer}\n     */\n    this.pixels = 32;\n\n    /**\n     * The scale at which the tile will be rendered. 1 = 1x scaling, 2 = 2x\n     * scaling, etc.\n     *\n     * @var {integer}\n     */\n    this.scale = 1;\n\n    this._currentMap = new Overworld();\n  }\n\n  draw(gameObjectCount: number, gameObjects: Array<any>) {\n\n    // Clear the screen\n    // TODO: Pull this out. Put in renderer.\n    this.ctx.clearRect(\n      0,\n      0,\n      this.canvas.width,\n      this.canvas.height\n    );\n\n    // Always store the texture in a var so we don't call \"new Foo()\" multiple\n    // times a second.\n    this.drawTileMap(this._currentMap);\n\n    for (let i=0; i<gameObjectCount; i++) {\n      gameObjects[i].draw(this.ctx);\n    }\n  }\n\n  /**\n   * Renders a map according to the coordinates given in the map's file by\n   * translating the coordinates to a spritesheet.\n   *\n   * If a tile is 32x32 pixels, the 1st tile will start at (0,0) on\n   * the spritesheet, the 2nd tile will start at (32,0), the 34d at (64,0) and\n   * so on.\n   *\n   * +---+---+---+---+\n   * | 1 | 2 | 3 | 4 |\n   * +---+---+---+---+\n   * | 5 | 6 | 7 | 8 |\n   * +---+---+---+---+\n   *\n   * 'source x' and 'source y' will get the correct coords in the image file.\n   * So for our first tile, '1', drawImage will grab the subimage at (32,0).\n   * drawImage would get the subimage at (64,32) for tile '7'.\n   *\n   * TODO  https://hashrocket.com/blog/posts/using-tiled-and-canvas-to-render-game-screens\n   *\n   * @param {Object} map  The map object that extends MapBase.\n   */\n  drawTileMap(map: MapBase): void {\n    for (let x=0; x<map.cols; x++) {\n      for (let y=0; y<map.rows; y++) {\n        let tile = map.getTile(x, y);\n\n        // Let's skip rendering empty tiles.\n        if (tile !== this.EMPTY_TILE) {\n          this.ctx.drawImage(\n            // Image Source\n            map.SM,\n            // Source x (See example in comment block)\n            ((tile - 1) % map.cols) * this.pixels,\n            // Source y (See example in comment block)\n            Math.floor(((tile - 1) / map.rows)) * this.pixels,\n            // Source width\n            this.pixels,\n            // Source height\n            this.pixels,\n            // Target x\n            x * (this.pixels * this.scale),\n            // Target y\n            y * (this.pixels * this.scale),\n            // Target width\n            this.pixels * this.scale,\n             // Target height\n            this.pixels * this.scale,\n          );\n        }\n      }\n    }\n  }\n}\n","// Import everything\nimport {\n  Command,\n  MoveEastCommand,\n  MoveNorthCommand,\n  MoveSouthCommand,\n  MoveWestCommand,\n  NullCommand\n} from \"../Command\"\nimport {\n  Component,\n  EventComponent,\n  LifeforceComponent,\n  MovementComponent\n} from \"../Component\"\nimport { PlayerDeathEvent } from \"../Event\"\nimport {\n  ActorFactory,\n  PlayerFactory,\n  OrdinaryFolkFactory,\n\n  GameObject,\n  GameActor,\n  Npc,\n  OrdinaryFolk,\n  Player\n} from \"../GameObject\"\nimport { InputHandler } from \"../Input/InputHandler\"\nimport { Camera } from \"../Render/Camera/Camera\"\nimport { Renderer } from \"../Render/Renderer\"\nimport { AssetLoader } from \"../AssetLoader\"\nimport { FiendGame } from \"../FiendGame\"\n\n/**\n * The Sandbox class. Play around!\n * This is a debug file and should not be used in production.\n */\nexport class Sandbox {\n\n  /**\n   * This array replaces the normal gameObjects array found in FiendGame.\n   */\n  public testGameObjects: Array<any>;\n\n  // TODO: This is a test! Actor factories should be loaded per Scene, once the\n  // scene functionality is created!\n  public OrdinaryFolkFactory: OrdinaryFolkFactory;\n  public PlayerFactory: PlayerFactory;\n\n  /**\n   * The instance of the Player's character.\n   */\n  public Player: Player;\n\n  constructor() {\n    // Instantiate Actor factories here as a test. We want to instantiate the\n    // factory so the memory is allocated when the Scene is loaded.\n    // TODO: Actor factories should be loaded per Scene, once the scene\n    // functionality is created!\n    this.OrdinaryFolkFactory = new OrdinaryFolkFactory();\n    this.PlayerFactory = new PlayerFactory();\n    this.Player = this.PlayerFactory.spawn({x:125,y:125});\n\n    this.testGameObjects = [\n      // TODO This is a test, do should be empty on init.\n      this.Player,\n      this.OrdinaryFolkFactory.spawn({x:200,y:100}),\n    ];\n\n    // TODO: This is a test to test event emission.\n    document.getElementById('game-pane').addEventListener(\n      'player_died',\n      (event: CustomEvent) => this.respondToGameObjectCreation(event),\n      false\n    );\n\n\n  }\n\n  public update(delta: number): void {\n  }\n\n  public respondToGameObjectCreation(event: CustomEvent) {\n    console.log('event.detail.go_id :', event.detail.go_id);\n  }\n}\n","import { FiendGame } from \"./engine/FiendGame\";\nimport { AssetLoader } from \"./engine/AssetLoader\";\n\n/**\n * We need some global variables so we can load the game and the assets. Let's\n * consider moving the F_LOADER to it's own class so we don't need a global for\n * the assets.\n */\ndeclare global {\n  interface Window {\n    F_LOADER: AssetLoader;\n  }\n}\n\n/**\n * Create a new instance of FiendGame, which loads the game.\n */\nfunction init() {\n\n  // Init functionality, for now.\n  new FiendGame(640, 480);\n  // Focus the game pane on page load.\n  document.getElementById('game-pane').focus();\n};\n\n/**\n * Ensure the assets are loaded before we initialize the game. We do this with a\n * promise to ensure all the images are loaded and ready to be used.\n * TODO Make this better, more TypeScript-y.\n */\n window.onload = function() {\n\n  window.F_LOADER = new AssetLoader();\n  var p = window.F_LOADER.initAssets();\n  Promise.all(p).then( () => {\n    init();\n  });\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXRsYXNlcy9NYXBCYXNlLnRzIiwic3JjL2F0bGFzZXMvT3ZlcndvcmxkLnRzIiwic3JjL2VuZ2luZS9Bc3NldExvYWRlci50cyIsInNyYy9lbmdpbmUvQ29tbWFuZC9Db21tYW5kLnRzIiwic3JjL2VuZ2luZS9Db21tYW5kL01vdmVFYXN0Q29tbWFuZC50cyIsInNyYy9lbmdpbmUvQ29tbWFuZC9Nb3ZlTm9ydGhDb21tYW5kLnRzIiwic3JjL2VuZ2luZS9Db21tYW5kL01vdmVTb3V0aENvbW1hbmQudHMiLCJzcmMvZW5naW5lL0NvbW1hbmQvTW92ZVdlc3RDb21tYW5kLnRzIiwic3JjL2VuZ2luZS9Db21tYW5kL051bGxDb21tYW5kLnRzIiwic3JjL2VuZ2luZS9Db21tYW5kL2luZGV4LnRzIiwic3JjL2VuZ2luZS9Db21wb25lbnQvQ29tcG9uZW50LnRzIiwic3JjL2VuZ2luZS9Db21wb25lbnQvRXZlbnRDb21wb25lbnQudHMiLCJzcmMvZW5naW5lL0NvbXBvbmVudC9MaWZlZm9yY2VDb21wb25lbnQudHMiLCJzcmMvZW5naW5lL0NvbXBvbmVudC9Nb3ZlbWVudENvbXBvbmVudC50cyIsInNyYy9lbmdpbmUvQ29tcG9uZW50L2luZGV4LnRzIiwic3JjL2VuZ2luZS9FdmVudC9QbGF5ZXJEZWF0aEV2ZW50LnRzIiwic3JjL2VuZ2luZS9FdmVudC9pbmRleC50cyIsInNyYy9lbmdpbmUvRmllbmRHYW1lLnRzIiwic3JjL2VuZ2luZS9HYW1lT2JqZWN0L0dhbWVBY3Rvci9BY3RvckZhY3RvcnkvQWN0b3JGYWN0b3J5LnRzIiwic3JjL2VuZ2luZS9HYW1lT2JqZWN0L0dhbWVBY3Rvci9BY3RvckZhY3RvcnkvT3JkaW5hcnlGb2xrRmFjdG9yeS50cyIsInNyYy9lbmdpbmUvR2FtZU9iamVjdC9HYW1lQWN0b3IvQWN0b3JGYWN0b3J5L1BsYXllckZhY3RvcnkudHMiLCJzcmMvZW5naW5lL0dhbWVPYmplY3QvR2FtZUFjdG9yL0dhbWVBY3Rvci50cyIsInNyYy9lbmdpbmUvR2FtZU9iamVjdC9HYW1lQWN0b3IvTnBjLnRzIiwic3JjL2VuZ2luZS9HYW1lT2JqZWN0L0dhbWVBY3Rvci9PcmRpbmFyeUZvbGsudHMiLCJzcmMvZW5naW5lL0dhbWVPYmplY3QvR2FtZUFjdG9yL1BsYXllci50cyIsInNyYy9lbmdpbmUvR2FtZU9iamVjdC9HYW1lT2JqZWN0LnRzIiwic3JjL2VuZ2luZS9HYW1lT2JqZWN0L2luZGV4LnRzIiwic3JjL2VuZ2luZS9JbnB1dC9JbnB1dEhhbmRsZXIudHMiLCJzcmMvZW5naW5lL1JlbmRlci9DYW1lcmEvQ2FtZXJhLnRzIiwic3JjL2VuZ2luZS9SZW5kZXIvUmVuZGVyZXIudHMiLCJzcmMvZW5naW5lL2RldmVsb3BtZW50L3NhbmRib3gudHMiLCJzcmMvbWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7SUNBYSxPOzs7QUFPWCxxQkFBQTtBQUFBOztBQUNFLFNBQUssSUFBTCxHQUFZLENBQVo7QUFDQSxTQUFLLElBQUwsR0FBWSxDQUFaO0FBQ0EsU0FBSyxLQUFMLEdBQWEsQ0FBYjtBQUNBLFNBQUssS0FBTCxHQUFhLElBQWI7QUFDRDtBQUVEOzs7Ozs7Ozs7Ozs7NEJBUVEsQyxFQUFXLEMsRUFBUztBQUMxQixVQUNFLEtBQUssSUFBTCxLQUFjLENBQWQsSUFDRyxLQUFLLElBQUwsS0FBYyxDQURqQixJQUVHLEtBQUssS0FBTCxLQUFlLENBSHBCLEVBSUU7QUFDQSxjQUFNLElBQUksS0FBSixDQUFVLDJDQUFWLENBQU47QUFDRDs7QUFFRCxhQUFPLEtBQUssS0FBTCxDQUFXLENBQUMsR0FBRyxLQUFLLElBQVQsR0FBZ0IsQ0FBM0IsQ0FBUDtBQUNEOzs7Ozs7Ozs7Ozs7Ozs7O0FDaENIOzs7Ozs7Ozs7Ozs7Ozs7O0lBRWEsUzs7Ozs7QUFRWCx1QkFBQTtBQUFBOztBQUFBOztBQUNFO0FBRUE7Ozs7O0FBSUEsVUFBSyxF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K0I7QUFBQyxNQUFBLENBQUMsRUFBQyxHQUFIO0FBQU8sTUFBQSxDQUFDLEVBQUM7QUFBVCxLQUEvQixDQUhxQixDQUF2QixDQVRGLENBZUU7O0FBQ0EsSUFBQSxRQUFRLENBQUMsY0FBVCxDQUF3QixXQUF4QixFQUFxQyxnQkFBckMsQ0FDRSxhQURGLEVBRUUsVUFBQyxLQUFEO0FBQUEsYUFBd0IsS0FBSSxDQUFDLDJCQUFMLENBQWlDLEtBQWpDLENBQXhCO0FBQUEsS0FGRixFQUdFLEtBSEY7QUFPRDs7OzsyQkFFYSxLLEVBQWEsQ0FDMUI7OztnREFFa0MsSyxFQUFrQjtBQUNuRCxNQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksc0JBQVosRUFBb0MsS0FBSyxDQUFDLE1BQU4sQ0FBYSxLQUFqRDtBQUNEOzs7Ozs7Ozs7OztBQ3BGSDs7QUFDQTs7QUFhQTs7O0FBR0EsU0FBUyxJQUFULEdBQWE7QUFFWDtBQUNBLE1BQUksb0JBQUosQ0FBYyxHQUFkLEVBQW1CLEdBQW5CLEVBSFcsQ0FJWDs7QUFDQSxFQUFBLFFBQVEsQ0FBQyxjQUFULENBQXdCLFdBQXhCLEVBQXFDLEtBQXJDO0FBQ0Q7O0FBQUE7QUFFRDs7Ozs7O0FBS0MsTUFBTSxDQUFDLE1BQVAsR0FBZ0IsWUFBQTtBQUVmLEVBQUEsTUFBTSxDQUFDLFFBQVAsR0FBa0IsSUFBSSx3QkFBSixFQUFsQjtBQUNBLE1BQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxRQUFQLENBQWdCLFVBQWhCLEVBQVI7QUFDQSxFQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksQ0FBWixFQUFlLElBQWYsQ0FBcUIsWUFBSztBQUN4QixJQUFBLElBQUk7QUFDTCxHQUZEO0FBR0QsQ0FQQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImV4cG9ydCBjbGFzcyBNYXBCYXNlIHtcbiAgU006IEhUTUxJbWFnZUVsZW1lbnQ7XG4gIGNvbHM6IG51bWJlcjtcbiAgcm93czogbnVtYmVyO1xuICB0c2l6ZTogbnVtYmVyO1xuICB0aWxlczogQXJyYXk8YW55PjtcbiAgXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29scyA9IDA7XG4gICAgdGhpcy5yb3dzID0gMDtcbiAgICB0aGlzLnRzaXplID0gMDtcbiAgICB0aGlzLnRpbGVzID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB0aWxlIHZhbHVlIGxvY2F0ZWQgYnkgdGhlIGNvbHVtbiBhbmQgcm93ICh4LHkpIGNvb3JkaW5hdGVzLlxuICAgKiBUaGlzIGlzIHRyaXZpYWwgd2l0aCBhIDJEIGFycmF5LCBidXQgdGhpcyBtZXRob2QgYWxsb3dzIHVzIHRvIHVzZSBhIDFEXG4gICAqIGFycmF5IGluc3RlYWQuXG4gICAqXG4gICAqIEBwYXJhbSB7aW50ZWdlcn0geCAgIFRoZSB4LWF4aXMgcG9zaXRpb24gb2YgdGhlIHJlcXVlc3RlZCB0aWxlLlxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHkgICBUaGUgeS1heGlzIHBvc2l0aW9uIG9mIHRoZSByZXF1ZXN0ZWQgdGlsZS5cbiAgICovXG4gIGdldFRpbGUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGlmIChcbiAgICAgIHRoaXMuY29scyA9PT0gMFxuICAgICAgfHwgdGhpcy5yb3dzID09PSAwXG4gICAgICB8fCB0aGlzLnRzaXplID09PSAwXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYXAgc2l6ZSBuZWVkcyB0byBoYXZlIHByb3BlciBkaW1lbnNpb25zLlwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy50aWxlc1t5ICogdGhpcy5jb2xzICsgeF07XG4gIH1cbn1cbiIsImltcG9ydCB7IE1hcEJhc2UgfSBmcm9tIFwiLi9NYXBCYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBPdmVyd29ybGQgZXh0ZW5kcyBNYXBCYXNlIHtcbiAgU006IEhUTUxJbWFnZUVsZW1lbnQ7XG4gIHRpbGVzOiBBcnJheTxhbnk+O1xuICBsYXllcnM6IEFycmF5PGFueT47XG4gIGNvbHM6IG51bWJlcjtcbiAgcm93czogbnVtYmVyO1xuICB0c2l6ZTogbnVtYmVyO1xuICBcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzcHJpdGVtYXAgdG8gYmUgdXNlZC5cbiAgICAgKiBAdmFyIHtIVE1MSW1hZ2VFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuU00gPSB3aW5kb3cuRl9MT0FERVIuZ2V0SW1hZ2UoJ1RFU1ROVU1CRVJFRCcpO1xuXG4gICAgdGhpcy5jb2xzID0gMjA7XG4gICAgdGhpcy5yb3dzID0gMTU7XG4gICAgdGhpcy50c2l6ZSA9IDMwMDtcbiAgICB0aGlzLnRpbGVzID0gW1xuICAgICAgICAxLCAgMiwgIDMsICA0LCAgNSwgIDYsICA3LCAgOCwgIDksIDEwLCAxMSwgMTIsIDEzLCAxNCwgMTUsIDE2LCAxNywgMTgsIDE5LCAyMCxcbiAgICAgICAyMSwgIDIsICAxLCAgMSwgIDEsICAxLCAgMSwgIDEsICAxLCAgMSwgIDEsICAxLCAgMSwgIDEsICAxLCAgMSwgIDEsICAxLCAgMSwgIDEsXG4gICAgICAgIDgsICA4LCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLFxuICAgICAgICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCxcbiAgICAgICAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsXG4gICAgICAgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgNSwgIDUsICA1LCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLFxuICAgICAgICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDUsICAwLCAgNSwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCxcbiAgICAgICAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICA1LCAgNSwgIDUsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsXG4gICAgICAgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLFxuICAgICAgICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCxcbiAgICAgICAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsXG4gICAgICAgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLFxuICAgICAgICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCxcbiAgICAgICAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsXG4gICAgICAgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsIDEwLFxuICAgIF07XG4gICAgdGhpcy5sYXllcnMgPSBbXG4gICAgICBbXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICBdLCBbXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICBdXG4gICAgXVxuICB9XG5cbn1cbiIsImV4cG9ydCBjbGFzcyBBc3NldExvYWRlciB7XG4gIHByaXZhdGUgX2Fzc2V0TGlzdDogQXJyYXk8YW55PjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9hc3NldExpc3QgPSBbXTtcbiAgfVxuXG4gIHB1YmxpYyBpbml0QXNzZXRzKCk6IEFycmF5PGFueT4ge1xuICAgIHJldHVybiBbXG4gICAgICB0aGlzLmxvYWRJbWFnZShcInRlc3RUaWxlc2V0XCIsIFwiLi9EQVQvMWJpdHRlc3QucG5nXCIpLFxuICAgICAgdGhpcy5sb2FkSW1hZ2UoXCJ0ZXN0VGlsZXNldDJcIiwgXCIuL0RBVC9wc3ljaGljLXN3YW1wLnBuZ1wiKSxcbiAgICAgIHRoaXMubG9hZEltYWdlKFwiVEVTVE9SSUdcIiwgXCIuL0RBVC9sb3ctcmVzLXNwcml0ZXNoZWV0LnBuZ1wiKSxcbiAgICAgIHRoaXMubG9hZEltYWdlKFwiVEVTVE5VTUJFUkVEXCIsIFwiLi9EQVQvcGl4ZWxfYXJ0X3RpbGVzZXRfdGVzdC5wbmdcIiksXG4gICAgXTtcbiAgfVxuXG4gIHB1YmxpYyBsb2FkSW1hZ2Uoa2V5OiBzdHJpbmcsIHNyYzogc3RyaW5nKSB7XG4gICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xuXG4gICAgbGV0IGQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9hc3NldExpc3Rba2V5XSA9IGltZztcbiAgICAgICAgcmVzb2x2ZShpbWcpO1xuICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVqZWN0KCdDb3VsZCBub3QgbG9hZCBpbWFnZTogJyArIHNyYyk7XG4gICAgICB9O1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIFxuICAgIGltZy5zcmMgPSBzcmM7XG4gIFxuICAgIHJldHVybiBkO1xuICB9XG5cbiAgcHVibGljIGdldEltYWdlKGtleTogc3RyaW5nKTogSFRNTEltYWdlRWxlbWVudCB7XG4gICAgcmV0dXJuIChrZXkgaW4gdGhpcy5fYXNzZXRMaXN0KSA/IHRoaXMuX2Fzc2V0TGlzdFtrZXldIDogbnVsbDtcbiAgfTtcbn0iLCJpbXBvcnQgeyBHYW1lQWN0b3IgfSBmcm9tIFwiLi4vR2FtZU9iamVjdFwiO1xuXG4vKipcbiAqIFRoZSBDb21tYW5kIGNsYXNzLlxuICogQGFic3RyYWN0XG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb21tYW5kIHtcblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIGNvbW1hbmQuXG4gICAqXG4gICAqIEBwYXJhbSBhY3RvciBUaGUgR2FtZUFjdG9yIHRvIGNvbW1hbmQuXG4gICAqIEBwYXJhbSBkZWx0YSBUaGUgZ2FtZSdzIGRlbHRhIGJldHdlZW4gZnJhbWVzLlxuICAgKi9cbiAgcHVibGljIGFic3RyYWN0IGV4ZWN1dGUoYWN0b3I6IEdhbWVBY3RvciwgZGVsdGE6IG51bWJlcik6IHZvaWQ7XG59XG4iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSBcIi4vQ29tbWFuZFwiO1xuaW1wb3J0IHsgR2FtZUFjdG9yIH0gZnJvbSBcIi4uL0dhbWVPYmplY3RcIjtcblxuLyoqXG4gKiBUaGUgTW92ZUVhc3RDb21tYW5kIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgTW92ZUVhc3RDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSBjb21tYW5kLlxuICAgKlxuICAgKiBAcGFyYW0gYWN0b3IgVGhlIEdhbWVBY3RvciB0byBjb21tYW5kLlxuICAgKiBAcGFyYW0gZGVsdGEgVGhlIGdhbWUncyBkZWx0YSBiZXR3ZWVuIGZyYW1lcy5cbiAgICovXG4gIHB1YmxpYyBleGVjdXRlKGFjdG9yOiBHYW1lQWN0b3IsIGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICBhY3Rvci5tb3ZlRShkZWx0YSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tIFwiLi9Db21tYW5kXCI7XG5pbXBvcnQgeyBHYW1lQWN0b3IgfSBmcm9tIFwiLi4vR2FtZU9iamVjdFwiO1xuXG4vKipcbiAqIFRoZSBNb3ZlTm9ydGhDb21tYW5kIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgTW92ZU5vcnRoQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgY29tbWFuZC5cbiAgICpcbiAgICogQHBhcmFtIGFjdG9yIFRoZSBHYW1lQWN0b3IgdG8gY29tbWFuZC5cbiAgICogQHBhcmFtIGRlbHRhIFRoZSBnYW1lJ3MgZGVsdGEgYmV0d2VlbiBmcmFtZXMuXG4gICAqL1xuICBwdWJsaWMgZXhlY3V0ZShhY3RvcjogR2FtZUFjdG9yLCBkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgYWN0b3IubW92ZU4oZGVsdGEpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSBcIi4vQ29tbWFuZFwiO1xuaW1wb3J0IHsgR2FtZUFjdG9yIH0gZnJvbSBcIi4uL0dhbWVPYmplY3RcIjtcblxuLyoqXG4gKiBUaGUgTW92ZVNvdXRoQ29tbWFuZCBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vdmVTb3V0aENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIGNvbW1hbmQuXG4gICAqXG4gICAqIEBwYXJhbSBhY3RvciBUaGUgR2FtZUFjdG9yIHRvIGNvbW1hbmQuXG4gICAqIEBwYXJhbSBkZWx0YSBUaGUgZ2FtZSdzIGRlbHRhIGJldHdlZW4gZnJhbWVzLlxuICAgKi9cbiAgcHVibGljIGV4ZWN1dGUoYWN0b3I6IEdhbWVBY3RvciwgZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgIGFjdG9yLm1vdmVTKGRlbHRhKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gXCIuL0NvbW1hbmRcIjtcbmltcG9ydCB7IEdhbWVBY3RvciB9IGZyb20gXCIuLi9HYW1lT2JqZWN0XCI7XG5cbi8qKlxuICogVGhlIE1vdmVXZXN0Q29tbWFuZCBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vdmVXZXN0Q29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgY29tbWFuZC5cbiAgICpcbiAgICogQHBhcmFtIGFjdG9yIFRoZSBHYW1lQWN0b3IgdG8gY29tbWFuZC5cbiAgICogQHBhcmFtIGRlbHRhIFRoZSBnYW1lJ3MgZGVsdGEgYmV0d2VlbiBmcmFtZXMuXG4gICAqL1xuICBwdWJsaWMgZXhlY3V0ZShhY3RvcjogR2FtZUFjdG9yLCBkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgYWN0b3IubW92ZVcoZGVsdGEpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSBcIi4vQ29tbWFuZFwiO1xuXG4vKipcbiAqIFRoZSBOdWxsQ29tbWFuZCBjbGFzcy5cbiAqIFRoaXMgY2xhc3MgaXMgc3BlY2lhbCBpbiB0aGF0IGl0IGludGVudGlvbmFsbHkgZG9lc24ndCBleGVjdXRlIGFueXRoaW5nLCBpblxuICogc28gaWYgYSB1c2VyIGRvZXNuJ3QgaGF2ZSBhIG1hcHBlZCBidXR0b24sIHdlIGRvbid0IGhhdmUgdG8gY2hlY2sgZm8gYG51bGxgLlxuICovXG5leHBvcnQgY2xhc3MgTnVsbENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIGNvbW1hbmQuXG4gICAqL1xuICBwdWJsaWMgZXhlY3V0ZSgpOiB2b2lkIHt9XG59XG4iLCIvKipcbiAqIEBmaWxlIFRoZSBDb21tYW5kIEJhcnJlbC4gUmUtZXhwb3J0cyBDb21tYW5kIGZpbGVzIGZvciBlYXNpZXIgaW1wb3J0XG4gKiBlbHNld2hlcmUuXG4gKiBAc2VlIEBsaW5rIGh0dHBzOi8vYmFzYXJhdC5naXRib29rcy5pby90eXBlc2NyaXB0L2RvY3MvdGlwcy9iYXJyZWwuaHRtbFxuICovXG5cbi8qKlxuICogVGhlIGJhc2UgY29tbWFuZCBjbGFzcy5cbiAqL1xuZXhwb3J0ICogZnJvbSAnLi9Db21tYW5kJztcblxuZXhwb3J0ICogZnJvbSAnLi9OdWxsQ29tbWFuZCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vTW92ZU5vcnRoQ29tbWFuZCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vTW92ZVNvdXRoQ29tbWFuZCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vTW92ZUVhc3RDb21tYW5kJztcblxuZXhwb3J0ICogZnJvbSAnLi9Nb3ZlV2VzdENvbW1hbmQnO1xuXG4iLCIvKipcbiAqIFRoZSBDb21wb25lbnQgaW50ZXJmYWNlLlxuICovXG5pbnRlcmZhY2UgSUNvbXBvbmVudCB7fVxuXG4vKipcbiAqIFRoZSBDb21wb25lbnQgY2xhc3NcbiAqIEBhYnN0cmFjdFxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29tcG9uZW50IHtcblxuICAvKipcbiAgICogQHZhciB0eXBlSWQgVGhlIHR5cGUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIHByb3RlY3RlZCB0eXBlSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQWNjZXNzb3IgZm9yIHRoZSBwcml2YXRlIG1lbWJlciBgdHlwZUlkYC5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIHR5cGUgaWQgdGhlIENvbXBvbmVudC5cbiAgICovXG4gIHB1YmxpYyBnZXRUeXBlSWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy50eXBlSWQ7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgRXZlbnRDb250YWluZXIgfSBmcm9tIFwiLi4vdHlwZXMvZ2xvYmFsc1wiO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi9Db21wb25lbnQnO1xuXG4vKipcbiAqIFRoZSBFdmVudENvbXBvbmVudCBpbnRlcmZhY2UuXG4gKi9cbiBpbnRlcmZhY2UgSUV2ZW50Q29tcG9uZW50IHtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgRVM2IEV2ZW50cyBvciBDdXN0b21FdmVudHMgdGhhdCBjYW4gYmUgZW1pdHRlZC5cbiAgICovXG4gIGF0dGFjaGVkRXZlbnRzOiBFdmVudENvbnRhaW5lcjtcblxuICAvKipcbiAgICogQWRkcyBET00gRXZlbnRzIHRvIHRoaXMgY29tcG9uZW50IHZpYSBhbiBhcnJheSBvZiBldmVudHMuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudHMgVGhlIGFycmF5IG9mIGV2ZW50cyB0byBhZGQuXG4gICAqL1xuICBhdHRhY2hNdWx0aXBsZShldmVudExpc3Q6IEFycmF5PEV2ZW50fEN1c3RvbUV2ZW50Pik6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIGEgc2luZ2xlIGV2ZW50IHRvIHRoaXMgY29tcG9uZW50LiBBdHRhY2hlZCBjb21wb25lbnRzIGNhbiBiZVxuICAgKiBlbWl0dGVkLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgQW4gYEV2ZW50YCBvciBgQ3VzdG9tRXZlbnRgIHRoYXQgdGhpcyBFdmVudENvbXBvbmVudCBrbm93c1xuICAgKiBhYm91dC5cbiAgICovXG4gIGF0dGFjaChldmVudDogRXZlbnR8Q3VzdG9tRXZlbnQpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBFbWl0cyBhbiBldmVudCB2aWEgdGhlIGBnYW1lLXBhbmVgIERPTSBlbGVtZW50LiBVc2VzIHRoZSBzdHJpbmcgbmFtZSBvZiB0aGVcbiAgICogZXZlbnQgdG8gbG9va3VwIGlmIGl0J3MgaW4gdGhlIGF0dGFjaGVkRXZlbnQgbWVtYmVyLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBldmVudCB0byBlbWl0LlxuICAgKi9cbiAgZW1pdChldmVudE5hbWU6IHN0cmluZyk6IHZvaWQ7XG59XG5cbi8qKlxuICogVGhlIEV2ZW50Q29tcG9uZW50IGNsYXNzLlxuICogQGltcGxlbWVudHMgW1tJRXZlbnRDb21wb25lbnRdXVxuICovXG5leHBvcnQgY2xhc3MgRXZlbnRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQgaW1wbGVtZW50cyBJRXZlbnRDb21wb25lbnQge1xuXG4gIC8qKlxuICAgKiBAdmFyIGF0dGFjaGVkRXZlbnRzIFRoZSBsaXN0IG9mIGV2ZW50cyB0aGF0IGNhbiBiZSBlbWl0dGVkLlxuICAgKi9cbiAgcHVibGljIGF0dGFjaGVkRXZlbnRzOiBFdmVudENvbnRhaW5lcjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMudHlwZUlkID0gXCJFdmVudENvbXBvbmVudFwiO1xuXG4gICAgLy8gV2UgbmVlZCB0byBkZWNsYXJlIHRoaXMgYXMgYW4gb2JqZWN0IG90aGVyd2lzZSB3ZSBnZXQgYSByZWZlcmVuY2UgZXJyb3JcbiAgICAvLyB3aGVuIHdlIHRyeSBhbmQgYXNzaWduIGV2ZW50cyB0byBpdCBpbiB0aGUgYGF0dGFjaGAgYW5kIGBhdHRhY2hNdWx0aXBsZWBcbiAgICAvLyBtZXRob2RzLlxuICAgIHRoaXMuYXR0YWNoZWRFdmVudHMgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyBhIHNpbmdsZSBldmVudCB0byB0aGlzIGNvbXBvbmVudC4gQXR0YWNoZWQgY29tcG9uZW50cyBjYW4gYmVcbiAgICogZW1pdHRlZC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IEFuIGBFdmVudGAgb3IgYEN1c3RvbUV2ZW50YCB0aGF0IHRoaXMgRXZlbnRDb21wb25lbnQga25vd3NcbiAgICogYWJvdXQuXG4gICAqL1xuICBwdWJsaWMgYXR0YWNoKGV2ZW50OiBFdmVudHxDdXN0b21FdmVudCk6IHZvaWQge1xuICAgIHRoaXMuYXR0YWNoZWRFdmVudHNbZXZlbnQudHlwZV0gPSBldmVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIERPTSBFdmVudHMgdG8gdGhpcyBjb21wb25lbnQgdmlhIGFuIGFycmF5IG9mIGV2ZW50cy5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50cyBUaGUgYXJyYXkgb2YgZXZlbnRzIHRvIGFkZC5cbiAgICovXG4gIHB1YmxpYyBhdHRhY2hNdWx0aXBsZShldmVudExpc3Q6IEFycmF5PEV2ZW50fEN1c3RvbUV2ZW50Pik6IHZvaWQge1xuICAgIGZvciAobGV0IGV2ZW50IG9mIGV2ZW50TGlzdCkge1xuICAgICAgdGhpcy5hdHRhY2goZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0cyBhbiBldmVudCB2aWEgdGhlIGBnYW1lLXBhbmVgIERPTSBlbGVtZW50LiBVc2VzIHRoZSBzdHJpbmcgbmFtZSBvZiB0aGVcbiAgICogZXZlbnQgdG8gbG9va3VwIGlmIGl0J3MgaW4gdGhlIGF0dGFjaGVkRXZlbnQgbWVtYmVyLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBldmVudCB0byBlbWl0LlxuICAgKi9cbiAgcHVibGljIGVtaXQoZXZlbnROYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1wYW5lJylcbiAgICAgIC5kaXNwYXRjaEV2ZW50KHRoaXMuYXR0YWNoZWRFdmVudHNbZXZlbnROYW1lXSk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgR2FtZU9iamVjdCB9IGZyb20gJy4uL0dhbWVPYmplY3QvR2FtZU9iamVjdCc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XG5cbi8qKlxuICogVGhlIExpZmVmb3JjZSBjb21wb25lbnQuIEFkZHMgaGVhbHRoIHRvIGEgR2FtZU9iamVjdC4gQWRkcyBsaWZlLCBoZWFsdGhcbiAqIHJlZ2VuZXJhdGlvbiwgYW5kIGRlYXRoLlxuICpcbiAqIFRoaXMgY29tcG9uZW50IGlzIHJlcXVpcmVkIGZvciBlbnRpdGllcyB0byBiZSBhbGl2ZSBvciBkZWFkLCBhcyB3ZWxsIGFzIHRha2VcbiAqIGRhbWFnZS5cbiAqXG4gKiBAZXh0ZW5kcyBbW0NvbXBvbmVudF1dXG4gKi9cbmV4cG9ydCBjbGFzcyBMaWZlZm9yY2VDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQgaW1wbGVtZW50cyBDb21wb25lbnQge1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBIUCBvZiB0aGUgR2FtZU9iamVjdC5cbiAgICovXG4gIHByaXZhdGUgY3VycmVudEhQOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIEhQIG9mIHRoZSBHYW1lT2JqZWN0LlxuICAgKi9cbiAgcHJpdmF0ZSBtYXhIUDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy50eXBlSWQgPSBcIkxpZmVmb3JjZUNvbXBvbmVudFwiO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBpcyBpbnRlbmRlZCB0byBiZSBydW4gb25jZSBwZXIgZnJhbWUuXG4gICAqXG4gICAqIEBwYXJhbSBHTyBUaGUgR2FtZU9iamVjdCB0aGlzIGNvbXBvbmVudCBiZWxvbmdzIHRvLlxuICAgKi9cbiAgcHVibGljIHVwZGF0ZShHTzogR2FtZU9iamVjdCk6IHZvaWQge31cblxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5pbXBvcnQgeyBHYW1lQWN0b3IgfSBmcm9tIFwiLi4vR2FtZU9iamVjdFwiO1xuXG4vKipcbiAqIFRoZSBNb3ZlbWVudCBjb21wb25lbnQuIEFkZHMgbW92ZW1lbnQgdG8gYSBHYW1lT2JqZWN0LlxuICpcbiAqIFRoaXMgY29tcG9uZW50IGlzIHJlcXVpcmVkIGZvciBlbnRpdGllcyB0byBiZSBhYmxlIHRvIG1vdmUgYXJvdW5kIHRoZSB3b3JsZC5cbiAqXG4gKiBAZXh0ZW5kcyBbW0NvbXBvbmVudF1dXG4gKi9cbmV4cG9ydCBjbGFzcyBNb3ZlbWVudENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG5cbiAgLyoqXG4gICAqIFRoZSBzcGVlZCBhdCB3aGljaCB0aGUgR2FtZU9iamVjdCBjYW4gbW92ZS5cbiAgICovXG4gIHB1YmxpYyBzcGVlZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy50eXBlSWQgPSBcIk1vdmVtZW50Q29tcG9uZW50XCI7XG5cbiAgICB0aGlzLnNwZWVkID0gMTAwO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdGhlIEFjdG9yIG5vcnRoLlxuICAgKiBAcGFyYW0gZGVsdGEgVGhlIGdhbWUncyBkZWx0YSBiZXR3ZWVuIGZyYW1lcy5cbiAgICovXG4gICBwdWJsaWMgbW92ZU4oYWN0b3I6IEdhbWVBY3RvciwgZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgIC8vIERlY3JlbWVudGluZyB7eX0gbWFrZXMgdGhlIGFjdG9yIG1vdmUgc291dGgsIHNpbmNlIHdlJ3JlIGRlYWxpbmcgd2l0aCBhXG4gICAgLy8gMkQgYXJyYXkgYW5kIG5vdCBhbiBhY3R1YWwgbWF0aGVtYXRpY2FsIGdyaWQgcGxhbmUuXG4gICAgYWN0b3IucG9zaXRpb24ueSAtPSB0aGlzLnNwZWVkICogZGVsdGE7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0aGUgQWN0b3Igc291dGguXG4gICAqXG4gICAqIEBwYXJhbSBkZWx0YSBUaGUgZ2FtZSdzIGRlbHRhIGJldHdlZW4gZnJhbWVzLlxuICAgKi9cbiAgcHVibGljIG1vdmVTKGFjdG9yOiBHYW1lQWN0b3IsIGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBJbmNyZWFzaW5nIHt5fSBtYWtlcyB0aGUgYWN0b3IgbW92ZSBzb3V0aCwgc2luY2Ugd2UncmUgZGVhbGluZyB3aXRoIGEgMkRcbiAgICAvLyBhcnJheSBhbmQgbm90IGFuIGFjdHVhbCBtYXRoZW1hdGljYWwgZ3JpZCBwbGFuZS5cbiAgICBhY3Rvci5wb3NpdGlvbi55ICs9IHRoaXMuc3BlZWQgKiBkZWx0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRoZSBBY3RvciBlYXN0LlxuICAgKlxuICAgKiBAcGFyYW0gZGVsdGEgVGhlIGdhbWUncyBkZWx0YSBiZXR3ZWVuIGZyYW1lcy5cbiAgICovXG4gIHB1YmxpYyBtb3ZlRShhY3RvcjogR2FtZUFjdG9yLCBkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgYWN0b3IucG9zaXRpb24ueCArPSB0aGlzLnNwZWVkICogZGVsdGE7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0aGUgQWN0b3Igd2VzdC5cbiAgICpcbiAgICogQHBhcmFtIGRlbHRhIFRoZSBnYW1lJ3MgZGVsdGEgYmV0d2VlbiBmcmFtZXMuXG4gICAqL1xuICBwdWJsaWMgbW92ZVcoYWN0b3I6IEdhbWVBY3RvciwgZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgIGFjdG9yLnBvc2l0aW9uLnggLT0gdGhpcy5zcGVlZCAqIGRlbHRhO1xuICB9XG5cbn1cbiIsIi8qKlxuICogQGZpbGUgVGhlIENvbXBvbmVudCBCYXJyZWwuIFJlLWV4cG9ydHMgQ29tcG9uZW50IGZpbGVzIGZvciBlYXNpZXIgaW1wb3J0XG4gKiBlbHNld2hlcmUuXG4gKiBAc2VlIEBsaW5rIGh0dHBzOi8vYmFzYXJhdC5naXRib29rcy5pby90eXBlc2NyaXB0L2RvY3MvdGlwcy9iYXJyZWwuaHRtbFxuICovXG5cbi8qKlxuICogUHJvZ2VuaXRvciBjbGFzc2VzIGZvciBhbGwgQ29tcG9uZW50IGNsYXNzZXMgaW4gdGhlIGdhbWUuXG4gKi9cbmV4cG9ydCAqIGZyb20gJy4vQ29tcG9uZW50JztcblxuLyoqXG4gKiBUaGUgRXZlbnQgY29tcG9uZW50LiBBbGxvd3MgYW4gZW50aXkgdG8gZW1pdCBhbmQvb3IgbGlzdGVuIGZvciBldmVudHMuXG4gKi9cbiBleHBvcnQgKiBmcm9tICcuL0V2ZW50Q29tcG9uZW50JztcblxuLyoqXG4gKiBUaGUgTGlmZWZvcmNlIGNvbXBvbmVudC4gQWRkcyBoZWFsdGggYW5kIGFsbCB0aGF0IGNvbWVzIHdpdGggaXQgd2hlbiBhdHRhY2hlZFxuICogdG8gYW4gZW50aXR5LlxuICovXG5leHBvcnQgKiBmcm9tICcuL0xpZmVmb3JjZUNvbXBvbmVudCc7XG5cbi8qKlxuICogVGhlIE1vdmVtZW50IGNvbXBvbmVudC4gQWRkcyBtb3ZlbWVudCB0byBhIEdhbWVPYmplY3QuXG4gKi9cbiBleHBvcnQgKiBmcm9tICcuL01vdmVtZW50Q29tcG9uZW50JztcbiIsImltcG9ydCB7IEdhbWVPYmplY3QgfSBmcm9tICcuLi9HYW1lT2JqZWN0JztcblxuLyoqXG4gKiBUaGUgUGxheWVyRGVhdGhFdmVudCBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFBsYXllckRlYXRoRXZlbnQge1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIG5hdGl2ZSBFUzYgQ3VzdG9tRXZlbnQuIFtbQ3VzdG9tRXZlbnRdXSBhbGxvd3MgdGhlIGF0dGFjaG1lbnRcbiAgICogb2YgZGF0YSB2aWEgdGhlIGBDdXN0b21FdmVudEluaXRgIGRpY3Rpb25hcnkuXG4gICAqXG4gICAqIEBwYXJhbSBwbGF5ZXIgVGhlIHBsYXllciBHYW1lT2JqZWN0LlxuICAgKlxuICAgKiBAZW1pdHMgYHBsYXllcl9kaWVkYFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBjcmVhdGUocGxheWVyOiBHYW1lT2JqZWN0KTogQ3VzdG9tRXZlbnQge1xuXG4gICAgbGV0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdwbGF5ZXJfZGllZCcsIHtcbiAgICAgIGRldGFpbDoge1xuICAgICAgICAnZ29faWQnOiBwbGF5ZXIuZ2V0SWQoKSxcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBldmVudDtcbiAgfVxufVxuIiwiLyoqXG4gKiBAZmlsZSBUaGUgRXZlbnQgQmFycmVsLiBSZS1leHBvcnRzIEV2ZW50IGZpbGVzIGZvciBlYXNpZXIgaW1wb3J0IGVsc2V3aGVyZS5cbiAqIEBzZWUgQGxpbmsgaHR0cHM6Ly9iYXNhcmF0LmdpdGJvb2tzLmlvL3R5cGVzY3JpcHQvZG9jcy90aXBzL2JhcnJlbC5odG1sXG4gKi9cblxuLyoqXG4gKiBQcm9nZW5pdG9yIGNsYXNzZXMgZm9yIGFsbCBlbnRpdGllcyBpbiB0aGUgZ2FtZS5cbiAqL1xuIGV4cG9ydCAqIGZyb20gJy4vUGxheWVyRGVhdGhFdmVudCc7XG4iLCJpbXBvcnQgeyBJbnB1dEhhbmRsZXIgfSBmcm9tIFwiLi9JbnB1dC9JbnB1dEhhbmRsZXJcIjtcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gXCIuL1JlbmRlci9DYW1lcmEvQ2FtZXJhXCI7XG5pbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gXCIuL1JlbmRlci9SZW5kZXJlclwiO1xuXG5pbXBvcnQgeyBTYW5kYm94IH0gZnJvbSBcIi4vZGV2ZWxvcG1lbnQvc2FuZGJveFwiO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vR2FtZU9iamVjdFwiO1xuXG4vKipcbiAqIFRoZSBHYW1lIHN1cGVyY2xhc3MuIE9wZXJhdGlvbnMgdG8gYWN0IHVwb24gdGhlIG1haW4gZ2FtZSB0aHJlYWQgYXJlIGZvdW5kXG4gKiBoZXJlLlxuICovXG5leHBvcnQgY2xhc3MgRmllbmRHYW1lIHtcblxuICAvKipcbiAgICogVGhlIGlucHV0IGhhbmRsZXIgdGhhdCBhY2NlcHRzIHBsYXllciBpbnB1dC5cbiAgICovXG4gIHB1YmxpYyBJbnB1dEhhbmRsZXI6IElucHV0SGFuZGxlcjtcblxuICAvKipcbiAgICogVGhlIHJlbmRlcmVyIHJlc3BvbnNpYmxlIGZvciBkcmF3aW5nIHRvIHRoZSBzY3JlZW4uXG4gICAqL1xuICBwdWJsaWMgUmVuZGVyZXI6IFJlbmRlcmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbWFpbiBjYW1lcmFcbiAgICovXG4gIHB1YmxpYyBDYW1lcmE6IENhbWVyYTtcblxuICAvKipcbiAgICogVGhlIGNhbnZhcyBpbiB0aGUgRE9NLiBXaGF0IHRoZSBnYW1lIGlzIHJlbmRlcmVkIG9uLlxuICAgKi9cbiAgcHVibGljIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgY3VycmVudGx5LWFjdGl2ZSBnYW1lIG9iamVjdHMuXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBwdWJsaWMgZ2FtZU9iamVjdENvdW50OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIGFjdGl2ZSBnYW1lIG9iamVjdHMuIEV2ZXJ5IGdhbWUgb2JqZWN0IGluIHRoaXMgbGlzdCB3aWxsIGhhdmVcbiAgICogdGhlaXIgc3RhdGUgdXBkYXRlZCBldmVyeSBmcmFtZSwgaWYgcG9zc2libGUuXG4gICAqL1xuICBwdWJsaWMgZ2FtZU9iamVjdHM6IEFycmF5PGFueT47XG5cbiAgLyoqXG4gICAqIFRoZSBpbnN0YW5jZSBvZiB0aGUgUGxheWVyJ3MgY2hhcmFjdGVyLlxuICAgKi9cbiAgcHVibGljIFBsYXllcjogUGxheWVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbWF4IGFtb3VudCBvZiBhY3RpdmUgZ2FtZSBvYmplY3RzIHRoYXQgY2FuIGJlIHByZXNlbnQgaW4gdGhlIGdhbWUuXG4gICAqIFRPRE86IEZpZ3VyZSBvdXQgd2hhdCBoYXBwZW5zIGlmIHRoaXMgbGltaXQgaXMgcmVhY2hlZC5cbiAgICogQGludGVybmFsIFRoaXMgY291bGQgYmUgYW4gXCJpbXBvcnRhbmNlIHdlaWdodFwiIHdoZXJlIGxlc3MgaW1wb3J0YW50IGdhbWVcbiAgICogb2JqZWN0cyBhcmUgcHVyZ2VkLlxuICAgKi9cbiAgcHVibGljIG1heEVudGl0aWVzOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBIVE1MIHdyYXBwZXIgZm9yIHRoZSBnYW1lLiBBc3N1bWUgZXZlcnl0aGluZyBpbiB0aGlzIGNvbnRhaW5lciBpcyBwYXJ0XG4gICAqIG9mIHRoZSBnYW1lLlxuICAgKi9cbiAgcHVibGljIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIEhvdyBmcmVxdWVudGx5IHRoZSBnYW1lIHN0YXRlIHVwZGF0ZXMsIGlkZWFsbHkuIERlZmF1bHRzIHRvIDYwIEh6LCAxNi42XG4gICAqIGZyYW1lcy1wZXItc2Vjb25kLlxuICAgKi9cbiAgcHVibGljIHRpY2tMZW5ndGg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIG1vc3QgcmVjZW50bHkgZWxhcHNlZCB0aWNrIG9mIHRoZSBnYW1lIGNsb2NrLlxuICAgKi9cbiAgcHVibGljIGxhc3RGcmFtZVRpbWU6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIElEIHJldHVybmVkIGZyb20gb3VyIG1haW4gbG9vcCdzIG1vc3QgcmVjZW50IGNhbGwgdG9cbiAgICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCkuIFRoZSB0b2tlbiBjYW4gdGhlbiBiZSB1c2VkIHdoZW4gd2UgY2FsbFxuICAgKiBjYW5jZWxBbmltYXRpb25GcmFtZSgpIHRvIHN0b3AgdGhlIG1haW4gbG9vcCBieSB0ZWxsaW5nIHRoZSBicm93c2VyIHRvXG4gICAqIGNhbmNlbCB0aGUgcmVxdWVzdCB0aGF0IGNvcnJlc3BvbmRzIHRvIG91ciB0b2tlbi5cbiAgICovXG4gIHB1YmxpYyBzdG9wVG9rZW46IG51bWJlcnxudWxsO1xuXG4gIC8qKlxuICAgKiBUZXN0aW5nIGdyb3VuZCBmb3IgbmV3IGlkZWFzLlxuICAgKi9cbiAgcHVibGljIHNhbmRib3g6IFNhbmRib3g7XG5cbiAgY29uc3RydWN0b3IoZ2FtZVBhbmVXaWR0aDogbnVtYmVyLCBnYW1lUGFuZUhlaWdodDogbnVtYmVyKSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIGdhbWUgcGFuZSBhbmQgY2FudmFzLlxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzID0gdGhpcy5nZW5DYW52YXMoZ2FtZVBhbmVXaWR0aCwgZ2FtZVBhbmVIZWlnaHQpO1xuICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWVuZC1nYW1lXCIpO1xuICAgIHRoaXMuY29udGFpbmVyLmluc2VydEJlZm9yZSh0aGlzLmNhbnZhcywgdGhpcy5jb250YWluZXIuZmlyc3RDaGlsZCk7XG5cbiAgICB0aGlzLnN0b3BUb2tlbiA9IG51bGw7XG5cbiAgICB0aGlzLnRpY2tMZW5ndGggPSA2MDtcblxuICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IDA7XG5cbiAgICB0aGlzLm1heEVudGl0aWVzID0gMTAwMDtcblxuICAgIHRoaXMuUmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIodGhpcy5jYW52YXMpO1xuXG4gICAgdGhpcy5JbnB1dEhhbmRsZXIgPSBuZXcgSW5wdXRIYW5kbGVyKCk7XG5cbiAgICB0aGlzLkNhbWVyYSA9IG5ldyBDYW1lcmEoKTtcblxuICAgIHRoaXMuZ2FtZU9iamVjdENvdW50ID0gMDtcblxuICAgIHRoaXMuc2FuZGJveCA9IG5ldyBTYW5kYm94KCk7XG4gICAgdGhpcy5QbGF5ZXIgPSB0aGlzLnNhbmRib3guUGxheWVyO1xuXG4gICAgLy8gVE9ETzogZ2FtZU9iamVjdHMgc2hvdWxkIGJlIGVtcHR5IG9uIGluaXQuXG4gICAgLy8gdGhpcy5nYW1lT2JqZWN0cyA9IFtdO1xuICAgIHRoaXMuZ2FtZU9iamVjdHMgPSB0aGlzLnNhbmRib3gudGVzdEdhbWVPYmplY3RzOyAvLyBMT2FkIHRoZSB0ZXN0IGdhbWUgb2JqZWN0c1xuXG4gICAgLy8gTGV0J3Mga2ljayBvZmYgdGhlIGdhbWUgbG9vcCFcbiAgICB0aGlzLm1haW4ocGVyZm9ybWFuY2Uubm93KCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIG5ldyBjYW52YXMgRE9NIGNhbnZhcyBlbGVtZW50LiBUaGUgZ2FtZSB3aWxsIHJ1biBpbiB0aGlzXG4gICAqIGNhbnZhcy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHcgVGhlIHdpZHRoIG9mIHRoZSBjYW52YXMsIGluIHBpeGVscy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGggVGhlIGhlaWdodCBvZiB0aGUgY2FudmFzLCBpbiBwaXhlbHMuXG4gICAqL1xuICBwcml2YXRlIGdlbkNhbnZhcyh3OiBudW1iZXIsIGg6IG51bWJlcik6IEhUTUxDYW52YXNFbGVtZW50IHtcbiAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLmlkID0gXCJnYW1lLXBhbmVcIjtcbiAgICBjYW52YXMud2lkdGggPSB3O1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoO1xuICAgIGNhbnZhcy50YWJJbmRleCA9IDE7XG5cbiAgICByZXR1cm4gY2FudmFzO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIGdhbWUgc3RhdGUgYXMgb2YgYSBnaXZlbiBwb2ludCBpbiB0aW1lLiBJdCBpcyB0aGUgYXV0aG9yaXR5XG4gICAqIGZvciBnYW1lIHN0YXRlLiBUaGUgZGVsdGEgc2hvdWxkIGJlIHVzZWQgaW4gY2FsY3VsYXRpb25zIHRvIG1ha2UgdGhlIGdhbWVcbiAgICogc2ltdWxhdGlvbiBmcmFtZXJhdGUgaW5kZXBlbmRlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7ZmxvYXR9IGRlbHRhICBUaGUgZGlmZmVyZW5jZSBpbiB0aW1lIGJldHdlZW4gdGhpcyBmcmFtZSBhbmQgbGFzdFxuICAgKiBmcmFtZSwgaW4gc2Vjb25kcy5cbiAgICovXG4gIHByaXZhdGUgX3VwZGF0ZShkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gVE9ETyBSZW1vdmUgY2xvZy5cbiAgICAvLyBjb25zb2xlLmxvZygnZGVsdGEgOicsIGRlbHRhKTtcbiAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5nYW1lT2JqZWN0Q291bnQ7IGkrKykge1xuICAgICAgdGhpcy5nYW1lT2JqZWN0c1tpXS51cGRhdGUoZGVsdGEpO1xuICAgIH1cblxuICAgIHRoaXMuZ2FtZU9iamVjdENvdW50ID0gdGhpcy5nYW1lT2JqZWN0cy5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogUmVzcG9uc2libGUgZm9yIGRyYXdpbmcgdGhlIGN1cnJlbnQgZ2FtZSBzdGF0ZSB0byB0aGUgc2NyZWVuLlxuICAgKi9cbiAgcHJpdmF0ZSBfZHJhdygpOiB2b2lkIHtcblxuICAgIC8vIERyYXcgdGhlIHNjZW5lLlxuICAgIHRoaXMuUmVuZGVyZXIuZHJhdyh0aGlzLmdhbWVPYmplY3RDb3VudCwgdGhpcy5nYW1lT2JqZWN0cyk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgdGhlIG1haW4gZ2FtZSBsb29wLlxuICAgKi9cbiAgcHJpdmF0ZSBzdG9wTWFpbkxvb3AoKTogdm9pZCB7XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuc3RvcFRva2VuKTtcbiAgICBjb25zb2xlLmxvZyhcIkdvb2RieWUuLi5cIik7XG4gIH1cblxuICAvKipcbiAgICogQXR0ZW1wdHMgdG8gZ3JhY2VmdWxseSB0ZWFyIGRvd24gdGhlIGdhbWUuXG4gICAqL1xuICBwdWJsaWMgc2h1dGRvd25HYW1lKCk6IHZvaWQge1xuICAgIHRoaXMuc3RvcE1haW5Mb29wKCk7XG4gIH1cblxuLyoqXG4gICogVGhlIG1haW4gZ2FtZSBsb29wLiBXZSB1c2UgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHRvIGJlIHRocmVhZC1zYWZlIGFuZCBub3RcbiAgKiBkb21pbmF0ZSB0aGUgYnJvd3NlciB3aGVuIHRoZSBwbGF5ZXIgYmx1cnMgZm9jdXMgb24gb3VyIHRhYi5cbiAgKlxuICAqIHJlbmRlcigpIGlzIHBhc3NlZCB0RnJhbWUgYmVjYXVzZSBpdCBpcyBhc3N1bWVkIHRoYXQgdGhlIHJlbmRlciBtZXRob2Qgd2lsbFxuICAqICAgICAgICAgIGNhbGN1bGF0ZSBob3cgbG9uZyBpdCBoYXMgYmVlbiBzaW5jZSB0aGUgbW9zdCByZWNlbnRseSBwYXNzZWRcbiAgKiAgICAgICAgICB1cGRhdGUgdGljayBmb3IgZXh0cmFwb2xhdGlvbiAocHVyZWx5IGNvc21ldGljIGZvciBmYXN0IGRldmljZXMpLlxuICAqICAgICAgICAgIEl0IGRyYXdzIHRoZSBzY2VuZS5cbiAgKlxuICAqIHVwZGF0ZSgpIGNhbGN1bGF0ZXMgdGhlIGdhbWUgc3RhdGUgYXMgb2YgYSBnaXZlbiBwb2ludCBpbiB0aW1lLlxuICAqXG4gICogaW5pdCgpICAgUGVyZm9ybXMgd2hhdGV2ZXIgdGFza3MgYXJlIG5lZWRlZCBiZWZvcmUgdGhlIG1haW4gbG9vcCBjYW4gcnVuLlxuICAqXG4gICpcbiAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IHRGcmFtZSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZVxuICAqIG5hdmlnYXRpb25TdGFydCAod2hlbiB0aGUgcHJldmlvdXMgZG9jdW1lbnQgaXMgdW5sb2FkZWQuXG4gICogd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgpIGFsd2F5cyBwcm92aWRlcyBhIERPTUhpZ2hSZXNUaW1lU3RhbXAgdG9cbiAgKiBjYWxsYmFja3MgYXMgYW4gYXJndW1lbnQgd2hlbiB0aGV5IGFyZSBleGVjdXRlZC5cbiAgKi9cbiAgcHVibGljIG1haW4odEZyYW1lOiBET01IaWdoUmVzVGltZVN0YW1wKTogdm9pZCB7XG4gICAgLy8gU3RvcmUgdGhlIElEIHJldHVybmVkIGZyb20gb3VyIG1haW4gbG9vcCdzIG1vc3QgcmVjZW50IGNhbGwgdG9cbiAgICAvLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKS5cbiAgICB0aGlzLnN0b3BUb2tlbiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5tYWluLmJpbmQodGhpcykpO1xuXG4gICAgLy8gRGVsdGEgc2hvdWxkIGJlIGluIHNlY29uZHMsIG5vdCBtcywgc28gd2UgZGl2aWRlIGJ5IDEwMDAuXG4gICAgbGV0IGRlbHRhID0gKHRGcmFtZSAtIHRoaXMubGFzdEZyYW1lVGltZSkgLyAxMDAwLjA7XG4gICAgLy8gS2VlcCB0cmFjayBvZiB3aGVuIHRoZSBsYXN0IGZyYW1lIGhhcHBlbmVkLlxuICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IHRGcmFtZTtcblxuICAgIHRoaXMuSW5wdXRIYW5kbGVyLmhhbmRsZUlucHV0KHRoaXMuUGxheWVyLCBkZWx0YSk7XG4gICAgdGhpcy5fdXBkYXRlKGRlbHRhKTtcbiAgICB0aGlzLl9kcmF3KCk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgR2FtZUFjdG9yIH0gZnJvbSBcIi4uL0dhbWVBY3RvclwiO1xuaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gXCIuLi8uLi8uLi90eXBlcy9nbG9iYWxzXCI7XG5cbi8qKlxuICogVGhlIEFjdG9yRmFjdG9yeSBjbGFzcy4gVXNlZCBmb3IgY29tbW9uIGFjdG9ycyBzdWNoIGFzIGNvbW1vbiBlbmVtaWVzLFxuICogd2lsZGxpZmUsIGdlbmVyaWMgTlBDcywgZXRjLiBBbGxvd3MgdXMgdG8gaW1wbGVtZW50IHRoZSBcIlR5cGUgT2JqZWN0XCJcbiAqIHBhdHRlcm4uXG4gKlxuICogVGhlIGJlbmVmaXQgaGVyZSBpcyB0d29mb2xkOlxuICogMSkgV2UgY2FuIGRlZmluZSB0aGUgQWN0b3IncyBwcm9wZXJ0aWVzIGluIGFuIGV4dGVybmFsIGZpbGUsIHNheSwgSlNPTiwgdGhlblxuICogY3JlYXRlIGEgbmV3IEFjdG9yIHdpdGggdGhvc2UgcHJvcGVydGllcyB3aGVuIGEgU2NlbmUgaXMgbG9hZGVkLlxuICogMikgV2UgY2FuIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgQWN0b3Igb24gdGhlIGZseSB3aXRob3V0IHJlY3JlYXRpbmcgaXQuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBY3RvckZhY3Rvcnkge1xuXG4gIC8qKlxuICAgKiBUaGUgc3RyaW5nIHVuaXF1ZSBsYWJlbCBmb3IgdGhlIEFjdG9yIHR5cGUuXG4gICAqL1xuICBwdWJsaWMgbGFiZWw6IHN0cmluZztcblxuICAvKipcbiAgICogRmFjdG9yeSBtZXRob2QgZm9yIGNyZWF0aW5nIGEgbmV3IE5wYyBvZiBhIHNwZWNpZmljIHR5cGUuXG4gICAqIEZvciByZWZlcmVuY2UsIGNoZWNrIG91dCB0aGUgVHlwZSBPYmplY3QgKGZhY3RvcnkpIHBhdHRlcm4uXG4gICAqXG4gICAqIEBwYXJhbSBwb3NpdGlvbiBUaGUgc3RhcnRpbmcgcG9zaXRpb24gb2YgdGhlIHNwYXduZWQgQWN0b3IuXG4gICAqXG4gICAqIEByZXR1cm4gVGhlIHNwYXduZWQgR2FtZUFjdG9yLlxuICAgKi9cbiAgcHJvdGVjdGVkIGFic3RyYWN0IHNwYXduKHBvc2l0aW9uOiBDb29yZGluYXRlKTogR2FtZUFjdG9yO1xufVxuIiwiaW1wb3J0IHtcbiAgQWN0b3JGYWN0b3J5LFxuICBPcmRpbmFyeUZvbGtcbn0gZnJvbSAnLi4vLi4vLi4vR2FtZU9iamVjdCc7XG5cbmltcG9ydCB7XG4gIExpZmVmb3JjZUNvbXBvbmVudCxcbiAgTW92ZW1lbnRDb21wb25lbnRcbn0gZnJvbSBcIi4uLy4uLy4uL0NvbXBvbmVudFwiO1xuXG5pbXBvcnQgeyBDb29yZGluYXRlIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvZ2xvYmFscyc7XG5cbi8qKlxuICogVGhlIE9yZGluYXJ5Rm9sa0ZhY3RvcnkgY2xhc3MuIFRoaXMgaXMgdXNlZCB0byBzcGF3biBub24tdW5pcXVlLFxuICogaHVtYW5vaWQtbGlrZSBHYW1lQWN0b3JzIGFrYSBcIkZvbGtzLlwiXG4gKi9cbmV4cG9ydCBjbGFzcyBPcmRpbmFyeUZvbGtGYWN0b3J5IGV4dGVuZHMgQWN0b3JGYWN0b3J5IHtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMubGFiZWwgPSBcIm9yZGluYXJ5X2ZvbGtcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGYWN0b3J5IG1ldGhvZCBmb3IgY3JlYXRpbmcgYSBuZXcgTnBjIG9mIHR5cGUgT3JkaW5hcnlGb2xrLlxuICAgKiBGb3IgcmVmZXJlbmNlLCBjaGVjayBvdXQgdGhlIFR5cGUgT2JqZWN0IChmYWN0b3J5KSBwYXR0ZXJuLlxuICAgKlxuICAgKiBAcGFyYW0gcG9zaXRpb24gVGhlIHN0YXJ0aW5nIHBvc2l0aW9uIG9mIHRoZSBzcGF3bmVkIEFjdG9yLlxuICAgKlxuICAgKiBAcmV0dXJuIFRoZSBzcGF3bmVkIEdhbWVBY3Rvci5cbiAgICovXG4gIHB1YmxpYyBzcGF3bihwb3NpdGlvbjogQ29vcmRpbmF0ZSk6IE9yZGluYXJ5Rm9sayB7XG4gICAgbGV0IG5wYyA9IG5ldyBPcmRpbmFyeUZvbGsodGhpcywgcG9zaXRpb24pO1xuXG4gICAgbnBjLmFkZENvbXBvbmVudChuZXcgTW92ZW1lbnRDb21wb25lbnQoKSk7XG4gICAgbnBjLmFkZENvbXBvbmVudChuZXcgTGlmZWZvcmNlQ29tcG9uZW50KCkpO1xuXG4gICAgcmV0dXJuIG5wYztcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgQWN0b3JGYWN0b3J5LFxuICBQbGF5ZXJcbn0gZnJvbSAnLi4vLi4vLi4vR2FtZU9iamVjdCc7XG5cblxuaW1wb3J0IHtcbiAgTGlmZWZvcmNlQ29tcG9uZW50LFxuICBNb3ZlbWVudENvbXBvbmVudCxcbiAgRXZlbnRDb21wb25lbnRcbn0gZnJvbSBcIi4uLy4uLy4uL0NvbXBvbmVudFwiO1xuXG5pbXBvcnQgeyBDb29yZGluYXRlIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvZ2xvYmFscyc7XG5pbXBvcnQgeyBQbGF5ZXJEZWF0aEV2ZW50IH0gZnJvbSAnLi4vLi4vLi4vRXZlbnQnO1xuXG4vKipcbiAqIFRoZSBQbGF5ZXIgY2xhc3MuIFRoaXMgaXMgdXNlZCB0byBzcGF3biBhIFBsYXllciBjaGFyYWN0ZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBQbGF5ZXJGYWN0b3J5IGV4dGVuZHMgQWN0b3JGYWN0b3J5IHtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMubGFiZWwgPSBcInBsYXllcl8xXCI7XG4gIH1cblxuICAvKipcbiAgICogRmFjdG9yeSBtZXRob2QgZm9yIGNyZWF0aW5nIGEgbmV3IE5wYyBvZiB0eXBlIE9yZGluYXJ5Rm9say5cbiAgICogRm9yIHJlZmVyZW5jZSwgY2hlY2sgb3V0IHRoZSBUeXBlIE9iamVjdCAoZmFjdG9yeSkgcGF0dGVybi5cbiAgICpcbiAgICogQHBhcmFtIHBvc2l0aW9uIFRoZSBzdGFydGluZyBwb3NpdGlvbiBvZiB0aGUgc3Bhd25lZCBBY3Rvci5cbiAgICpcbiAgICogQHJldHVybiBUaGUgc3Bhd25lZCBHYW1lQWN0b3IuXG4gICAqL1xuICBwdWJsaWMgc3Bhd24ocG9zaXRpb246IENvb3JkaW5hdGUpOiBQbGF5ZXIge1xuICAgIGxldCBwbGF5ZXIgPSBuZXcgUGxheWVyKHRoaXMsIHBvc2l0aW9uKTtcblxuICAgIHBsYXllci5hZGRDb21wb25lbnQobmV3IEV2ZW50Q29tcG9uZW50KCkpO1xuICAgIHBsYXllci5hZGRDb21wb25lbnQobmV3IExpZmVmb3JjZUNvbXBvbmVudCgpKTtcbiAgICBwbGF5ZXIuYWRkQ29tcG9uZW50KG5ldyBNb3ZlbWVudENvbXBvbmVudCgpKTtcblxuICAgIC8vIEF0dGFjaCBzb21lIFBsYXllci1zcGVjaWZpYyBldmVudHMuXG4gICAgcGxheWVyLmdldENvbXBvbmVudChcIkV2ZW50Q29tcG9uZW50XCIpXG4gICAgICAuYXR0YWNoKFBsYXllckRlYXRoRXZlbnQuY3JlYXRlKHBsYXllcikpO1xuXG4gICAgcmV0dXJuIHBsYXllcjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgR2FtZU9iamVjdCB9IGZyb20gJy4uLy4uL0dhbWVPYmplY3QnO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vQ29tcG9uZW50JztcbmltcG9ydCB7IENvbXBvbmVudENvbnRhaW5lciwgQ29vcmRpbmF0ZSB9IGZyb20gJy4uLy4uL3R5cGVzL2dsb2JhbHMnO1xuXG4vKipcbiAqIFRoZSBpbnRlcmZhY2UgZm9yIHRoZSBbW0dhbWVBY3Rvcl1dIGNsYXNzLlxuICpcbiAqIEBpbnRlcmZhY2UgSUdhbWVBY3RvclxuICovXG5pbnRlcmZhY2UgSUdhbWVBY3RvciB7XG5cbiAgLyoqXG4gICAqIFRoZSBwb3NpdGlvbiBtZW1iZXIuIFNpZ25pZmllcyB0aGUgbG9jYXRpb24gb2YgdGhlIG9mIHRoZSBHYW1lT2JqZWN0LlxuICAgKi9cbiAgcG9zaXRpb246IENvb3JkaW5hdGU7XG5cbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIHNpZ25hdHVyZSBmb3IgdGhlIHVwZGF0ZSBtZXRob2QgZm9yIHRoZSBHYW1lQWN0b3IuXG4gICAqXG4gICAqIEBwYXJhbSBkZWx0YSBUaGUgdGltZSBkaWZmZXJlbmNlIGJldHdlZW4gZnJhbWVzLiBQcm92aWRlZCBieSB0aGUgZ2FtZSdzXG4gICAqIG1haW4gZ2FtZSBsb29wLlxuICAgKiBAc2VlIEZpZW5kR2FtZS5tYWluKClcbiAgICovXG4gIHVwZGF0ZShkZWx0YTogbnVtYmVyKTogdm9pZDtcblxuICAvKipcbiAgICogQXR0YWNoZXMgYSBDb21wb25lbnQgdG8gYSBgR2FtZUFjdG9yYCBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIGNvbXBvbmVudCBUaGUgQ29tcG9uZW50IHRvIGJlIGF0dGFjaGVkLlxuICAgKlxuICAgKiBAcmV0dXJuIElmIHRoZSBDb21wb25lbnQgd2FzIHN1Y2Nlc3NmdWxseSBhdHRhY2hlZCBvciBub3QuXG4gICAqL1xuICBhZGRDb21wb25lbnQoY29tcG9uZW50OiBDb21wb25lbnQpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgQ29tcG9uZW50IGZyb20gYSBgR2FtZUFjdG9yYCBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIGtleSBUaGUgbG9va3VwIGtleSBmb3IgdGhlIENvbXBvbmVudCB0byBiZSByZW1vdmVkIGZyb20gdGhpc1xuICAgKiBHYW1lQWN0b3IuIFVzdWFsbHkgdGhpcyBpcyB0aGUgQ29tcG9uZW50J3MgYHR5cGVJZGAgYXMgYSBzdHJpbmcuXG4gICAqXG4gICAqIEByZXR1cm4gSWYgdGhlIENvbXBvbmVudCB3YXMgc3VjY2Vzc2Z1bGx5IHJlbW92ZWQgb3Igbm90LlxuICAgKi9cbiAgcmVtb3ZlQ29tcG9uZW50KGtleTogc3RyaW5nKTogYm9vbGVhbjtcblxuICAvKipcbiAgICogQ2hlY2tzIHRvIHNlZSBpZiBhIENvbXBvbmVudCBpcyBhdHRhY2hlZCB0byBhIGBHYW1lQWN0b3JgIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gdXNlIGFzIGEgbG9vayB1cC4gVXN1YWxseSB0aGlzIGlzIHRoZSBDb21wb25lbnQnc1xuICAgKiBgdHlwZUlkYCBhcyBhIHN0cmluZy5cbiAgICpcbiAgICogQHJldHVybiBJZiB0aGUgQ29tcG9uZW50IGlzIGF0dGFjaGVkIHRvIHRoaXMgR2FtZUFjdG9yLlxuICAgKi9cbiAgaGFzQ29tcG9uZW50KGtleTogc3RyaW5nKTogYm9vbGVhbjtcblxuICAvKipcbiAgICogIEdldHMgYSBDb21wb25lbnQgYXR0YWNoZWQgdG8gYSBgR2FtZUFjdG9yYCBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIGtleSBUaGUga2V5IHRvIHVzZSBhcyBhIGxvb2sgdXAuIFVzdWFsbHkgdGhpcyBpcyB0aGUgQ29tcG9uZW50J3NcbiAgICogYHR5cGVJZGAgYXMgYSBzdHJpbmcuXG4gICAqXG4gICAqIEByZXR1cm4gVGhlIGRlc2lyZWQgYXR0YWNoZWQgQ29tcG9uZW50LCBvciBudWxsIGlmIGl0J3Mgbm90IGF0dGFjaGVkLlxuICAgKi9cbiAgZ2V0Q29tcG9uZW50KGtleTogc3RyaW5nKTogQ29tcG9uZW50fG51bGw7XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiBDb21wb25lbnRzIGF0dGFjaGVkIHRvIGEgYEdhbWVBY3RvcmAgaW5zdGFuY2UuXG4gICAqXG4gICAqIEByZXR1cm4gVGhlIGxpc3Qgb2YgYXR0YWNoZWQgQ29tcG9uZW50cy5cbiAgICovXG4gIGxpc3RDb21wb25lbnRzKCk6IEFycmF5PHN0cmluZz47XG5cbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBHYW1lQWN0b3IgY2xhc3MuIEFsbCBHYW1lT2JqZWN0cyB0aGF0IGNhbiBpbmZsdWVuY2UgdGhpbmdzIGluIHRoZVxuICogZW52aXJvbm1lbnQgd2lsbCBkZXJpdmUgZnJvbSB0aGUgR2FtZUFjdG9yIGNsYXNzLlxuICogQGFic3RyYWN0XG4gKiBAZXh0ZW5kcyBbW0dhbWVPYmplY3RdXSBUaGUgR2FtZU9iamVjdCBiYXNlIGFic3RyYWN0IGNsYXNzLlxuICogQGltcGxlbWVudHMgW1tJR2FtZUFjdG9yXV1cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEdhbWVBY3RvciBleHRlbmRzIEdhbWVPYmplY3QgaW1wbGVtZW50cyBJR2FtZUFjdG9yIHtcblxuICAvKipcbiAgICogQHZhciBwb3NpdGlvbiBUaGUgcG9zaXRpb24gb2YgdGhlIEdhbWVPYmplY3QuXG4gICAqL1xuICBwdWJsaWMgcG9zaXRpb246IENvb3JkaW5hdGU7XG5cbiAgLyoqXG4gICAqIEB2YXIgY29tcG9uZW50cyBUaGUgY29udGFpbmVyIGZvciBhbGwgdGhlIGFjdG9yJ3MgY29tcG9uZW50cy5cbiAgICovXG4gIHByb3RlY3RlZCBjb21wb25lbnRzOiBDb21wb25lbnRDb250YWluZXI7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0gcG9zaXRpb24gVGhlIHN0YXJ0aW5nIHBvc2l0aW9uIG9mIHRoZSBzcGF3bmVkIEFjdG9yLlxuICAgKi9cbiAgY29uc3RydWN0b3IocG9zaXRpb246IENvb3JkaW5hdGUpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuXG4gICAgLy8gV2UgbmVlZCB0byBkZWNsYXJlIHRoaXMgYXMgYW4gb2JqZWN0IG90aGVyd2lzZSB3ZSBnZXQgYSByZWZlcmVuY2UgZXJyb3JcbiAgICAvLyB3aGVuIHdlIHRyeSBhbmQgYXNzaWduIENvbXBvbmVudHMgdG8gaXQgd2l0aCBhZGRDb21wb25lbnQoKS5cbiAgICB0aGlzLmNvbXBvbmVudHMgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgQ29tcG9uZW50IHRvIHRoZSBHYW1lQWN0b3IncyBgQ29tcG9uZW50Q29udGFpbmVyYCwgaWYgaXQncyBub3RcbiAgICogYWxyZWFkeSBhdHRhY2hlZC5cbiAgICpcbiAgICogQHBhcmFtIGNvbXBvbmVudCBUaGUgQ29tcG9uZW50IHRvIGJlIGF0dGFjaGVkLlxuICAgKlxuICAgKiBAcmV0dXJuIElmIHRoZSBDb21wb25lbnQgd2FzIHN1Y2Nlc3NmdWxseSBhdHRhY2hlZCBvciBub3QuXG4gICAqL1xuICBwdWJsaWMgYWRkQ29tcG9uZW50PEsgZXh0ZW5kcyBrZXlvZiBDb21wb25lbnRDb250YWluZXI+KGNvbXBvbmVudDogQ29tcG9uZW50Q29udGFpbmVyW0tdKTogYm9vbGVhbiB7XG4gICAgbGV0IHR5cGVJZCA9IGNvbXBvbmVudC5nZXRUeXBlSWQoKTtcblxuICAgIGlmICh0aGlzLmhhc0NvbXBvbmVudCh0eXBlSWQpKSB7XG4gICAgICAvLyBUT0RPOiBNYWtlIHRoaXMgYSByZWFsIGV4Y2VwdGlvbi5cbiAgICAgIGNvbnNvbGUubG9nKCdhZGRDb21wb25lbnRFcnJvciA6JywgYEEgJHt0eXBlSWR9IENvbXBvbmVudCBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIHRoaXMgR2FtZUFjdG9yKGlkOiR7dGhpcy5nZXRJZCgpfSlgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbXBvbmVudHNbdHlwZUlkXSA9IGNvbXBvbmVudDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgQ29tcG9uZW50IGZyb20gdGhlIEdhbWVBY3RvcidzIGBDb21wb25lbnRDb250YWluZXJgLCBpZiBpdCdzXG4gICAqIGF0dGFjaGVkLlxuICAgKlxuICAgKiBAcGFyYW0ga2V5IFRoZSBsb29rdXAga2V5IGZvciB0aGUgQ29tcG9uZW50IHRvIGJlIHJlbW92ZWQgZnJvbSB0aGlzXG4gICAqIEdhbWVBY3Rvci4gVXN1YWxseSB0aGlzIGlzIHRoZSBDb21wb25lbnQncyBgdHlwZUlkYCBhcyBhIHN0cmluZy5cbiAgICpcbiAgICogQHJldHVybiBJZiB0aGUgQ29tcG9uZW50IHdhcyBzdWNjZXNzZnVsbHkgcmVtb3ZlZCBvciBub3QuXG4gICAqL1xuICBwdWJsaWMgcmVtb3ZlQ29tcG9uZW50KGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG5cbiAgICBpZiAodGhpcy5oYXNDb21wb25lbnQoa2V5KSkge1xuICAgICAgZGVsZXRlIHRoaXMuY29tcG9uZW50c1trZXldO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogTWFrZSB0aGlzIGEgcmVhbCBleGNlcHRpb24uXG4gICAgY29uc29sZS5sb2coJ3JlbW92ZUNvbXBvbmVudEVycm9yIDonLCBgQ2Fubm90IHJlbW92ZSBDb21wb25lbnQgJHtrZXl9IHNpbmNlIG9uZSdzIG5vdCBhdHRhY2hlZCB0byB0aGlzIEdhbWVBY3RvcihpZDoke3RoaXMuZ2V0SWQoKX0pYCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIHRvIHNlZSBpZiBhIENvbXBvbmVudCBpcyBhdHRhY2hlZCB0byB0aGlzIEdhbWVBY3RvciB2aWEgdGhlXG4gICAqIGBDb21wb25lbnRDb250YWluZXJgIGxpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byB1c2UgYXMgYSBsb29rIHVwLiBVc3VhbGx5IHRoaXMgaXMgdGhlIENvbXBvbmVudCdzXG4gICAqIGB0eXBlSWRgIGFzIGEgc3RyaW5nLlxuICAgKlxuICAgKiBAcmV0dXJuIElmIHRoZSBDb21wb25lbnQgaXMgYXR0YWNoZWQgdG8gdGhpcyBHYW1lQWN0b3IuXG4gICAqL1xuICBwdWJsaWMgaGFzQ29tcG9uZW50KGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50c1trZXldID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIENvbXBvbmVudCBhdHRhY2hlZCB0byB0aGlzIEdhbWVBY3Rvci5cbiAgICpcbiAgICogQHNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81ODU3Mzk3NVxuICAgKlxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gdXNlIGFzIGEgbG9vayB1cC4gVXN1YWxseSB0aGlzIGlzIHRoZSBDb21wb25lbnQnc1xuICAgKiBgdHlwZUlkYCBhcyBhIHN0cmluZy4gSXQgbXVzdCBiZSBhIGtleSBkZWZpbmVkIGluIHRoZSBgQ29tcG9uZW50Q29udGFpbmVyYFxuICAgKiB0eXBlLlxuICAgKlxuICAgKiBAcmV0dXJuIFRoZSBkZXNpcmVkIGF0dGFjaGVkIENvbXBvbmVudCwgb3IgbnVsbCBpZiBpdCdzIG5vdCBhdHRhY2hlZC5cbiAgICovXG4gIHB1YmxpYyBnZXRDb21wb25lbnQ8SyBleHRlbmRzIGtleW9mIENvbXBvbmVudENvbnRhaW5lcj4oXG4gICAga2V5OiBLXG4gICk6IENvbXBvbmVudENvbnRhaW5lcltLXSB7XG4gICAgaWYgKHRoaXMuaGFzQ29tcG9uZW50KGtleSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudHNba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGxpc3Qgb2YgQ29tcG9uZW50cyBhdHRhY2hlZCB0byB0aGlzIEdhbWVBY3Rvci5cbiAgICpcbiAgICogQHJldHVybiBUaGUgbGlzdCBvZiBhdHRhY2hlZCBDb21wb25lbnRzLlxuICAgKi9cbiAgcHVibGljIGxpc3RDb21wb25lbnRzKCk6IEFycmF5PHN0cmluZz4ge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmNvbXBvbmVudHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB1cGRhdGUgbWV0aG9kIGZvciB0aGUgYWJzdHJhY3QgR2FtZUFjdG9yIGNsYXNzLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIGRlbHRhIFRoZSB0aW1lIGRpZmZlcmVuY2UgYmV0d2VlbiBmcmFtZXMuIFByb3ZpZGVkIGJ5IHRoZSBnYW1lJ3NcbiAgICogbWFpbiBnYW1lIGxvb3AuXG4gICAqIEBzZWUgRmllbmRHYW1lLm1haW4oKVxuICAgKi9cbiAgcHVibGljIGFic3RyYWN0IHVwZGF0ZShkZWx0YTogbnVtYmVyKTogdm9pZDtcblxuICAvLyBUT0RPOiBNYWtlIGEgc3ViY2xhc3MgdGhhdCBoYXMgbW92ZW1lbnQuIE5vdCBhbGwgYWN0b3JzIHdpbGwsIEkgZG9udCB0aGluay5cbiAgcHVibGljIG1vdmVOKGRlbHRhOiBudW1iZXIpOiB2b2lkIHt9XG4gIHB1YmxpYyBtb3ZlUyhkZWx0YTogbnVtYmVyKTogdm9pZCB7fVxuICBwdWJsaWMgbW92ZUUoZGVsdGE6IG51bWJlcik6IHZvaWQge31cbiAgcHVibGljIG1vdmVXKGRlbHRhOiBudW1iZXIpOiB2b2lkIHt9XG59XG4iLCJpbXBvcnQgeyBHYW1lQWN0b3IgfSBmcm9tICcuL0dhbWVBY3Rvcic7XG5pbXBvcnQgeyBBY3RvckZhY3RvcnkgfSBmcm9tICcuLi8uLi9HYW1lT2JqZWN0JztcbmltcG9ydCB7IENvb3JkaW5hdGUgfSBmcm9tICcuLi8uLi90eXBlcy9nbG9iYWxzJztcblxuLyoqXG4gKiBUaGUgTnBjIGNsYXNzLiBBbGwgbm9uLXBsYXllciBjaGFyYWN0ZXJzIGFyZSBOcGNzLCB1bmxpa2Ugc29tZSBnYW1lcyB3aGVyZVxuICogdGhlcmUgaXMgYSBgTW9uc3RlcmAgY2xhc3MgZm9yIGFsbCBob3N0aWxlIGFjdG9ycy5UaGUgcmVhc29uaW5nIGlzIHRoYXQgaW5cbiAqIEZpZW5kLCBhbnkgbm9uLXBsYXllciBjaGFyYWN0ZXIgY2FuIGJlIGEgZnJpZW5kIG9yIGZvZSwgZGVwZW5kaW5nIG9uIGhvdyB0aGVcbiAqIHBsYXllciBhY3RzLlxuICovXG5leHBvcnQgY2xhc3MgTnBjIGV4dGVuZHMgR2FtZUFjdG9yIHtcblxuICAvKipcbiAgICogVGhlIGFjdG9yJ3MgdHlwZS5cbiAgICovXG4gIHByb3RlY3RlZCBfdHlwZTogQWN0b3JGYWN0b3J5O1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIGFjdG9yVHlwZSBUaGUgQWN0b3IncyB0eXBlLlxuICAgKiBAcGFyYW0gcG9zaXRpb24gVGhlIHN0YXJ0aW5nIHBvc2l0aW9uIG9mIHRoZSBzcGF3bmVkIEFjdG9yLlxuICAgKi9cbiAgcHVibGljIGNvbnN0cnVjdG9yKGFjdG9yVHlwZTogQWN0b3JGYWN0b3J5LCBwb3NpdGlvbjogQ29vcmRpbmF0ZSkge1xuICAgIHN1cGVyKHBvc2l0aW9uKTtcblxuICAgIHRoaXMuX3R5cGUgPSBhY3RvclR5cGU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHVwZGF0ZSBtZXRob2QgZm9yIHRoZSBOcGMgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSBkZWx0YSBUaGUgdGltZSBkaWZmZXJlbmNlIGJldHdlZW4gZnJhbWVzLiBQcm92aWRlZCBieSB0aGUgZ2FtZSdzXG4gICAqIG1haW4gZ2FtZSBsb29wLlxuICAgKiBAc2VlIEZpZW5kR2FtZS5tYWluKClcbiAgICovXG4gIHB1YmxpYyB1cGRhdGUoZGVsdGE6IG51bWJlcik6IHZvaWQge31cblxufVxuIiwiaW1wb3J0IHtcbiAgQWN0b3JGYWN0b3J5LFxuICBOcGNcbn0gZnJvbSAnLi4vLi4vR2FtZU9iamVjdCc7XG5cbmltcG9ydCB7IENvb3JkaW5hdGUgfSBmcm9tICcuLi8uLi90eXBlcy9nbG9iYWxzJztcblxuLyoqXG4gKiBUaGUgT3JkaW5hcnlGb2xrIGNsYXNzLiBPcmRpbmFyeSBGb2xrcyBhcmUgZ2VuZXJhbGx5IGJlbmlnbiBOUENzIHRvIHBvcHVsYXRlXG4gKiB0aGUgd29ybGQuXG4gKi9cbmV4cG9ydCBjbGFzcyBPcmRpbmFyeUZvbGsgZXh0ZW5kcyBOcGMge1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIGFjdG9yVHlwZSBUaGUgQWN0b3IncyB0eXBlLlxuICAgKiBAcGFyYW0gcG9zaXRpb24gVGhlIHN0YXJ0aW5nIHBvc2l0aW9uIG9mIHRoZSBzcGF3bmVkIEFjdG9yLlxuICAgKi9cbiAgcHVibGljIGNvbnN0cnVjdG9yKGFjdG9yVHlwZTogQWN0b3JGYWN0b3J5LCBwb3NpdGlvbjogQ29vcmRpbmF0ZSkge1xuICAgIHN1cGVyKGFjdG9yVHlwZSwgcG9zaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB1cGRhdGUgbWV0aG9kIGZvciB0aGUgTnBjIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0gZGVsdGEgVGhlIHRpbWUgZGlmZmVyZW5jZSBiZXR3ZWVuIGZyYW1lcy4gUHJvdmlkZWQgYnkgdGhlIGdhbWUnc1xuICAgKiBtYWluIGdhbWUgbG9vcC5cbiAgICogQHNlZSBGaWVuZEdhbWUubWFpbigpXG4gICAqL1xuICBwdWJsaWMgdXBkYXRlKGRlbHRhOiBudW1iZXIpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBOUEMgZW50aXR5LlxuICAgKiBUT0RPOiBUaGlzIHNob3VsZCBiZSBtb3ZlZCB0byB0aGUgUmVuZGVyIGNvbXBvbmVudCBvbmNlIGl0J3MgZG9uZS5cbiAgICpcbiAgICogQHBhcmFtIGN0eCBUaGUgY2FudmFzIGNvbnRleHQuXG4gICAqL1xuICBwdWJsaWMgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgucmVjdCh0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSwgMjAsIDIwKTtcbiAgICBjdHguZmlsbFN0eWxlID0gXCIjRkYwMDAwXCI7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHtcbiAgR2FtZUFjdG9yLFxuICBBY3RvckZhY3Rvcnlcbn0gZnJvbSAnLi4vLi4vR2FtZU9iamVjdCc7XG5cbmltcG9ydCB7IENvb3JkaW5hdGUgfSBmcm9tICcuLi8uLi90eXBlcy9nbG9iYWxzJztcblxuLyoqXG4gKiBUaGUgaW50ZXJmYWNlIGZvciB0aGUgW1tQbGF5ZXJdXSBjbGFzcy5cbiAqXG4gKiBAaW50ZXJmYWNlIElQbGF5ZXJcbiAqL1xuaW50ZXJmYWNlIElQbGF5ZXIge1xuXG4gIC8qKlxuICAgKiBNb3ZlIHRoZSBQbGF5ZXIgbm9ydGguXG4gICAqXG4gICAqIEBwYXJhbSBkZWx0YSBUaGUgZ2FtZSdzIGRlbHRhIGJldHdlZW4gZnJhbWVzLlxuICAgKi9cbiAgbW92ZU4oZGVsdGE6IG51bWJlcik6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIE1vdmUgdGhlIFBsYXllciBzb3V0aC5cbiAgICpcbiAgICogQHBhcmFtIGRlbHRhIFRoZSBnYW1lJ3MgZGVsdGEgYmV0d2VlbiBmcmFtZXMuXG4gICAqL1xuICBtb3ZlUyhkZWx0YTogbnVtYmVyKTogdm9pZDtcblxuICAvKipcbiAgICogTW92ZSB0aGUgUGxheWVyIGVhc3QuXG4gICAqXG4gICAqIEBwYXJhbSBkZWx0YSBUaGUgZ2FtZSdzIGRlbHRhIGJldHdlZW4gZnJhbWVzLlxuICAgKi9cbiAgbW92ZUUoZGVsdGE6IG51bWJlcik6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIE1vdmUgdGhlIFBsYXllciB3ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0gZGVsdGEgVGhlIGdhbWUncyBkZWx0YSBiZXR3ZWVuIGZyYW1lcy5cbiAgICovXG4gIG1vdmVXKGRlbHRhOiBudW1iZXIpOiB2b2lkO1xufVxuXG4vKipcbiAqIFRoZSBQbGF5ZXIgY2xhc3MuIEtlZXBzIHRyYWNrIG9mIHRoZSBzdGF0ZSBvZiB0aGUgcGxheWVyIGluY2x1ZGluZyBhbGxcbiAqIGF0dHJpYnV0ZXMgYW5kIHN0YXRzLlxuICpcbiAqIEBhYnN0cmFjdFxuICogQGV4dGVuZHMgW1tHYW1lQWN0b3JdXSBUaGUgR2FtZU9iamVjdCBiYXNlIGFic3RyYWN0IGNsYXNzLlxuICogQGltcGxlbWVudHMgW1tJUGxheWVyXV1cbiAqL1xuZXhwb3J0IGNsYXNzIFBsYXllciBleHRlbmRzIEdhbWVBY3RvciBpbXBsZW1lbnRzIElQbGF5ZXIge1xuXG4gIC8qKlxuICAgKiBUaGUgYWN0b3IncyB0eXBlLlxuICAgKi9cbiAgcHJvdGVjdGVkIF90eXBlOiBBY3RvckZhY3Rvcnk7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0gYWN0b3JUeXBlIFRoZSBBY3RvcidzIHR5cGUuXG4gICAqIEBwYXJhbSBwb3NpdGlvbiBUaGUgc3RhcnRpbmcgcG9zaXRpb24gb2YgdGhlIFBsYXllci5cbiAgICovXG4gICBjb25zdHJ1Y3RvcihhY3RvclR5cGU6IEFjdG9yRmFjdG9yeSwgcG9zaXRpb246IENvb3JkaW5hdGUpIHtcbiAgICBzdXBlcihwb3NpdGlvbik7XG5cbiAgICB0aGlzLl90eXBlID0gYWN0b3JUeXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIFBsYXllcidzIHN0YXRlLiBJbnRlbmRlZCB0byBiZSBydW4gaW4gdGhlIG1haW4gZ2FtZSBsb29wLlxuICAgKlxuICAgKiBAcGFyYW0gZGVsdGEgVGhlIHRpbWUgZGlmZmVyZW5jZSBiZXR3ZWVuIGZyYW1lcy4gUHJvdmlkZWQgYnkgdGhlIGdhbWUnc1xuICAgKiBtYWluIGdhbWUgbG9vcC5cbiAgICogQHNlZSBGaWVuZEdhbWUubWFpbigpXG4gICAqL1xuICBwdWJsaWMgdXBkYXRlKGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyB0aGlzLl9ldmVudENvbXBvbmVudC5lbWl0KCdwbGF5ZXJfZGllZCcpO1xuICAgIC8vIFRPRE86IGNvbnNvbGUubG9nKCd0aGlzLnBvc2l0aW9uIDonLCB0aGlzLnBvc2l0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgUGxheWVyIGVudGl0eVxuICAgKlxuICAgKiBAcGFyYW0gY3R4IFRoZSBjYW52YXMgY29udGV4dC5cbiAgICovXG4gICBwdWJsaWMgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55LCAxMCwgMCwgTWF0aC5QSSoyKTtcbiAgICBjdHguZmlsbFN0eWxlID0gXCIjMDA5NUREXCI7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiAgICB8ICAgICAgICAgICAgICAgLiAgICB8fFxuICAgKiAgIHx8fCAgICAgIC4uLi4gIC58fC4gIC4uLiAgICAuLi4gICAuLiAuLi4gICAgLi4uLlxuICAgKiAgfCAgfHwgICAufCAgICcnICB8fCAgICB8fCAgLnwgICd8LiAgfHwgIHx8ICB8fC4gJ1xuICAgKiAgLicnJyd8LiAgfHwgICAgICAgfHwgICAgfHwgIHx8ICAgfHwgIHx8ICB8fCAgLiAnfC4uXG4gICAqIC58LiAgLnx8LiAgJ3wuLi4nICAnfC4nIC58fC4gICd8Li58JyAufHwuIHx8LiB8Jy4ufCdcbiAgICovXG5cbiAgLyoqXG4gICAqIE1vdmUgdGhlIFBsYXllciBub3J0aC5cbiAgICpcbiAgICogQHBhcmFtIGRlbHRhIFRoZSBnYW1lJ3MgZGVsdGEgYmV0d2VlbiBmcmFtZXMuXG4gICAqL1xuICBwdWJsaWMgbW92ZU4oZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLmhhc0NvbXBvbmVudChcIk1vdmVtZW50Q29tcG9uZW50XCIpKSB7XG4gICAgICB0aGlzLmdldENvbXBvbmVudChcIk1vdmVtZW50Q29tcG9uZW50XCIpLm1vdmVOKHRoaXMsIGRlbHRhKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIEFQSSBmb3IgdGhlIE1vdmVtZW50Q29tcG9uZW50XG4gICAqXG4gICAqIEBwYXJhbSBkZWx0YSBUaGUgZ2FtZSdzIGRlbHRhIGJldHdlZW4gZnJhbWVzLlxuICAgKi9cbiAgcHVibGljIG1vdmVTKGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5oYXNDb21wb25lbnQoXCJNb3ZlbWVudENvbXBvbmVudFwiKSkge1xuICAgICAgdGhpcy5nZXRDb21wb25lbnQoXCJNb3ZlbWVudENvbXBvbmVudFwiKS5tb3ZlUyh0aGlzLCBkZWx0YSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdGhlIFBsYXllciBlYXN0LlxuICAgKlxuICAgKiBAcGFyYW0gZGVsdGEgVGhlIGdhbWUncyBkZWx0YSBiZXR3ZWVuIGZyYW1lcy5cbiAgICovXG4gIHB1YmxpYyBtb3ZlRShkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaGFzQ29tcG9uZW50KFwiTW92ZW1lbnRDb21wb25lbnRcIikpIHtcbiAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFwiTW92ZW1lbnRDb21wb25lbnRcIikubW92ZUUodGhpcywgZGVsdGEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRoZSBQbGF5ZXIgd2VzdC5cbiAgICpcbiAgICogQHBhcmFtIGRlbHRhIFRoZSBnYW1lJ3MgZGVsdGEgYmV0d2VlbiBmcmFtZXMuXG4gICAqL1xuICBwdWJsaWMgbW92ZVcoZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLmhhc0NvbXBvbmVudChcIk1vdmVtZW50Q29tcG9uZW50XCIpKSB7XG4gICAgICB0aGlzLmdldENvbXBvbmVudChcIk1vdmVtZW50Q29tcG9uZW50XCIpLm1vdmVXKHRoaXMsIGRlbHRhKTtcbiAgICB9XG4gIH1cblxufVxuIiwiLyoqXG4gKiBUaGUgaW50ZXJmYWNlIGZvciB0aGUgW1tHYW1lT2JqZWN0XV0gY2xhc3MuXG4gKlxuICogQGludGVyZmFjZSBJR2FtZU9iamVjdFxuICovXG5pbnRlcmZhY2UgSUdhbWVPYmplY3Qge1xuXG4gIC8qKlxuICAgKiBBY2Nlc3NvciBmb3IgdGhlIHByaXZhdGUgbWVtYmVyIGBpZGAuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBpZCBvZiB0aGUgR2FtZU9iamVjdFxuICAgKi9cbiAgIGdldElkKCk6IG51bWJlcjtcblxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgc2lnbmF0dXJlIGZvciB0aGUgdXBkYXRlIG1ldGhvZCBmb3IgdGhlIEdhbWVBY3Rvci5cbiAgICpcbiAgICogQHBhcmFtIGRlbHRhIFRoZSB0aW1lIGRpZmZlcmVuY2UgYmV0d2VlbiBmcmFtZXMuIFByb3ZpZGVkIGJ5IHRoZSBnYW1lJ3NcbiAgICogbWFpbiBnYW1lIGxvb3AuXG4gICAqIEBzZWUgRmllbmRHYW1lLm1haW4oKVxuICAgKi9cbiAgdXBkYXRlKGRlbHRhOiBudW1iZXIpOiB2b2lkO1xufVxuXG4vKipcbiAqIFRoZSBHYW1lT2JqZWN0IGFic3RyYWN0IGNsYXNzLiBBbGwgZ2FtZSBlbnRpdGllcyBpbmhlcml0IGZyb20gdGhpcyBjbGFzcy5cbiAqIE9uIGluc3RhbnRpYXRpb24sIHRoZSBjbGFzcyB3aWxsIGdlbmVyYXRlIGFuIGF1dG8taW5jcmVtZW50aW5nIGlkIGZvciB1c2VcbiAqIGluIGlkZW50aWZ5aW5nIHRoZSBuZXdseS1jcmVhdGVkIEdhbWVPYmplY3QuXG4gKlxuICogQGFic3RyYWN0XG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBHYW1lT2JqZWN0IGltcGxlbWVudHMgSUdhbWVPYmplY3Qge1xuXG4gIC8qKlxuICAgKiBAdmFyIGlkSW5jcmVtZW50b3IgS2VlcHMgdHJhY2sgb2YgdGhlIGBpZGAgb2YgdGhlIGxhc3QgR2FtZU9iamVjdFxuICAgaW5zdGFudGlhdGVkLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBpZEluY3JlbWVudG9yOiBudW1iZXIgPSAxO1xuXG4gIC8qKlxuICAgKiBAdmFyIGlkIFRoZSBpZCBvZiB0aGUgaW5zdGFuY2Ugb2YgdGhlIEdhbWVPYmplY3QuXG4gICAqL1xuICBwcml2YXRlIGlkOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBBdXRvLWluY3JlbWVudHMgdGhlIEdhbWVPamVjdCBpZCBmb3IgdGhlIG5ldyBHYW1lT2JqZWN0IGJlaW5nIGNyZWF0ZWQuXG4gICAqL1xuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pZCA9IEdhbWVPYmplY3QuaWRJbmNyZW1lbnRvcisrO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjY2Vzc29yIGZvciB0aGUgcHJpdmF0ZSBtZW1iZXIgYGlkYC5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIGlkIG9mIHRoZSBHYW1lT2JqZWN0XG4gICAqL1xuICBwdWJsaWMgZ2V0SWQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5pZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBHYW1lT2JqZWN0J3Mgc3RhdGUuIEludGVuZGVkIHRvIGJlIHJ1biBpbiB0aGUgbWFpbiBnYW1lIGxvb3AuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0gZGVsdGEgVGhlIHRpbWUgZGlmZmVyZW5jZSBiZXR3ZWVuIGZyYW1lcy4gUHJvdmlkZWQgYnkgdGhlIGdhbWUnc1xuICAgKiBtYWluIGdhbWUgbG9vcC5cbiAgICogQHNlZSBGaWVuZEdhbWUubWFpbigpXG4gICAqL1xuICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlKGRlbHRhOiBudW1iZXIpOiB2b2lkO1xuXG59XG4iLCIvKipcbiAqIEBmaWxlIFRoZSBHYW1lT2JqZWN0IEJhcnJlbC4gUmUtZXhwb3J0cyBHYW1lT2JqZWN0IGZpbGVzIGZvciBlYXNpZXIgaW1wb3J0XG4gKiBlbHNld2hlcmUuXG4gKiBAc2VlIEBsaW5rIGh0dHBzOi8vYmFzYXJhdC5naXRib29rcy5pby90eXBlc2NyaXB0L2RvY3MvdGlwcy9iYXJyZWwuaHRtbFxuICovXG5cbi8qKlxuICogUHJvZ2VuaXRvciBjbGFzc2VzIGZvciBhbGwgZW50aXRpZXMgaW4gdGhlIGdhbWUuXG4gKi9cbmV4cG9ydCAqIGZyb20gJy4vR2FtZU9iamVjdCc7XG5cbi8qKlxuICogVGhlIGJhc2UgR2FtZUFjdG9yIGNsYXNzLiBBbGwgR2FtZU9iamVjdHMgdGhhdCBjYW4gaW5mbHVlbmNlIHRoaW5ncyBpbiB0aGVcbiAqIGVudmlyb25tZW50IHdpbGwgZGVyaXZlIGZyb20gdGhlIEdhbWVBY3RvciBjbGFzcy5cbiAqL1xuZXhwb3J0ICogZnJvbSAnLi9HYW1lQWN0b3IvR2FtZUFjdG9yJztcblxuLyoqXG4gKiBUaGUgYmFzZSBOcGMgY2xhc3MuXG4gKi9cbmV4cG9ydCAqIGZyb20gJy4vR2FtZUFjdG9yL05wYyc7XG5cbi8qKlxuICogVGhlIG9yZGluYXJ5IGZvbGsgbnBjIGNsYXNzLlxuICovXG5leHBvcnQgKiBmcm9tICcuL0dhbWVBY3Rvci9PcmRpbmFyeUZvbGsnO1xuXG4vKipcbiAqIFRoZSBwbGF5ZXIgY2hhcmFjdGVyIGNsYXNzLlxuICovXG5leHBvcnQgKiBmcm9tICcuL0dhbWVBY3Rvci9QbGF5ZXInO1xuXG4vKipcbiAqIFRoZSBiYXNlIEFjdG9yIGZhY3RvcnkgY2xhc3MuXG4gKi9cbmV4cG9ydCAqIGZyb20gJy4vR2FtZUFjdG9yL0FjdG9yRmFjdG9yeS9BY3RvckZhY3RvcnknO1xuXG4vKipcbiAqIFRoZSBPcmRpbmFyeUZvbGsgZmFjdG9yeSBjbGFzcy5cbiAqL1xuZXhwb3J0ICogZnJvbSAnLi9HYW1lQWN0b3IvQWN0b3JGYWN0b3J5L09yZGluYXJ5Rm9sa0ZhY3RvcnknO1xuXG4vKipcbiAqIFRoZSBQbGF5ZXIgZmFjdG9yeSBjbGFzcy5cbiAqL1xuZXhwb3J0ICogZnJvbSAnLi9HYW1lQWN0b3IvQWN0b3JGYWN0b3J5L1BsYXllckZhY3RvcnknO1xuIiwiaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gXCIuLi9Db21tYW5kXCI7XG5pbXBvcnQgeyBHYW1lQWN0b3IgfSBmcm9tICcuLi9HYW1lT2JqZWN0JztcblxuaW1wb3J0IHsgTnVsbENvbW1hbmQgfSBmcm9tIFwiLi4vQ29tbWFuZFwiO1xuaW1wb3J0IHsgTW92ZU5vcnRoQ29tbWFuZCB9IGZyb20gXCIuLi9Db21tYW5kXCI7XG5pbXBvcnQgeyBNb3ZlU291dGhDb21tYW5kIH0gZnJvbSBcIi4uL0NvbW1hbmRcIjtcbmltcG9ydCB7IE1vdmVFYXN0Q29tbWFuZCB9IGZyb20gXCIuLi9Db21tYW5kXCI7XG5pbXBvcnQgeyBNb3ZlV2VzdENvbW1hbmQgfSBmcm9tIFwiLi4vQ29tbWFuZFwiO1xuXG4vKipcbiAqIFRoZSBpbnRlcmZhY2UgZm9yIHRoZSBJbnB1dEhhbmRsZXJcbiAqL1xuaW50ZXJmYWNlIElJbnB1dEhhbmRsZXIge1xuXG4gIC8qKlxuICAgKiBCaW5kcyBhbiBpbnB1dCB0byBhIGNvbW1hbmQuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudCBUaGUgdXNlciBpbnRlcmFjdGlvbiB3aXRoIGEga2V5Ym9hcmQuXG4gICAqIEBwYXJhbSBjb21tYW5kXG4gICAqL1xuICBrZXlCaW5kKGV2ZW50OiBLZXlib2FyZEV2ZW50LCBjb21tYW5kOiBDb21tYW5kKTogdm9pZDtcblxuICAvKipcbiAgICogSGFuZGxlcyBhbnkgaW5wdXQgaWYgYSBtYXBwZWQgYnV0dG9uIGlzIHByZXNzZWQuIFJ1biBvbmNlIHBlciBnYW1lIHVwZGF0ZVxuICAgKiB0aWNrLlxuICAgKlxuICAgKiBAcGFyYW0gYWN0b3IgVGhlIGdhbWUgYWN0b3IgZW50aXR5IHRvIGhhbmRsZSBpbnB1dC4gTW9zdCBsaWtlbHkgd2lsbCBiZSB0aGVcbiAgICogUGxheWVyKHMpLlxuICAgKiBAcGFyYW0gZGVsdGEgVGhlXG4gICAqL1xuICBoYW5kbGVJbnB1dChhY3RvcjogR2FtZUFjdG9yLCBkZWx0YTogbnVtYmVyKTogdm9pZDtcbn1cblxuLyoqXG4gKiBUaGUgSUlucHV0TWFwIGludGVyZmFjZS5cbiAqIEBrZXlzXG4gKiBba2V5XTogVGhlIG5hbWUgb2YgdGhlIGtleSBwcmVzc2VkLCBzZW50IGJ5IHRoZSBicm93c2VyLmhlYWRlclxuICogW2NvbW1hbmRdOiBUaGUgbWFwcGVkIGNvbW1hbmQgdG8gYmUgZXhlY3V0ZWQuXG4gKiBbc3RhdHVzXTogVGhlIGJ1dHRvbidzIGN1cnJlbnQgc3RhdHVzXG4gKi9cbmludGVyZmFjZSBJSW5wdXRNYXAge1xuICBba2V5OiBzdHJpbmddOiB7XG4gICAgY29tbWFuZDogQ29tbWFuZCxcbiAgICBzdGF0dXM6IEJ1dHRvblN0YXR1c1xuICB9XG59XG5cbi8qKlxuICogVGhlIGJ1aWx0LWluIGNvbnRyb2wgc2NoZW1lIHR5cGVzLiBBbGxvd3MgYSB1c2VyIHRvIGNoYW5nZSB0aGUgY29udHJvbCBzY2hlbWVcbiAqIHdpdGhvdXQgcmVtYXBwaW5nIGFsbCB0aGUga2V5cyBpbmRpdmlkdWFsbHkuXG4gKlxuICogQHR5cGUge2VudW19IENvbnRyb2xTY2hlbWVzXG4gKi9cbmVudW0gQ29udHJvbFNjaGVtZXMge1xuICBERUZBVUxULFxuICBGUFMsXG4gIE9ORUhBTkRFRF9SSUdIVCxcbiAgT05FSEFOREVEX0xFRlQsXG59XG5cbi8qKlxuICogTWFwcyBhIGJ1dHRvbiB0byBhIGtleWJvYXJkIGlucHV0IGtleS5cbiAqXG4gKiBAdHlwZSB7ZW51bX0gQnV0dG9uXG4gKi9cbmVudW0gQnV0dG9uIHtcbiAgVVAgPSBcIkFycm93VXBcIixcbiAgRE9XTiA9IFwiQXJyb3dEb3duXCIsXG4gIExFRlQgPSBcIkFycm93TGVmdFwiLFxuICBSSUdIVCA9IFwiQXJyb3dSaWdodFwiLFxuICBFID0gXCJlXCIsXG4gIFEgPSBcInFcIixcbiAgQlNQQUNFID0gXCJCYWNrc3BhY2VcIixcbiAgRU5URVIgPSBcIkVudGVyXCIsXG4gIFNISUZUID0gXCJTaGlmdFwiLFxufVxuXG4vKipcbiAqIFRoZSBCdXR0b25TdGF0dXMgZW51bS5cbiAqIEB2YWx1ZXNcbiAqIFtQUkVTU0VEXTogVGhlIGJ1dHRvbiBpcyBwcmVzc2VkLlxuICogW1JBSVNFRF06IFRoZSBidXR0b24gaXMgTk9UIHByZXNzZWQsIGl0IGlzIHJhaXNlZC4gQWxzbyBjYW4gYmUgY29uc2lkZXJlZFxuICogXCJ1bnRvdWNoZWRcIiBieSB0aGUgcGxheWVyLlxuICogW0hFTERdOiBUaGUgYnV0dG9uIGlzIGhlbGQgZG93bi5cbiAqIFtSRUxFQVNFRF06IFRoZSBidXR0b24gaGFzIGJlZW4gcmVsZWFzZWQgZnJvbSBhIHByZXNzZWQgc3RhdGUuXG4gKiBbRElTQUJMRURdOiBUaGUgYnV0dG9uIGhhcyBiZWVuIGRpc2FibGVkIGFuZCB3aWxsIG5vdCBmaXJlIGV2ZW50cy5cbiAqXG4gKiBAdHlwZSB7ZW51bX0gQnV0dG9uU3RhdHVzXG4gKi9cbiBlbnVtIEJ1dHRvblN0YXR1cyB7XG4gIFBSRVNTRUQsXG4gIFJBSVNFRCxcbiAgSEVMRCxcbiAgUkVMRUFTRUQsXG4gIERJU0FCTEVELFxufVxuXG4vKipcbiAqIFRoZSBJbnB1dEhhbmRsZXIgY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnB1dEhhbmRsZXIgaW1wbGVtZW50cyBJSW5wdXRIYW5kbGVyIHtcblxuICAvKipcbiAgICogVE9ETyBTdHJ1Y3R1cmUgc2hvdWxkIGFkZCBbXCJjb250ZXh0XCJdIHNvIHdlIGNhbiBoYXZlIGNvbnRleHQtaW5kZXBlbmRlbnRcbiAgICogYnV0dG9uc1xuICAgKiBAdHlwZSB7SUlucHV0TWFwfSBUaGUgaW5wdXRNYXAgaW5zdGFuY2UuXG4gICAqL1xuICBwcml2YXRlIGlucHV0TWFwOiBJSW5wdXRNYXA7XG5cbiAgLyoqXG4gICAqIFRoZSBJbnB1dEhhbmRsZXIgY29uc3RydWN0b3IuXG4gICAqIEF0dGFjaGVzIHRoZSBrZXlkb3duIGFuZCBrZXl1cCBLZXlib2FyZEV2ZW50IHRvIHRoZSBkb2N1bWVudC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtcGFuZScpLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAna2V5ZG93bicsIChldmVudCkgPT4gdGhpcy5idXR0b25QcmVzc2VkKGV2ZW50KSwgZmFsc2VcbiAgICApO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtcGFuZScpLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAna2V5dXAnLCAoZXZlbnQpID0+IHRoaXMuYnV0dG9uUmVsZWFzZWQoZXZlbnQpLCBmYWxzZVxuICAgICk7XG5cbiAgICB0aGlzLmlucHV0TWFwID0gdGhpcy5pbml0SW5wdXRNYXAoKTtcblxuICAgIC8vIFRPRE86IFRoaXMgc2hvdWxkIHJlYWQgaW4gdXNlci1kZWZpbmVkIGlucHV0IG1hcHBpbmdzLCBvdGhlcml3c2UgbG9hZFxuICAgIC8vIGRlZmF1bHQgc2V0dGluZ3MuIChpZiB1c2VyIGhhcyBzYXZlZCBjb250cm9sIHNjaGVtZSwgZWxzZSBsb2FkIGRlZmF1bHQpXG4gICAgdGhpcy5sb2FkQ29udHJvbFNjaGVtZShDb250cm9sU2NoZW1lcy5ERUZBVUxUKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kcyBhbiBpbnB1dCB0byBhIGNvbW1hbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgVGhlIGtleSB0byBiaW5kIHRoZSBldmVudCB0b1xuICAgKiBAcGFyYW0ge0NvbW1hbmR9IGNvbW1hbmQgVGhlIGNvbW1hbmQgdG8gYmluZCB0byB0aGUgYnV0dG9uXG4gICAqL1xuICBwdWJsaWMga2V5QmluZChldmVudDogS2V5Ym9hcmRFdmVudCwgY29tbWFuZDogQ29tbWFuZCk6IHZvaWQge1xuICAgIHRoaXMuaW5wdXRNYXBbZXZlbnQua2V5XS5jb21tYW5kID0gY29tbWFuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbnMgaWYgYSBidXR0b24gd2FzIHByZXNzZWQuIENhbGxiYWNrIGZvciB3aGVuIGEgYnV0dG9uIGlzIHByZXNzZWQgYnlcbiAgICogdGhlIHVzZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgVGhlIHVzZXIgaW50ZXJhY3Rpb24gd2l0aCBhIGtleWJvYXJkLlxuICAgKi9cbiAgcHVibGljIGJ1dHRvblByZXNzZWQoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKHRoaXMuaW5wdXRNYXBbZXZlbnQua2V5XSkge1xuICAgICAgdGhpcy5pbnB1dE1hcFtldmVudC5rZXldLnN0YXR1cyA9IEJ1dHRvblN0YXR1cy5QUkVTU0VEO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmb3Igd2hlbiBhIGJ1dHRvbiBpcyByZWxlYXNlZCBieSB0aGUgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCBUaGUgdXNlciBpbnRlcmFjdGlvbiB3aXRoIGEga2V5Ym9hcmQuXG4gICAqL1xuICBwdWJsaWMgYnV0dG9uUmVsZWFzZWQoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKHRoaXMuaW5wdXRNYXBbZXZlbnQua2V5XSkge1xuICAgICAgdGhpcy5pbnB1dE1hcFtldmVudC5rZXldLnN0YXR1cyA9IEJ1dHRvblN0YXR1cy5SQUlTRUQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdXNlciBpbnB1dC4gUnVucyBvbmNlIHBlciBnYW1lIGxvb3AuXG4gICAqL1xuICBwdWJsaWMgaGFuZGxlSW5wdXQoYWN0b3I6IEdhbWVBY3RvciwgZGVsdGE6IG51bWJlcik6IHZvaWQge1xuXG4gICAgaWYgKHRoaXMuaW5wdXRNYXBbQnV0dG9uLlVQXS5zdGF0dXMgPT09IEJ1dHRvblN0YXR1cy5QUkVTU0VEKSB7XG4gICAgICB0aGlzLmlucHV0TWFwW0J1dHRvbi5VUF0uY29tbWFuZC5leGVjdXRlKGFjdG9yLCBkZWx0YSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlucHV0TWFwW0J1dHRvbi5ET1dOXS5zdGF0dXMgPT09IEJ1dHRvblN0YXR1cy5QUkVTU0VEKSB7XG4gICAgICB0aGlzLmlucHV0TWFwW0J1dHRvbi5ET1dOXS5jb21tYW5kLmV4ZWN1dGUoYWN0b3IsIGRlbHRhKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaW5wdXRNYXBbQnV0dG9uLkxFRlRdLnN0YXR1cyA9PT0gQnV0dG9uU3RhdHVzLlBSRVNTRUQpIHtcbiAgICAgIHRoaXMuaW5wdXRNYXBbQnV0dG9uLkxFRlRdLmNvbW1hbmQuZXhlY3V0ZShhY3RvciwgZGVsdGEpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnB1dE1hcFtCdXR0b24uUklHSFRdLnN0YXR1cyA9PT0gQnV0dG9uU3RhdHVzLlBSRVNTRUQpIHtcbiAgICAgIHRoaXMuaW5wdXRNYXBbQnV0dG9uLlJJR0hUXS5jb21tYW5kLmV4ZWN1dGUoYWN0b3IsIGRlbHRhKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaW5wdXRNYXBbQnV0dG9uLkVdLnN0YXR1cyA9PT0gQnV0dG9uU3RhdHVzLlBSRVNTRUQpIHtcbiAgICAgIHRoaXMuaW5wdXRNYXBbQnV0dG9uLkVdLmNvbW1hbmQuZXhlY3V0ZShhY3RvciwgZGVsdGEpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnB1dE1hcFtCdXR0b24uUV0uc3RhdHVzID09PSBCdXR0b25TdGF0dXMuUFJFU1NFRCkge1xuICAgICAgdGhpcy5pbnB1dE1hcFtCdXR0b24uUV0uY29tbWFuZC5leGVjdXRlKGFjdG9yLCBkZWx0YSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlucHV0TWFwW0J1dHRvbi5CU1BBQ0VdLnN0YXR1cyA9PT0gQnV0dG9uU3RhdHVzLlBSRVNTRUQpIHtcbiAgICAgIHRoaXMuaW5wdXRNYXBbQnV0dG9uLkJTUEFDRV0uY29tbWFuZC5leGVjdXRlKGFjdG9yLCBkZWx0YSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlucHV0TWFwW0J1dHRvbi5FTlRFUl0uc3RhdHVzID09PSBCdXR0b25TdGF0dXMuUFJFU1NFRCkge1xuICAgICAgdGhpcy5pbnB1dE1hcFtCdXR0b24uRU5URVJdLmNvbW1hbmQuZXhlY3V0ZShhY3RvciwgZGVsdGEpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnB1dE1hcFtCdXR0b24uU0hJRlRdLnN0YXR1cyA9PT0gQnV0dG9uU3RhdHVzLlBSRVNTRUQpIHtcbiAgICAgIHRoaXMuaW5wdXRNYXBbQnV0dG9uLlNISUZUXS5jb21tYW5kLmV4ZWN1dGUoYWN0b3IsIGRlbHRhKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgYW4gaW5wdXQgbWFwIHNvIHRoZSBzdHJ1Y3R1cmUgaXMgYXZhaWxhYmxlIHdoZW4gbmVlZGVkLlxuICAgKlxuICAgKiBAcmV0dXJuIHtJSW5wdXRNYXB9IFRoZSBJSW5wdXRNYXAgaW50ZXJmYWNlLlxuICAgKi9cbiAgcHJpdmF0ZSBpbml0SW5wdXRNYXAoKTogSUlucHV0TWFwIHtcbiAgICBsZXQgaXAgPSB7fTtcblxuICAgIGZvcihsZXQgYnV0dG9uS2V5IGluIEJ1dHRvbikge1xuICAgICAgaXBbQnV0dG9uW2J1dHRvbktleV1dID0ge1xuICAgICAgICBjb21tYW5kOiBOdWxsQ29tbWFuZCxcbiAgICAgICAgc3RhdHVzOiBCdXR0b25TdGF0dXMuUkFJU0VEXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGlwO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWRzIGEgY29udHJvbCBzY2hlbWUgd2hlbiB0aGUgZ2FtZSBmaXJzdCBpbml0aWFsaXplcywgc28gdGhlIHBsYXllciBjYW5cbiAgICogaGF2ZSBzb21lIGlucHV0LiBTdXBwb3J0cyBtdWx0aXBsZSBjb250cm9sIHNjaGVtZXMgc28gcGxheWVycyBjYW4gcmUtbWFwXG4gICAqIGNvbnRyb2xzIHdpdGhvdXQgaGF2aW5nIHRvIHJlLW1hcCBlYWNoIGJ1dHRvbiBpbmRpdmlkdWFsbHkuXG4gICAqXG4gICAqIEBwYXJhbSBjb250cm9sU2NoZW1lXG4gICAqL1xuICBwcml2YXRlIGxvYWRDb250cm9sU2NoZW1lKGNvbnRyb2xTY2hlbWU6IENvbnRyb2xTY2hlbWVzKTogdm9pZCB7XG4gICAgc3dpdGNoKGNvbnRyb2xTY2hlbWUpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyB0aGlzLmlucHV0TWFwW0J1dHRvbi5VUF0uY29tbWFuZCA9IG5ldyBNb3ZlTm9ydGhDb21tYW5kKHBsYXllcjogR2FtZUFjdG9yKTtcbiAgICAgICAgdGhpcy5pbnB1dE1hcFtCdXR0b24uVVBdLmNvbW1hbmQgPSBuZXcgTW92ZU5vcnRoQ29tbWFuZCgpO1xuICAgICAgICB0aGlzLmlucHV0TWFwW0J1dHRvbi5ET1dOXS5jb21tYW5kID0gbmV3IE1vdmVTb3V0aENvbW1hbmQoKTtcbiAgICAgICAgdGhpcy5pbnB1dE1hcFtCdXR0b24uTEVGVF0uY29tbWFuZCA9IG5ldyBNb3ZlV2VzdENvbW1hbmQoKTtcbiAgICAgICAgdGhpcy5pbnB1dE1hcFtCdXR0b24uUklHSFRdLmNvbW1hbmQgPSBuZXcgTW92ZUVhc3RDb21tYW5kKCk7XG4gICAgICAgIHRoaXMuaW5wdXRNYXBbQnV0dG9uLkVdLmNvbW1hbmQgPSBuZXcgTnVsbENvbW1hbmQoKTtcbiAgICAgICAgdGhpcy5pbnB1dE1hcFtCdXR0b24uUV0uY29tbWFuZCA9IG5ldyBOdWxsQ29tbWFuZCgpO1xuICAgICAgICB0aGlzLmlucHV0TWFwW0J1dHRvbi5CU1BBQ0VdLmNvbW1hbmQgPSBuZXcgTnVsbENvbW1hbmQoKTtcbiAgICAgICAgdGhpcy5pbnB1dE1hcFtCdXR0b24uRU5URVJdLmNvbW1hbmQgPSBuZXcgTnVsbENvbW1hbmQoKTtcbiAgICAgICAgdGhpcy5pbnB1dE1hcFtCdXR0b24uU0hJRlRdLmNvbW1hbmQgPSBuZXcgTnVsbENvbW1hbmQoKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gdmFyIGtleSA9IHtcbi8vICAgQkFDS1NQQUNFOiA4LFxuLy8gICBUQUI6ICAgICAgIDksXG4vLyAgIFJFVFVSTjogICAxMyxcbi8vICAgRVNDOiAgICAgIDI3LFxuLy8gICBTUEFDRTogICAgMzIsXG4vLyAgIFBBR0VVUDogICAzMyxcbi8vICAgUEFHRURPV046IDM0LFxuLy8gICBFTkQ6ICAgICAgMzUsXG4vLyAgIEhPTUU6ICAgICAzNixcbi8vICAgTEVGVDogICAgIDM3LFxuLy8gICBVUDogICAgICAgMzgsXG4vLyAgIFJJR0hUOiAgICAzOSxcbi8vICAgRE9XTjogICAgIDQwLFxuLy8gICBJTlNFUlQ6ICAgNDUsXG4vLyAgIERFTEVURTogICA0Nixcbi8vICAgWkVSTzogICAgIDQ4LCBPTkU6IDQ5LCBUV086IDUwLCBUSFJFRTogNTEsIEZPVVI6IDUyLCBGSVZFOiA1MywgU0lYOiA1NCwgU0VWRU46IDU1LCBFSUdIVDogNTYsIE5JTkU6IDU3LFxuLy8gICBBOiAgICAgICAgNjUsIEI6IDY2LCBDOiA2NywgRDogNjgsIEU6IDY5LCBGOiA3MCwgRzogNzEsIEg6IDcyLCBJOiA3MywgSjogNzQsIEs6IDc1LCBMOiA3NiwgTTogNzcsIE46IDc4LCBPOiA3OSwgUDogODAsIFE6IDgxLCBSOiA4MiwgUzogODMsIFQ6IDg0LCBVOiA4NSwgVjogODYsIFc6IDg3LCBYOiA4OCwgWTogODksIFo6IDkwLFxuLy8gICBUSUxEQTogICAgMTkyXG4vLyB9O1xuIiwiaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gXCIuLi8uLi90eXBlcy9nbG9iYWxzXCI7XG5cbmludGVyZmFjZSBJQ2FtZXJhIHtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgcG9zaXRpb24gb2YgdGhlIGNhbWVyYS5cbiAgICovXG4gIHBvc2l0aW9uOiBDb29yZGluYXRlO1xuXG4gIC8qKlxuICAgKiBUaGUgd2lkdGggb2YgdGhlIENhbWVyYSdzIHZpZXdwb3J0LlxuICAgKi9cbiAgd2lkdGg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGhlaWdodCBvZiB0aGUgQ2FtZXJhJ3Mgdmlld3BvcnQuXG4gICAqL1xuICBoZWlnaHQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGxpbWl0IGZvciB0aGUgY2FtZXJhJ3MgcG9zaXRpb24g4oCUIFRoZSBsb3dlciBsaW1pdCB3aWxsIG5lYXJseSBhbHdheXMgYmVcbiAgICogKDAsMCkuIFRoZSB1cHBlciBsaW1pdCBpcyBlcXVhbCB0byB0aGUgc2l6ZSBvZiB0aGUgd29ybGQgbWludXMgdGhlIHNpemUgb2ZcbiAgICogdGhlIGNhbWVyYSdzIHZpZXdwb3J0LlxuICAgKi9cbiAgbWF4WDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbGltaXQgZm9yIHRoZSBjYW1lcmEncyBwb3NpdGlvbiDigJQgVGhlIGxvd2VyIGxpbWl0IHdpbGwgbmVhcmx5IGFsd2F5cyBiZVxuICAgKiAoMCwwKS4gVGhlIHVwcGVyIGxpbWl0IGlzIGVxdWFsIHRvIHRoZSBzaXplIG9mIHRoZSB3b3JsZCBtaW51cyB0aGUgc2l6ZSBvZlxuICAgKiB0aGUgY2FtZXJhJ3Mgdmlld3BvcnQuXG4gICAqL1xuICBtYXhZOiBudW1iZXI7XG5cbn1cblxuZXhwb3J0IGNsYXNzIENhbWVyYSBpbXBsZW1lbnRzIElDYW1lcmEge1xuXG4gIHBvc2l0aW9uOiBDb29yZGluYXRlO1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgbWF4WDogbnVtYmVyO1xuICBtYXhZOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7fVxuXG59XG4iLCJpbXBvcnQgeyBNYXBCYXNlIH0gZnJvbSBcIi4uLy4uL2F0bGFzZXMvTWFwQmFzZVwiO1xuaW1wb3J0IHsgT3ZlcndvcmxkIH0gZnJvbSBcIi4uLy4uL2F0bGFzZXMvT3ZlcndvcmxkXCI7XG5cbmV4cG9ydCBjbGFzcyBSZW5kZXJlciB7XG5cbiAgRU1QVFlfVElMRTogbnVtYmVyO1xuICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgcGl4ZWxzOiBudW1iZXI7XG4gIHNjYWxlOiBudW1iZXI7XG4gIHNjZW5lV2lkdGg6IG51bWJlcjtcbiAgc2NlbmVIZWlnaHQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVE9ETzogQ2hhbmdlIHRoaXMgdG8gYmUgdGhlIHNjZW5lLiBSZWNyZWF0ZSB0aGUgUmVuZGVyZXIgd2hlbiBhIG5ldyBzY2VuZVxuICAgKiBpcyBsb2FkZWQuXG4gICAqL1xuICBwcm90ZWN0ZWQgX2N1cnJlbnRNYXA6IE1hcEJhc2U7XG5cbiAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuXG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2FudmFzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAdmFyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIC8qKlxuICAgICAqIFByZXZlbnQgYW50aS1hbGlhc2luZyBpbiB0aGUgZXZlbnQgYSB0aWxlIGdldHMgc2NhbGVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkfVxuICAgICAqL1xuICAgICB0aGlzLmN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBlbXB0eSB0aWxlIHZhbHVlLiBJZiB0aGlzIHZhbHVlIGlzIHNldCBmb3IgYSBwb3NpdGlvbiBpbiBhIG1hcCdzXG4gICAgICogYXJyYXksIGl0IHdpbGwgbm90IGJlIHJlbmRlcmVkLlxuICAgICAqIFRPRE86IE1vdmUgdGhpcyB0byB0aGUgU2NlbmUuXG4gICAgICpcbiAgICAgKiBAdmFyIHtpbnRlZ2VyfVxuICAgICAqL1xuICAgIHRoaXMuRU1QVFlfVElMRSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVyIGZvciB4LHkgcG9zaXRpb24gdG8gcGl4ZWxzLiBXaGF0IHNpemUgdGhlIHRpbGVzIGZvciB0aGUgZ2FtZVxuICAgICAqIHdpbGwgYmUgcmVuZGVyZWQgYXQuIEFsd2F5cyB1c2UgYSBwb3dlciBvZiAyIHNvIHRoZSBzY2FsaW5nIHByZXZlbnRzXG4gICAgICogYmx1cnJpbmcuXG4gICAgICpcbiAgICAgKiBAdmFyIHtpbnRlZ2VyfVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxzID0gMzI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGUgYXQgd2hpY2ggdGhlIHRpbGUgd2lsbCBiZSByZW5kZXJlZC4gMSA9IDF4IHNjYWxpbmcsIDIgPSAyeFxuICAgICAqIHNjYWxpbmcsIGV0Yy5cbiAgICAgKlxuICAgICAqIEB2YXIge2ludGVnZXJ9XG4gICAgICovXG4gICAgdGhpcy5zY2FsZSA9IDE7XG5cbiAgICB0aGlzLl9jdXJyZW50TWFwID0gbmV3IE92ZXJ3b3JsZCgpO1xuICB9XG5cbiAgZHJhdyhnYW1lT2JqZWN0Q291bnQ6IG51bWJlciwgZ2FtZU9iamVjdHM6IEFycmF5PGFueT4pIHtcblxuICAgIC8vIENsZWFyIHRoZSBzY3JlZW5cbiAgICAvLyBUT0RPOiBQdWxsIHRoaXMgb3V0LiBQdXQgaW4gcmVuZGVyZXIuXG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCxcbiAgICAgIHRoaXMuY2FudmFzLmhlaWdodFxuICAgICk7XG5cbiAgICAvLyBBbHdheXMgc3RvcmUgdGhlIHRleHR1cmUgaW4gYSB2YXIgc28gd2UgZG9uJ3QgY2FsbCBcIm5ldyBGb28oKVwiIG11bHRpcGxlXG4gICAgLy8gdGltZXMgYSBzZWNvbmQuXG4gICAgdGhpcy5kcmF3VGlsZU1hcCh0aGlzLl9jdXJyZW50TWFwKTtcblxuICAgIGZvciAobGV0IGk9MDsgaTxnYW1lT2JqZWN0Q291bnQ7IGkrKykge1xuICAgICAgZ2FtZU9iamVjdHNbaV0uZHJhdyh0aGlzLmN0eCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgYSBtYXAgYWNjb3JkaW5nIHRvIHRoZSBjb29yZGluYXRlcyBnaXZlbiBpbiB0aGUgbWFwJ3MgZmlsZSBieVxuICAgKiB0cmFuc2xhdGluZyB0aGUgY29vcmRpbmF0ZXMgdG8gYSBzcHJpdGVzaGVldC5cbiAgICpcbiAgICogSWYgYSB0aWxlIGlzIDMyeDMyIHBpeGVscywgdGhlIDFzdCB0aWxlIHdpbGwgc3RhcnQgYXQgKDAsMCkgb25cbiAgICogdGhlIHNwcml0ZXNoZWV0LCB0aGUgMm5kIHRpbGUgd2lsbCBzdGFydCBhdCAoMzIsMCksIHRoZSAzNGQgYXQgKDY0LDApIGFuZFxuICAgKiBzbyBvbi5cbiAgICpcbiAgICogKy0tLSstLS0rLS0tKy0tLStcbiAgICogfCAxIHwgMiB8IDMgfCA0IHxcbiAgICogKy0tLSstLS0rLS0tKy0tLStcbiAgICogfCA1IHwgNiB8IDcgfCA4IHxcbiAgICogKy0tLSstLS0rLS0tKy0tLStcbiAgICpcbiAgICogJ3NvdXJjZSB4JyBhbmQgJ3NvdXJjZSB5JyB3aWxsIGdldCB0aGUgY29ycmVjdCBjb29yZHMgaW4gdGhlIGltYWdlIGZpbGUuXG4gICAqIFNvIGZvciBvdXIgZmlyc3QgdGlsZSwgJzEnLCBkcmF3SW1hZ2Ugd2lsbCBncmFiIHRoZSBzdWJpbWFnZSBhdCAoMzIsMCkuXG4gICAqIGRyYXdJbWFnZSB3b3VsZCBnZXQgdGhlIHN1YmltYWdlIGF0ICg2NCwzMikgZm9yIHRpbGUgJzcnLlxuICAgKlxuICAgKiBUT0RPICBodHRwczovL2hhc2hyb2NrZXQuY29tL2Jsb2cvcG9zdHMvdXNpbmctdGlsZWQtYW5kLWNhbnZhcy10by1yZW5kZXItZ2FtZS1zY3JlZW5zXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgIFRoZSBtYXAgb2JqZWN0IHRoYXQgZXh0ZW5kcyBNYXBCYXNlLlxuICAgKi9cbiAgZHJhd1RpbGVNYXAobWFwOiBNYXBCYXNlKTogdm9pZCB7XG4gICAgZm9yIChsZXQgeD0wOyB4PG1hcC5jb2xzOyB4KyspIHtcbiAgICAgIGZvciAobGV0IHk9MDsgeTxtYXAucm93czsgeSsrKSB7XG4gICAgICAgIGxldCB0aWxlID0gbWFwLmdldFRpbGUoeCwgeSk7XG5cbiAgICAgICAgLy8gTGV0J3Mgc2tpcCByZW5kZXJpbmcgZW1wdHkgdGlsZXMuXG4gICAgICAgIGlmICh0aWxlICE9PSB0aGlzLkVNUFRZX1RJTEUpIHtcbiAgICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAvLyBJbWFnZSBTb3VyY2VcbiAgICAgICAgICAgIG1hcC5TTSxcbiAgICAgICAgICAgIC8vIFNvdXJjZSB4IChTZWUgZXhhbXBsZSBpbiBjb21tZW50IGJsb2NrKVxuICAgICAgICAgICAgKCh0aWxlIC0gMSkgJSBtYXAuY29scykgKiB0aGlzLnBpeGVscyxcbiAgICAgICAgICAgIC8vIFNvdXJjZSB5IChTZWUgZXhhbXBsZSBpbiBjb21tZW50IGJsb2NrKVxuICAgICAgICAgICAgTWF0aC5mbG9vcigoKHRpbGUgLSAxKSAvIG1hcC5yb3dzKSkgKiB0aGlzLnBpeGVscyxcbiAgICAgICAgICAgIC8vIFNvdXJjZSB3aWR0aFxuICAgICAgICAgICAgdGhpcy5waXhlbHMsXG4gICAgICAgICAgICAvLyBTb3VyY2UgaGVpZ2h0XG4gICAgICAgICAgICB0aGlzLnBpeGVscyxcbiAgICAgICAgICAgIC8vIFRhcmdldCB4XG4gICAgICAgICAgICB4ICogKHRoaXMucGl4ZWxzICogdGhpcy5zY2FsZSksXG4gICAgICAgICAgICAvLyBUYXJnZXQgeVxuICAgICAgICAgICAgeSAqICh0aGlzLnBpeGVscyAqIHRoaXMuc2NhbGUpLFxuICAgICAgICAgICAgLy8gVGFyZ2V0IHdpZHRoXG4gICAgICAgICAgICB0aGlzLnBpeGVscyAqIHRoaXMuc2NhbGUsXG4gICAgICAgICAgICAgLy8gVGFyZ2V0IGhlaWdodFxuICAgICAgICAgICAgdGhpcy5waXhlbHMgKiB0aGlzLnNjYWxlLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsIi8vIEltcG9ydCBldmVyeXRoaW5nXG5pbXBvcnQge1xuICBDb21tYW5kLFxuICBNb3ZlRWFzdENvbW1hbmQsXG4gIE1vdmVOb3J0aENvbW1hbmQsXG4gIE1vdmVTb3V0aENvbW1hbmQsXG4gIE1vdmVXZXN0Q29tbWFuZCxcbiAgTnVsbENvbW1hbmRcbn0gZnJvbSBcIi4uL0NvbW1hbmRcIlxuaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBFdmVudENvbXBvbmVudCxcbiAgTGlmZWZvcmNlQ29tcG9uZW50LFxuICBNb3ZlbWVudENvbXBvbmVudFxufSBmcm9tIFwiLi4vQ29tcG9uZW50XCJcbmltcG9ydCB7IFBsYXllckRlYXRoRXZlbnQgfSBmcm9tIFwiLi4vRXZlbnRcIlxuaW1wb3J0IHtcbiAgQWN0b3JGYWN0b3J5LFxuICBQbGF5ZXJGYWN0b3J5LFxuICBPcmRpbmFyeUZvbGtGYWN0b3J5LFxuXG4gIEdhbWVPYmplY3QsXG4gIEdhbWVBY3RvcixcbiAgTnBjLFxuICBPcmRpbmFyeUZvbGssXG4gIFBsYXllclxufSBmcm9tIFwiLi4vR2FtZU9iamVjdFwiXG5pbXBvcnQgeyBJbnB1dEhhbmRsZXIgfSBmcm9tIFwiLi4vSW5wdXQvSW5wdXRIYW5kbGVyXCJcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gXCIuLi9SZW5kZXIvQ2FtZXJhL0NhbWVyYVwiXG5pbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gXCIuLi9SZW5kZXIvUmVuZGVyZXJcIlxuaW1wb3J0IHsgQXNzZXRMb2FkZXIgfSBmcm9tIFwiLi4vQXNzZXRMb2FkZXJcIlxuaW1wb3J0IHsgRmllbmRHYW1lIH0gZnJvbSBcIi4uL0ZpZW5kR2FtZVwiXG5cbi8qKlxuICogVGhlIFNhbmRib3ggY2xhc3MuIFBsYXkgYXJvdW5kIVxuICogVGhpcyBpcyBhIGRlYnVnIGZpbGUgYW5kIHNob3VsZCBub3QgYmUgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgU2FuZGJveCB7XG5cbiAgLyoqXG4gICAqIFRoaXMgYXJyYXkgcmVwbGFjZXMgdGhlIG5vcm1hbCBnYW1lT2JqZWN0cyBhcnJheSBmb3VuZCBpbiBGaWVuZEdhbWUuXG4gICAqL1xuICBwdWJsaWMgdGVzdEdhbWVPYmplY3RzOiBBcnJheTxhbnk+O1xuXG4gIC8vIFRPRE86IFRoaXMgaXMgYSB0ZXN0ISBBY3RvciBmYWN0b3JpZXMgc2hvdWxkIGJlIGxvYWRlZCBwZXIgU2NlbmUsIG9uY2UgdGhlXG4gIC8vIHNjZW5lIGZ1bmN0aW9uYWxpdHkgaXMgY3JlYXRlZCFcbiAgcHVibGljIE9yZGluYXJ5Rm9sa0ZhY3Rvcnk6IE9yZGluYXJ5Rm9sa0ZhY3Rvcnk7XG4gIHB1YmxpYyBQbGF5ZXJGYWN0b3J5OiBQbGF5ZXJGYWN0b3J5O1xuXG4gIC8qKlxuICAgKiBUaGUgaW5zdGFuY2Ugb2YgdGhlIFBsYXllcidzIGNoYXJhY3Rlci5cbiAgICovXG4gIHB1YmxpYyBQbGF5ZXI6IFBsYXllcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBJbnN0YW50aWF0ZSBBY3RvciBmYWN0b3JpZXMgaGVyZSBhcyBhIHRlc3QuIFdlIHdhbnQgdG8gaW5zdGFudGlhdGUgdGhlXG4gICAgLy8gZmFjdG9yeSBzbyB0aGUgbWVtb3J5IGlzIGFsbG9jYXRlZCB3aGVuIHRoZSBTY2VuZSBpcyBsb2FkZWQuXG4gICAgLy8gVE9ETzogQWN0b3IgZmFjdG9yaWVzIHNob3VsZCBiZSBsb2FkZWQgcGVyIFNjZW5lLCBvbmNlIHRoZSBzY2VuZVxuICAgIC8vIGZ1bmN0aW9uYWxpdHkgaXMgY3JlYXRlZCFcbiAgICB0aGlzLk9yZGluYXJ5Rm9sa0ZhY3RvcnkgPSBuZXcgT3JkaW5hcnlGb2xrRmFjdG9yeSgpO1xuICAgIHRoaXMuUGxheWVyRmFjdG9yeSA9IG5ldyBQbGF5ZXJGYWN0b3J5KCk7XG4gICAgdGhpcy5QbGF5ZXIgPSB0aGlzLlBsYXllckZhY3Rvcnkuc3Bhd24oe3g6MTI1LHk6MTI1fSk7XG5cbiAgICB0aGlzLnRlc3RHYW1lT2JqZWN0cyA9IFtcbiAgICAgIC8vIFRPRE8gVGhpcyBpcyBhIHRlc3QsIGRvIHNob3VsZCBiZSBlbXB0eSBvbiBpbml0LlxuICAgICAgdGhpcy5QbGF5ZXIsXG4gICAgICB0aGlzLk9yZGluYXJ5Rm9sa0ZhY3Rvcnkuc3Bhd24oe3g6MjAwLHk6MTAwfSksXG4gICAgXTtcblxuICAgIC8vIFRPRE86IFRoaXMgaXMgYSB0ZXN0IHRvIHRlc3QgZXZlbnQgZW1pc3Npb24uXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtcGFuZScpLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAncGxheWVyX2RpZWQnLFxuICAgICAgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4gdGhpcy5yZXNwb25kVG9HYW1lT2JqZWN0Q3JlYXRpb24oZXZlbnQpLFxuICAgICAgZmFsc2VcbiAgICApO1xuXG5cbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGUoZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICB9XG5cbiAgcHVibGljIHJlc3BvbmRUb0dhbWVPYmplY3RDcmVhdGlvbihldmVudDogQ3VzdG9tRXZlbnQpIHtcbiAgICBjb25zb2xlLmxvZygnZXZlbnQuZGV0YWlsLmdvX2lkIDonLCBldmVudC5kZXRhaWwuZ29faWQpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBGaWVuZEdhbWUgfSBmcm9tIFwiLi9lbmdpbmUvRmllbmRHYW1lXCI7XG5pbXBvcnQgeyBBc3NldExvYWRlciB9IGZyb20gXCIuL2VuZ2luZS9Bc3NldExvYWRlclwiO1xuXG4vKipcbiAqIFdlIG5lZWQgc29tZSBnbG9iYWwgdmFyaWFibGVzIHNvIHdlIGNhbiBsb2FkIHRoZSBnYW1lIGFuZCB0aGUgYXNzZXRzLiBMZXQnc1xuICogY29uc2lkZXIgbW92aW5nIHRoZSBGX0xPQURFUiB0byBpdCdzIG93biBjbGFzcyBzbyB3ZSBkb24ndCBuZWVkIGEgZ2xvYmFsIGZvclxuICogdGhlIGFzc2V0cy5cbiAqL1xuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBGX0xPQURFUjogQXNzZXRMb2FkZXI7XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgRmllbmRHYW1lLCB3aGljaCBsb2FkcyB0aGUgZ2FtZS5cbiAqL1xuZnVuY3Rpb24gaW5pdCgpIHtcblxuICAvLyBJbml0IGZ1bmN0aW9uYWxpdHksIGZvciBub3cuXG4gIG5ldyBGaWVuZEdhbWUoNjQwLCA0ODApO1xuICAvLyBGb2N1cyB0aGUgZ2FtZSBwYW5lIG9uIHBhZ2UgbG9hZC5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWUtcGFuZScpLmZvY3VzKCk7XG59O1xuXG4vKipcbiAqIEVuc3VyZSB0aGUgYXNzZXRzIGFyZSBsb2FkZWQgYmVmb3JlIHdlIGluaXRpYWxpemUgdGhlIGdhbWUuIFdlIGRvIHRoaXMgd2l0aCBhXG4gKiBwcm9taXNlIHRvIGVuc3VyZSBhbGwgdGhlIGltYWdlcyBhcmUgbG9hZGVkIGFuZCByZWFkeSB0byBiZSB1c2VkLlxuICogVE9ETyBNYWtlIHRoaXMgYmV0dGVyLCBtb3JlIFR5cGVTY3JpcHQteS5cbiAqL1xuIHdpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblxuICB3aW5kb3cuRl9MT0FERVIgPSBuZXcgQXNzZXRMb2FkZXIoKTtcbiAgdmFyIHAgPSB3aW5kb3cuRl9MT0FERVIuaW5pdEFzc2V0cygpO1xuICBQcm9taXNlLmFsbChwKS50aGVuKCAoKSA9PiB7XG4gICAgaW5pdCgpO1xuICB9KTtcbn1cbiJdfQ=="}
{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/atlases/MapBase.ts","src/atlases/Overworld.ts","src/engine/AssetLoader.ts","src/engine/Command/Command.ts","src/engine/Command/MoveEastCommand.ts","src/engine/Command/MoveNorthCommand.ts","src/engine/Command/MoveSouthCommand.ts","src/engine/Command/MoveWestCommand.ts","src/engine/Command/NullCommand.ts","src/engine/Command/index.ts","src/engine/Component/Component.ts","src/engine/Component/EventComponent.ts","src/engine/Component/LifeforceComponent.ts","src/engine/Component/index.ts","src/engine/Event/PlayerDeathEvent.ts","src/engine/FiendGame.ts","src/engine/GameObject/GameActor/Enemy.ts","src/engine/GameObject/GameActor/GameActor.ts","src/engine/GameObject/GameActor/Player.ts","src/engine/GameObject/GameObject.ts","src/engine/GameObject/index.ts","src/engine/Input/InputHandler.ts","src/engine/Render/Camera/Camera.ts","src/engine/Render/Renderer.ts","src/main.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export class MapBase {\n  SM: HTMLImageElement;\n  cols: number;\n  rows: number;\n  tsize: number;\n  tiles: Array<any>;\n  \n  constructor() {\n    this.cols = 0;\n    this.rows = 0;\n    this.tsize = 0;\n    this.tiles = null;\n  }\n\n  /**\n   * Gets the tile value located by the column and row (x,y) coordinates.\n   * This is trivial with a 2D array, but this method allows us to use a 1D\n   * array instead.\n   *\n   * @param {integer} x   The x-axis position of the requested tile.\n   * @param {integer} y   The y-axis position of the requested tile.\n   */\n  getTile(x: number, y: number): number {\n    if (\n      this.cols === 0\n      || this.rows === 0\n      || this.tsize === 0\n    ) {\n      throw new Error(\"Map size needs to have proper dimensions.\");\n    }\n\n    return this.tiles[y * this.cols + x];\n  }\n}\n","import { MapBase } from \"./MapBase\";\n\nexport class Overworld extends MapBase {\n  SM: HTMLImageElement;\n  tiles: Array<any>;\n  layers: Array<any>;\n  cols: number;\n  rows: number;\n  tsize: number;\n  \n  constructor() {\n    super();\n\n    /**\n     * The spritemap to be used.\n     * @var {HTMLImageElement}\n     */\n    this.SM = window.F_LOADER.getImage('TESTNUMBERED');\n\n    this.cols = 20;\n    this.rows = 15;\n    this.tsize = 300;\n    this.tiles = [\n        1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,\n       21,  2,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,\n        8,  8,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  5,  5,  5,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  5,  0,  5,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  5,  5,  5,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,\n        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 10,\n    ];\n    this.layers = [\n      [\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n      ], [\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n      ]\n    ]\n  }\n\n}\n","export class AssetLoader {\n  private _assetList: Array<any>;\n\n  constructor() {\n    this._assetList = [];\n  }\n\n  public initAssets(): Array<any> {\n    return [\n      this.loadImage(\"testTileset\", \"./DAT/1bittest.png\"),\n      this.loadImage(\"testTileset2\", \"./DAT/psychic-swamp.png\"),\n      this.loadImage(\"TESTORIG\", \"./DAT/low-res-spritesheet.png\"),\n      this.loadImage(\"TESTNUMBERED\", \"./DAT/pixel_art_tileset_test.png\"),\n    ];\n  }\n\n  public loadImage(key: string, src: string) {\n    let img = new Image();\n\n    let d = new Promise(function (resolve, reject) {\n      img.onload = function () {\n        this._assetList[key] = img;\n        resolve(img);\n      }.bind(this);\n\n      img.onerror = function () {\n        reject('Could not load image: ' + src);\n      };\n    }.bind(this));\n  \n    img.src = src;\n  \n    return d;\n  }\n\n  public getImage(key: string): HTMLImageElement {\n    return (key in this._assetList) ? this._assetList[key] : null;\n  };\n}","import { GameActor } from \"../GameObject\";\n\nexport abstract class Command {\n  public abstract execute(actor: GameActor, delta: number): void;\n}\n","import { Command } from \"./Command\";\nimport { GameActor } from \"../GameObject\";\n\n/**\n * The MoveEastCommand class.\n */\nexport class MoveEastCommand extends Command {\n\n  /**\n   * Executes the command.\n   */\n  public execute(actor: GameActor, delta: number): void {\n    actor.moveE(delta);\n  }\n}\n","import { Command } from \"./Command\";\nimport { GameActor } from \"../GameObject\";\n\n/**\n * The MoveNorthCommand class.\n */\nexport class MoveNorthCommand extends Command {\n\n  /**\n   * Executes the command.\n   */\n  public execute(actor: GameActor, delta: number): void {\n    actor.moveN(delta);\n  }\n}\n","import { Command } from \"./Command\";\nimport { GameActor } from \"../GameObject\";\n\n/**\n * The MoveSouthCommand class.\n */\nexport class MoveSouthCommand extends Command {\n\n  /**\n   * Executes the command.\n   */\n  public execute(actor: GameActor, delta: number): void {\n    actor.moveS(delta);\n  }\n}\n","import { Command } from \"./Command\";\nimport { GameActor } from \"../GameObject\";\n\n/**\n * The MoveWestCommand class.\n */\nexport class MoveWestCommand extends Command {\n\n  /**\n   * Executes the command.\n   */\n  public execute(actor: GameActor, delta: number): void {\n    actor.moveW(delta);\n  }\n}\n","import { Command } from \"./Command\";\n\n/**\n * The NullCommand class.\n * This class is special in that it intentionally doesn't execute anything, in\n * so if a user doesn't have a mapped button, we don't have to check fo `null`.\n */\nexport class NullCommand extends Command {\n\n  /**\n   * Executes the command.\n   */\n  public execute(): void {}\n}\n","/**\n * @file The Command Barrel. Re-exports Command files for easier import\n * elsewhere.\n * @see @link https://basarat.gitbooks.io/typescript/docs/tips/barrel.html\n */\n\n/**\n * The base command class.\n */\nexport * from './Command';\n\nexport * from './NullCommand';\n\nexport * from './MoveNorthCommand';\n\nexport * from './MoveSouthCommand';\n\nexport * from './MoveEastCommand';\n\nexport * from './MoveWestCommand';\n\n","interface IComponent {\n}\n\nexport abstract class Component {\n\n}\n","/**\n * The EventComponent interface.\n */\n interface IEventComponent {\n\n  /**\n   * The list of ES6 Events or CustomEvents that can be emitted.\n   *\n   * @type {EventContainer}\n   */\n  attachedEvents: EventContainer;\n\n  /**\n   * Adds DOM Events to this component via an array of events.\n   *\n   * @param events The array of events to add.\n   */\n  attachMultiple(eventList: Array<Event|CustomEvent>): void;\n\n  /**\n   * Attaches a single event to this component. Attached components can be\n   * emitted.\n   *\n   * @param event An `Event` or `CustomEvent` that this EventComponent knows\n   * about.\n   */\n  attach(event: Event|CustomEvent): void;\n\n  /**\n   * Emits an event via the `game-pane` DOM element. Uses the string name of the\n   * event to lookup if it's in the attachedEvent member.\n   *\n   * @param eventName The event to emit.\n   */\n  emit(eventName: string): void;\n}\n\n/**\n * The EventComponent class.\n */\nexport class EventComponent implements IEventComponent {\n\n  /**\n   * @var attachedEvents The list of events that can be emitted.\n   */\n  public attachedEvents: EventContainer;\n\n  /**\n   * @constructor\n   */\n  public constructor() {\n    // We need to declare this as an object otherwise we get a reference error\n    // when we try and assign events to it in the `attach` and `attachMultiple`\n    // methods.\n    this.attachedEvents = {};\n  }\n\n  /**\n   * Attaches a single event to this component. Attached components can be\n   * emitted.\n   *\n   * @param event An `Event` or `CustomEvent` that this EventComponent knows\n   * about.\n   */\n  public attach(event: Event|CustomEvent): void {\n    this.attachedEvents[event.type] = event;\n  }\n\n  /**\n   * Adds DOM Events to this component via an array of events.\n   *\n   * @param events The array of events to add.\n   */\n  public attachMultiple(eventList: Array<Event|CustomEvent>): void {\n    for (let event of eventList) {\n      this.attach(event);\n    }\n  }\n\n  /**\n   * Emits an event via the `game-pane` DOM element. Uses the string name of the\n   * event to lookup if it's in the attachedEvent member.\n   *\n   * @param eventName The event to emit.\n   */\n  public emit(eventName: string): void {\n    document.getElementById('game-pane')\n      .dispatchEvent(this.attachedEvents[eventName]);\n  }\n\n}\n","import { GameObject } from '../GameObject/GameObject';\nimport { Component } from './Component';\nimport { EventComponent } from './EventComponent';\n\nimport { PlayerDeathEvent } from '../Event/PlayerDeathEvent';\n\n/**\n * The Lifeforce component. Adds health to a GameObject. Adds life, health\n * regeneration, and death.\n *\n * This component is required for entities to be alive or dead, as well as take\n * damage.\n */\nexport class LifeforceComponent extends Component {\n\n  private currentHP: number;\n\n  private maxHP: number;\n\n  private _eventComponent: EventComponent;\n\n  /**\n   * @constructor\n   *\n   * @param GO The GameObject this component belongs to.\n   */\n  public constructor(GO: GameObject) {\n    super();\n\n    this._eventComponent = new EventComponent();\n    this._eventComponent.attach(PlayerDeathEvent.create(GO));\n  }\n\n  /**\n   * Update is intended to be run once per frame.\n   */\n  public update(): void {\n    // this._eventComponent.emit('player_died');\n  }\n\n}\n","/**\n * @file The Component Barrel. Re-exports Component files for easier import\n * elsewhere.\n * @see @link https://basarat.gitbooks.io/typescript/docs/tips/barrel.html\n */\n\n/**\n * Progenitor classes for all Component classes in the game.\n */\nexport * from './Component';\n\n/**\n * The Lifeforce component. Adds health and all that comes with it when attached\n * to an entity.\n */\nexport * from './LifeforceComponent';\n\n/**\n * The Event component. Allows an entiy to emit and/or listen for events.\n */\nexport * from './EventComponent';\n","import { GameObject } from '../GameObject';\n\n/**\n * The PlayerDeathEvent class.\n */\nexport class PlayerDeathEvent {\n\n  /**\n   * Retrieves the native ES6 CustomEvent. [[CustomEvent]] allows the attachment\n   * of data via the `CustomEventInit` dictionary.\n   *\n   * @param player The player GameObject.\n   */\n  public static create(player: GameObject): CustomEvent {\n\n    let event = new CustomEvent('player_died', {\n      detail: {\n        'go_id': player.getId(),\n      }\n    });\n\n    return event;\n  }\n}\n","import { InputHandler } from \"./Input/InputHandler\";\nimport { Camera } from \"./Render/Camera/Camera\";\nimport { Renderer } from \"./Render/Renderer\";\n\n// Player\nimport { Player } from './GameObject';\n\n// Enemies\n// TODO: Might remove\nimport { Enemy } from './GameObject';\n\n/**\n * The Game superclass. Operations to act upon the main game thread are found\n * here.\n */\nexport class FiendGame {\n\n  /**\n   * The input handler that accepts player input.\n   */\n  public InputHandler: InputHandler;\n\n  /**\n   * The instance of the Player's character.\n   */\n  public Player: Player;\n\n  /**\n   * The renderer responsible for drawing to the screen.\n   */\n  public Renderer: Renderer;\n\n  /**\n   * The main camera\n   */\n  public Camera: Camera;\n\n  /**\n   * The canvas in the DOM. What the game is rendered on.\n   */\n  public canvas: HTMLCanvasElement;\n\n  /**\n   * The number of currently-active game objects.\n   *\n   * @type {number}\n   */\n  public gameObjectCount: number;\n\n  /**\n   * The list of active game objects. Every game object in this list will have\n   * their state updated every frame, if possible.\n   */\n  public gameObjects: Array<any>;\n\n  /**\n   * The max amount of active game objects that can be present in the game.\n   * TODO: Figure out what happens if this limit is reached.\n   * @internal This could be an \"importance weight\" where less important game\n   * objects are purged.\n   */\n  public maxEntities: number;\n\n  /**\n   * The HTML wrapper for the game. Assume everything in this container is part\n   * of the game.\n   */\n  public container: HTMLElement;\n\n  /**\n   * How frequently the game state updates, ideally. Defaults to 60 Hz, 16.6\n   * frames-per-second.\n   */\n  public tickLength: number;\n\n  /**\n   * The most recently elapsed tick of the game clock.\n   */\n  public lastFrameTime: number;\n\n  /**\n   * The ID returned from our main loop's most recent call to\n   * requestAnimationFrame(). The token can then be used when we call\n   * cancelAnimationFrame() to stop the main loop by telling the browser to\n   * cancel the request that corresponds to our token.\n   */\n  public stopToken: number|null;\n\n  constructor(gamePaneWidth: number, gamePaneHeight: number) {\n\n    /**\n     * Create the game pane and canvas.\n     */\n    this.canvas = this.genCanvas(gamePaneWidth, gamePaneHeight);\n    this.container = document.getElementById(\"fiend-game\");\n    this.container.insertBefore(this.canvas, this.container.firstChild);\n\n    document.getElementById('game-pane').addEventListener(\n      'test_event',\n      (event: CustomEvent) => this.respondToGameObjectCreation(event),\n      false\n    );\n\n    this.stopToken = null;\n\n    this.tickLength = 60;\n\n    this.lastFrameTime = 0;\n\n    this.maxEntities = 1000;\n\n    this.Player = new Player({x:125,y:125});\n\n    this.Renderer = new Renderer(this.canvas);\n\n    this.InputHandler = new InputHandler();\n\n    this.Camera = new Camera();\n\n    this.gameObjectCount = 0;\n\n    this.gameObjects = [\n      // TODO This is a test, do should be empty on init.\n      // new Enemy(),\n      this.Player,\n    ];\n\n    // Let's kick off the game loop!\n    this.main(performance.now());\n  }\n\n  /**\n   * Generates a new canvas DOM canvas element. The game will run in this\n   * canvas.\n   *\n   * @param {number} w The width of the canvas, in pixels.\n   * @param {number} h The height of the canvas, in pixels.\n   */\n  private genCanvas(w: number, h: number): HTMLCanvasElement {\n    let canvas = document.createElement('canvas');\n    canvas.id = \"game-pane\";\n    canvas.width = w;\n    canvas.height = h;\n    canvas.tabIndex = 1;\n\n    return canvas;\n  }\n\n  public respondToGameObjectCreation(event: CustomEvent) {\n    console.log('event.detail.go_id :', event.detail.go_id);\n  }\n\n  /**\n   * Calculates the game state as of a given point in time. It is the authority\n   * for game state. The delta should be used in calculations to make the game\n   * simulation framerate independent.\n   *\n   * @param {float} delta  The difference in time between this frame and last\n   * frame, in seconds.\n   */\n  private _update(delta: number): void {\n    // TODO Remove clog.\n    // console.log('delta :', delta);\n    for (let i=0; i<this.gameObjectCount; i++) {\n      this.gameObjects[i].update(delta);\n    }\n\n    this.gameObjectCount = this.gameObjects.length;\n  }\n\n  /**\n   * Responsible for drawing the current game state to the screen.\n   */\n  private _draw(): void {\n\n    // Draw the scene.\n    this.Renderer.draw(this.gameObjectCount, this.gameObjects);\n  }\n\n  /**\n   * Stops the main game loop.\n   */\n  private stopMainLoop(): void {\n    window.cancelAnimationFrame(this.stopToken);\n    console.log(\"Goodbye...\");\n  }\n\n  /**\n   * Attempts to gracefully tear down the game.\n   */\n  public shutdownGame(): void {\n    this.stopMainLoop();\n  }\n\n/**\n  * The main game loop. We use requestAnimationFrame to be thread-safe and not\n  * dominate the browser when the player blurs focus on our tab.\n  *\n  * render() is passed tFrame because it is assumed that the render method will\n  *          calculate how long it has been since the most recently passed\n  *          update tick for extrapolation (purely cosmetic for fast devices).\n  *          It draws the scene.\n  *\n  * update() calculates the game state as of a given point in time.\n  *\n  * init()   Performs whatever tasks are needed before the main loop can run.\n  *\n  *\n  * @param {DOMHighResTimeStamp} tFrame The number of milliseconds since\n  * navigationStart (when the previous document is unloaded.\n  * window.requestAnimationFrame() always provides a DOMHighResTimeStamp to\n  * callbacks as an argument when they are executed.\n  */\n  public main(tFrame: DOMHighResTimeStamp): void {\n    // Store the ID returned from our main loop's most recent call to\n    // requestAnimationFrame().\n    this.stopToken = window.requestAnimationFrame(this.main.bind(this));\n\n    // Delta should be in seconds, not ms, so we divide by 1000.\n    let delta = (tFrame - this.lastFrameTime) / 1000.0;\n    // Keep track of when the last frame happened.\n    this.lastFrameTime = tFrame;\n\n    this.InputHandler.handleInput(this.Player, delta);\n    this._update(delta);\n    this._draw();\n  }\n}\n","import { GameActor } from './GameActor';\n\n/**\n * The Enemy base class.\n */\nexport class Enemy extends GameActor {\n  public HP: number;\n  public ATK: number;\n  public speed: number;\n\n  /**\n   * The position of the GameObject\n   *\n   * @type {Coordinate}\n   */\n  public position: Coordinate;\n\n  /**\n   * @constructor\n   */\n  constructor() {\n    super();\n\n    this.name = \"Black Bat\";\n\n    this.HP = 100;\n    this.ATK = 1;\n    this.speed = 100;\n    this.position = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  /**\n   *\n   * {@inheritdoc}\n   */\n  update(delta: number) {\n    this.position.x += this.speed * delta;\n    this.position.y += this.speed * delta;\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    ctx.beginPath();\n    ctx.arc(this.position.x, this.position.y, 10, 0, Math.PI*2);\n    ctx.fillStyle = \"#0095DD\";\n    ctx.fill();\n    ctx.closePath();\n  }\n}\n","import { GameObject } from '../GameObject';\n\n/**\n * The interface for the [[GameActor]] class.\n *\n * @interface IGameActor\n */\ninterface IGameActor {\n\n  /**\n   * The position member. Signifies the location of the of the GameObject.\n   *\n   * @type {Coordinate}\n   */\n  position: Coordinate;\n\n  /**\n   * Defines the signature for the update method for the GameActor.\n   *\n   * @param delta The time difference between frames. Provided by the game's\n   * main game loop.\n   * @see FiendGame.main()\n   */\n  update(delta: number): void;\n}\n\n/**\n * The base GameActor class. All GameObjects that can influence things in the\n * environment will derive from the GameActor class.\n * @abstract\n * @extends [[GameObject]] The GameObject base abstract class.\n * @implements [[IGameActor]]\n */\nexport abstract class GameActor extends GameObject implements IGameActor {\n\n  /**\n   * The position of the GameObject.\n   *\n   * @type {Coordinate}\n   */\n  public position: Coordinate;\n\n  /**\n   * @constructor\n   */\n  constructor() {\n    super();\n  }\n\n  /**\n   * The update method for the abstract GameActor class.\n   *\n   * @abstract\n   * @param delta The time difference between frames. Provided by the game's\n   * main game loop.\n   * @see FiendGame.main()\n   */\n  public abstract update(delta: number): void;\n\n  // TODO: Make a subclass that has movement. Not all actors will, I dont think.\n  public moveN(delta: number): void {}\n  public moveS(delta: number): void {}\n  public moveE(delta: number): void {}\n  public moveW(delta: number): void {}\n}\n","import { GameActor } from './GameActor';\nimport { LifeforceComponent } from '../../Component';\n\n/**\n * The interface for the [[Player]] class.\n *\n * @interface IPlayer\n */\ninterface IPlayer {\n\n  moveN(delta: number): void;\n  moveS(delta: number): void;\n  moveE(delta: number): void;\n  moveW(delta: number): void;\n}\n\n/**\n * The Player class. Keeps track of the state of the player including all\n * attributes and stats.\n *\n * @abstract\n * @extends [[GameActor]] The GameObject base abstract class.\n * @implements [[IPlayer]]\n */\nexport class Player extends GameActor implements IPlayer {\n\n  public speed: number;\n\n  private _lifeforce: LifeforceComponent;\n\n  /**\n   * @constructor\n   */\n   constructor(position: Coordinate) {\n    super();\n\n    this.position = {x:100,y:100};\n\n    this.speed = 100;\n\n    this._lifeforce = new LifeforceComponent(this);\n  }\n\n  /**\n   * Updates the Player's state. Intended to be run in the main game loop.\n   *\n   * @param delta The time difference between frames. Provided by the game's\n   * main game loop.\n   * @see FiendGame.main()\n   */\n  public update(delta: number): void {\n    this._lifeforce.update();\n    // TODO: console.log('this.position :', this.position);\n  }\n\n\n  /**\n   * Draws the Player entity\n   * @param ctx The canvas context.\n   */\n   public draw(ctx: CanvasRenderingContext2D) {\n    ctx.beginPath();\n    ctx.arc(this.position.x, this.position.y, 10, 0, Math.PI*2);\n    ctx.fillStyle = \"#0095DD\";\n    ctx.fill();\n    ctx.closePath();\n  }\n\n\n  /**\n   *    |               .    ||\n   *   |||      ....  .||.  ...    ...   .. ...    ....\n   *  |  ||   .|   ''  ||    ||  .|  '|.  ||  ||  ||. '\n   *  .''''|.  ||       ||    ||  ||   ||  ||  ||  . '|..\n   * .|.  .||.  '|...'  '|.' .||.  '|..|' .||. ||. |'..|'\n   */\n\n  /**\n   * Move the Player north.\n   * @param delta The game's delta between frames.\n   */\n  public moveN(delta: number): void {\n    // Decrementing {y} makes the actor move south, since we're dealing with a\n    // 2D array and not an actual mathematical grid plane.\n    this.position.y -= this.speed * delta;\n  }\n\n  /**\n   * Move the Player south.\n   *\n   * @param delta The game's delta between frames.\n   */\n  public moveS(delta: number): void {\n    // Increasing {y} makes the actor move south, since we're dealing with a 2D\n    // array and not an actual mathematical grid plane.\n    this.position.y += this.speed * delta;\n  }\n\n  /**\n   * Move the Player east.\n   *\n   * @param delta The game's delta between frames.\n   */\n  public moveE(delta: number): void {\n    this.position.x += this.speed * delta;\n  }\n\n    /**\n   * Move the Player west.\n   *\n   * @param delta The game's delta between frames.\n   */\n  public moveW(delta: number): void {\n    this.position.x -= this.speed * delta;\n  }\n\n}\n\n","/**\n * The interface for the [[GameActor]] class.\n *\n * @interface IGameActor\n */\ninterface IGameObject {\n\n  /**\n   * The human-readable name of the GameObject. This will appear in-game.\n   *\n   * @type {string}\n   */\n  name: string;\n\n  /**\n   * The list of events that can be emitted.\n   *\n   * @type {EventContainer}\n   */\n  attachedEvents: EventContainer;\n\n  /**\n   * Defines the signature for the update method for the GameActor.\n   *\n   * @abstract\n   * @param delta The time difference between frames. Provided by the game's\n   * main game loop.\n   * @see FiendGame.main()\n   */\n  update(delta: number): void;\n}\n\n/**\n * The GameObject abstract class. All game entities inherit from this class.\n * On instantiation, the class will generate an auto-incrementing id for use\n * in identifying the newly-created GameObject.\n *\n * @abstract\n */\nexport abstract class GameObject implements IGameObject {\n\n  /**\n   * @var idIncrementor Keeps track of the `id` of the last GameObject\n   instantiated.\n   *\n   * @static\n   */\n  private static idIncrementor: number = 1;\n\n  /**\n   * @var id The id of the instance of the GameObject.\n   */\n  private id: number;\n\n  /**\n    * @var type The name of the type of the GameObject.\n    */\n  protected type: string;\n\n  /**\n   * @var name The humanized name of the GameObject.\n   */\n  public name: string;\n\n  /**\n   * @var attachedEvents The list of events that can be emitted.\n   */\n  public attachedEvents: EventContainer;\n\n  /**\n   * The GameObject constructor. Auto-increments the GameOject id for the new\n   * GameObject being created.\n   */\n  public constructor() {\n\n    this.id = GameObject.idIncrementor++;\n\n    // Attach events to the Game Object and emit the created event.\n    this.attachedEvents = {\n      'GO_created': new CustomEvent('GO_created', {\n        detail: {\n          go_id: this.getId(),\n        }\n      }),\n    }\n    document.getElementById('game-pane')\n      .dispatchEvent(this.attachedEvents['GO_created']);\n  }\n\n  /**\n   * Accessor for the private member `id`.\n   *\n   * @returns The id of the GameObject\n   */\n  public getId(): number {\n    return this.id;\n  }\n\n  /**\n   * Updates the GameObject's state. Intended to be run in the main game loop.\n   *\n   * @abstract\n   * @param delta The time difference between frames. Provided by the game's\n   * main game loop.\n   * @see FiendGame.main()\n   */\n  public abstract update(delta: number): void;\n\n  protected attachEvents(events: Array<string>): void {\n\n    for (let event of events) {\n      this.attachedEvents[event] = new Event(event);\n    }\n  }\n\n}\n","/**\n * @file The GameObject Barrel. Re-exports GameObject files for easier import\n * elsewhere.\n * @see @link https://basarat.gitbooks.io/typescript/docs/tips/barrel.html\n */\n\n/**\n * Progenitor classes for all entities in the game.\n */\nexport * from './GameObject';\n\n/**\n * The base GameActor class. All GameObjects that can influence things in the\n * environment will derive from the GameActor class.\n */\nexport * from './GameActor/GameActor';\n\n/**\n * The player character class.\n */\nexport * from './GameActor/Player';\n\n/**\n * The base enemy class. TODO: Might be deprecated in the future.\n */\nexport * from './GameActor/Enemy';\n","import { Command } from \"../Command\";\nimport { GameActor } from '../GameObject';\n\nimport { NullCommand } from \"../Command\";\nimport { MoveNorthCommand } from \"../Command\";\nimport { MoveSouthCommand } from \"../Command\";\nimport { MoveEastCommand } from \"../Command\";\nimport { MoveWestCommand } from \"../Command\";\n\n/**\n * The interface for the InputHandler\n */\ninterface IInputHandler {\n\n  /**\n   * Binds an input to a command.\n   *\n   * @param event The user interaction with a keyboard.\n   * @param command\n   */\n  keyBind(event: KeyboardEvent, command: Command): void;\n\n  /**\n   * Handles any input if a mapped button is pressed. Run once per game update\n   * tick.\n   *\n   * @param actor The game actor entity to handle input. Most likely will be the\n   * Player(s).\n   * @param delta The\n   */\n  handleInput(actor: GameActor, delta: number): void;\n}\n\n/**\n * The IInputMap interface.\n * @keys\n * [key]: The name of the key pressed, sent by the browser.header\n * [command]: The mapped command to be executed.\n * [status]: The button's current status\n */\ninterface IInputMap {\n  [key: string]: {\n    command: Command,\n    status: ButtonStatus\n  }\n}\n\n/**\n * The built-in control scheme types. Allows a user to change the control scheme\n * without remapping all the keys individually.\n *\n * @type {enum} ControlSchemes\n */\nenum ControlSchemes {\n  DEFAULT,\n  FPS,\n  ONEHANDED_RIGHT,\n  ONEHANDED_LEFT,\n}\n\n/**\n * Maps a button to a keyboard input key.\n *\n * @type {enum} Button\n */\nenum Button {\n  UP = \"ArrowUp\",\n  DOWN = \"ArrowDown\",\n  LEFT = \"ArrowLeft\",\n  RIGHT = \"ArrowRight\",\n  E = \"e\",\n  Q = \"q\",\n  BSPACE = \"Backspace\",\n  ENTER = \"Enter\",\n  SHIFT = \"Shift\",\n}\n\n/**\n * The ButtonStatus enum.\n * @values\n * [PRESSED]: The button is pressed.\n * [RAISED]: The button is NOT pressed, it is raised. Also can be considered\n * \"untouched\" by the player.\n * [HELD]: The button is held down.\n * [RELEASED]: The button has been released from a pressed state.\n * [DISABLED]: The button has been disabled and will not fire events.\n *\n * @type {enum} ButtonStatus\n */\n enum ButtonStatus {\n  PRESSED,\n  RAISED,\n  HELD,\n  RELEASED,\n  DISABLED,\n}\n\n/**\n * The InputHandler class.\n */\nexport class InputHandler implements IInputHandler {\n\n  /**\n   * TODO Structure should add [\"context\"] so we can have context-independent\n   * buttons\n   * @type {IInputMap} The inputMap instance.\n   */\n  private inputMap: IInputMap;\n\n  /**\n   * The InputHandler constructor.\n   * Attaches the keydown and keyup KeyboardEvent to the document.\n   */\n  constructor() {\n\n    document.getElementById('game-pane').addEventListener(\n      'keydown', (event) => this.buttonPressed(event), false\n    );\n\n    document.getElementById('game-pane').addEventListener(\n      'keyup', (event) => this.buttonReleased(event), false\n    );\n\n    this.inputMap = this.initInputMap();\n\n    // TODO: This should read in user-defined input mappings, otheriwse load\n    // default settings. (if user has saved control scheme, else load default)\n    this.loadControlScheme(ControlSchemes.DEFAULT);\n  }\n\n  /**\n   * Binds an input to a command.\n   *\n   * @param {KeyboardEvent} event The key to bind the event to\n   * @param {Command} command The command to bind to the button\n   */\n  public keyBind(event: KeyboardEvent, command: Command): void {\n    this.inputMap[event.key].command = command;\n  }\n\n  /**\n   * Determins if a button was pressed. Callback for when a button is pressed by\n   * the user.\n   *\n   * @param {KeyboardEvent} event The user interaction with a keyboard.\n   */\n  public buttonPressed(event: KeyboardEvent): void {\n    event.preventDefault();\n\n    if (this.inputMap[event.key]) {\n      this.inputMap[event.key].status = ButtonStatus.PRESSED;\n    }\n  }\n\n  /**\n   * Callback for when a button is released by the user.\n   *\n   * @param {KeyboardEvent} event The user interaction with a keyboard.\n   */\n  public buttonReleased(event: KeyboardEvent): void {\n    event.preventDefault();\n\n    if (this.inputMap[event.key]) {\n      this.inputMap[event.key].status = ButtonStatus.RAISED;\n    }\n  }\n\n  /**\n   * Handles user input. Runs once per game loop.\n   */\n  public handleInput(actor: GameActor, delta: number): void {\n\n    if (this.inputMap[Button.UP].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.UP].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.DOWN].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.DOWN].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.LEFT].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.LEFT].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.RIGHT].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.RIGHT].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.E].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.E].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.Q].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.Q].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.BSPACE].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.BSPACE].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.ENTER].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.ENTER].command.execute(actor, delta);\n    }\n    if (this.inputMap[Button.SHIFT].status === ButtonStatus.PRESSED) {\n      this.inputMap[Button.SHIFT].command.execute(actor, delta);\n    }\n  }\n\n  /**\n   * Initializes an input map so the structure is available when needed.\n   *\n   * @return {IInputMap} The IInputMap interface.\n   */\n  private initInputMap(): IInputMap {\n    let ip = {};\n\n    for(let buttonKey in Button) {\n      ip[Button[buttonKey]] = {\n        command: NullCommand,\n        status: ButtonStatus.RAISED\n      }\n    }\n\n    return ip;\n  }\n\n  /**\n   * Loads a control scheme when the game first initializes, so the player can\n   * have some input. Supports multiple control schemes so players can re-map\n   * controls without having to re-map each button individually.\n   *\n   * @param controlScheme\n   */\n  private loadControlScheme(controlScheme: ControlSchemes): void {\n    switch(controlScheme) {\n      case 1:\n        break;\n      default:\n        // this.inputMap[Button.UP].command = new MoveNorthCommand(player: GameActor);\n        this.inputMap[Button.UP].command = new MoveNorthCommand();\n        this.inputMap[Button.DOWN].command = new MoveSouthCommand();\n        this.inputMap[Button.LEFT].command = new MoveWestCommand();\n        this.inputMap[Button.RIGHT].command = new MoveEastCommand();\n        this.inputMap[Button.E].command = new NullCommand();\n        this.inputMap[Button.Q].command = new NullCommand();\n        this.inputMap[Button.BSPACE].command = new NullCommand();\n        this.inputMap[Button.ENTER].command = new NullCommand();\n        this.inputMap[Button.SHIFT].command = new NullCommand();\n    }\n  }\n}\n\n// var key = {\n//   BACKSPACE: 8,\n//   TAB:       9,\n//   RETURN:   13,\n//   ESC:      27,\n//   SPACE:    32,\n//   PAGEUP:   33,\n//   PAGEDOWN: 34,\n//   END:      35,\n//   HOME:     36,\n//   LEFT:     37,\n//   UP:       38,\n//   RIGHT:    39,\n//   DOWN:     40,\n//   INSERT:   45,\n//   DELETE:   46,\n//   ZERO:     48, ONE: 49, TWO: 50, THREE: 51, FOUR: 52, FIVE: 53, SIX: 54, SEVEN: 55, EIGHT: 56, NINE: 57,\n//   A:        65, B: 66, C: 67, D: 68, E: 69, F: 70, G: 71, H: 72, I: 73, J: 74, K: 75, L: 76, M: 77, N: 78, O: 79, P: 80, Q: 81, R: 82, S: 83, T: 84, U: 85, V: 86, W: 87, X: 88, Y: 89, Z: 90,\n//   TILDA:    192\n// };\n","interface ICamera {\n\n  /**\n   * The current position of the camera.\n   */\n  position: Coordinate;\n\n  /**\n   * The width of the Camera's viewport.\n   */\n  width: number;\n\n  /**\n   * The height of the Camera's viewport.\n   */\n  height: number;\n\n  /**\n   * The limit for the camera's position — The lower limit will nearly always be\n   * (0,0). The upper limit is equal to the size of the world minus the size of\n   * the camera's viewport.\n   */\n  maxX: number;\n\n  /**\n   * The limit for the camera's position — The lower limit will nearly always be\n   * (0,0). The upper limit is equal to the size of the world minus the size of\n   * the camera's viewport.\n   */\n  maxY: number;\n\n}\n\nexport class Camera implements ICamera {\n\n  position: Coordinate;\n  width: number;\n  height: number;\n  maxX: number;\n  maxY: number;\n\n  constructor() {}\n\n}\n","import { MapBase } from \"../../atlases/MapBase\";\nimport { Overworld } from \"../../atlases/Overworld\";\n\nexport class Renderer {\n\n  EMPTY_TILE: number;\n  canvas: HTMLCanvasElement;\n  ctx: CanvasRenderingContext2D;\n  pixels: number;\n  scale: number;\n  sceneWidth: number;\n  sceneHeight: number;\n\n  /**\n   * TODO: Change this to be the scene. Recreate the Renderer when a new scene\n   * is loaded.\n   */\n  protected _currentMap: MapBase;\n\n  constructor(canvas: HTMLCanvasElement) {\n\n    this.canvas = canvas;\n\n    /**\n     * The canvas context.\n     *\n     * @var {CanvasRenderingContext2D}\n     */\n     this.ctx = this.canvas.getContext('2d');\n\n    /**\n     * Prevent anti-aliasing in the event a tile gets scaled.\n     *\n     * @property {CanvasRenderingContext2D.imageSmoothingEnabled}\n     */\n     this.ctx.imageSmoothingEnabled = false;\n\n    /**\n     * The empty tile value. If this value is set for a position in a map's\n     * array, it will not be rendered.\n     * TODO: Move this to the Scene.\n     *\n     * @var {integer}\n     */\n    this.EMPTY_TILE = 0;\n\n    /**\n     * Multiplier for x,y position to pixels. What size the tiles for the game\n     * will be rendered at. Always use a power of 2 so the scaling prevents\n     * blurring.\n     *\n     * @var {integer}\n     */\n    this.pixels = 32;\n\n    /**\n     * The scale at which the tile will be rendered. 1 = 1x scaling, 2 = 2x\n     * scaling, etc.\n     *\n     * @var {integer}\n     */\n    this.scale = 1;\n\n    this._currentMap = new Overworld();\n  }\n\n  draw(gameObjectCount: number, gameObjects: Array<any>) {\n\n    // Clear the screen\n    // TODO: Pull this out. Put in renderer.\n    this.ctx.clearRect(\n      0,\n      0,\n      this.canvas.width,\n      this.canvas.height\n    );\n\n    // Always store the texture in a var so we don't call \"new Foo()\" multiple\n    // times a second.\n    this.drawTileMap(this._currentMap);\n\n    for (let i=0; i<gameObjectCount; i++) {\n      gameObjects[i].draw(this.ctx);\n    }\n  }\n\n  /**\n   * Renders a map according to the coordinates given in the map's file by\n   * translating the coordinates to a spritesheet.\n   *\n   * If a tile is 32x32 pixels, the 1st tile will start at (0,0) on\n   * the spritesheet, the 2nd tile will start at (32,0), the 34d at (64,0) and\n   * so on.\n   *\n   * +---+---+---+---+\n   * | 1 | 2 | 3 | 4 |\n   * +---+---+---+---+\n   * | 5 | 6 | 7 | 8 |\n   * +---+---+---+---+\n   *\n   * 'source x' and 'source y' will get the correct coords in the image file.\n   * So for our first tile, '1', drawImage will grab the subimage at (32,0).\n   * drawImage would get the subimage at (64,32) for tile '7'.\n   *\n   * TODO  https://hashrocket.com/blog/posts/using-tiled-and-canvas-to-render-game-screens\n   *\n   * @param {Object} map  The map object that extends MapBase.\n   */\n  drawTileMap(map: MapBase): void {\n    for (let x=0; x<map.cols; x++) {\n      for (let y=0; y<map.rows; y++) {\n        let tile = map.getTile(x, y);\n\n        // Let's skip rendering empty tiles.\n        if (tile !== this.EMPTY_TILE) {\n          this.ctx.drawImage(\n            // Image Source\n            map.SM,\n            // Source x (See example in comment block)\n            ((tile - 1) % map.cols) * this.pixels,\n            // Source y (See example in comment block)\n            Math.floor(((tile - 1) / map.rows)) * this.pixels,\n            // Source width\n            this.pixels,\n            // Source height\n            this.pixels,\n            // Target x\n            x * (this.pixels * this.scale),\n            // Target y\n            y * (this.pixels * this.scale),\n            // Target width\n            this.pixels * this.scale,\n             // Target height\n            this.pixels * this.scale,\n          );\n        }\n      }\n    }\n  }\n}\n","import { FiendGame } from \"./engine/FiendGame\";\nimport { AssetLoader } from \"./engine/AssetLoader\";\n\n/**\n * We need some global variables so we can load the game and the assets. Let's\n * consider moving the F_LOADER to it's own class so we don't need a global for\n * the assets.\n */\ndeclare global {\n  interface Window {\n    F_LOADER: AssetLoader;\n  }\n}\n\n/**\n * Create a new instance of FiendGame, which loads the game.\n */\nfunction init() {\n\n  // Init functionality, for now.\n  new FiendGame(640, 480);\n  // Focus the game pane on page load.\n  document.getElementById('game-pane').focus();\n};\n\n/**\n * Ensure the assets are loaded before we initialize the game. We do this with a\n * promise to ensure all the images are loaded and ready to be used.\n * TODO Make this better, more TypeScript-y.\n */\n window.onload = function() {\n\n  window.F_LOADER = new AssetLoader();\n  var p = window.F_LOADER.initAssets();\n  Promise.all(p).then( () => {\n    init();\n  });\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXRsYXNlcy9NYXBCYXNlLnRzIiwic3JjL2F0bGFzZXMvT3ZlcndvcmxkLnRzIiwic3JjL2VuZ2luZS9Bc3NldExvYWRlci50cyIsInNyYy9lbmdpbmUvQ29tbWFuZC9Db21tYW5kLnRzIiwic3JjL2VuZ2luZS9Db21tYW5kL01vdmVFYXN0Q29tbWFuZC50cyIsInNyYy9lbmdpbmUvQ29tbWFuZC9Nb3ZlTm9ydGhDb21tYW5kLnRzIiwic3JjL2VuZ2luZS9Db21tYW5kL01vdmVTb3V0aENvbW1hbmQudHMiLCJzcmMvZW5naW5lL0NvbW1hbmQvTW92ZVdlc3RDb21tYW5kLnRzIiwic3JjL2VuZ2luZS9Db21tYW5kL051bGxDb21tYW5kLnRzIiwic3JjL2VuZ2luZS9Db21tYW5kL2luZGV4LnRzIiwic3JjL2VuZ2luZS9Db21wb25lbnQvQ29tcG9uZW50LnRzIiwic3JjL2VuZ2luZS9Db21wb25lbnQvRXZlbnRDb21wb25lbnQudHMiLCJzcmMvZW5naW5lL0NvbXBvbmVudC9MaWZlZm9yY2VDb21wb25lbnQudHMiLCJzcmMvZW5naW5lL0NvbXBvbmVudC9pbmRleC50cyIsInNyYy9lbmdpbmUvRXZlbnQvUGxheWVyRGVhdGhFdmVudC50cyIsInNyYy9lbmdpbmUvRmllbmRHYW1lLnRzIiwic3JjL2VuZ2luZS9HYW1lT2JqZWN0L0dhbWVBY3Rvci9FbmVteS50cyIsInNyYy9lbmdpbmUvR2FtZU9iamVjdC9HYW1lQWN0b3IvR2FtZUFjdG9yLnRzIiwic3JjL2VuZ2luZS9HYW1lT2JqZWN0L0dhbWVBY3Rvci9QbGF5ZXIudHMiLCJzcmMvZW5naW5lL0dhbWVPYmplY3QvR2FtZU9iamVjdC50cyIsInNyYy9lbmdpbmUvR2FtZU9iamVjdC9pbmRleC50cyIsInNyYy9lbmdpbmUvSW5wdXQvSW5wdXRIYW5kbGVyLnRzIiwic3JjL2VuZ2luZS9SZW5kZXIvQ2FtZXJhL0NhbWVyYS50cyIsInNyYy9lbmdpbmUvUmVuZGVyL1JlbmRlcmVyLnRzIiwic3JjL21haW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O0lDQWEsTyxXQUFBLE87QUFPWCx1QkFBQTtBQUFBOztBQUNFLGFBQUssSUFBTCxHQUFZLENBQVo7QUFDQSxhQUFLLElBQUwsR0FBWSxDQUFaO0FBQ0EsYUFBSyxLQUFMLEdBQWEsQ0FBYjtBQUNBLGFBQUssS0FBTCxHQUFhLElBQWI7QUFDRDtBQUVEOzs7Ozs7Ozs7Ozs7Z0NBUVEsQyxFQUFXLEMsRUFBUztBQUMxQixnQkFDRSxLQUFLLElBQUwsS0FBYyxDQUFkLElBQ0csS0FBSyxJQUFMLEtBQWMsQ0FEakIsSUFFRyxLQUFLLEtBQUwsS0FBZSxDQUhwQixFQUlFO0FBQ0Esc0JBQU0sSUFBSSxLQUFKLENBQVUsMkNBQVYsQ0FBTjtBQUNEO0FBRUQsbUJBQU8sS0FBSyxLQUFMLENBQVcsSUFBSSxLQUFLLElBQVQsR0FBZ0IsQ0FBM0IsQ0FBUDtBQUNEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lDOUJVLFMsV0FBQSxTOzs7QUFRWCx5QkFBQTtBQUFBOztBQUdFOzs7O0FBSEY7O0FBT0UsY0FBSyxFQUFMLEdBQVUsT0FBTyxRQUFQLENBQWdCLFFBQWhCLENBQXlCLGNBQXpCLENBQVY7QUFFQSxjQUFLLElBQUwsR0FBWSxFQUFaO0FBQ0EsY0FBSyxJQUFMLEdBQVksRUFBWjtBQUNBLGNBQUssS0FBTCxHQUFhLEdBQWI7QUFDQSxjQUFLLEtBQUwsR0FBYSxDQUNULENBRFMsRUFDTCxDQURLLEVBQ0QsQ0FEQyxFQUNHLENBREgsRUFDTyxDQURQLEVBQ1csQ0FEWCxFQUNlLENBRGYsRUFDbUIsQ0FEbkIsRUFDdUIsQ0FEdkIsRUFDMEIsRUFEMUIsRUFDOEIsRUFEOUIsRUFDa0MsRUFEbEMsRUFDc0MsRUFEdEMsRUFDMEMsRUFEMUMsRUFDOEMsRUFEOUMsRUFDa0QsRUFEbEQsRUFDc0QsRUFEdEQsRUFDMEQsRUFEMUQsRUFDOEQsRUFEOUQsRUFDa0UsRUFEbEUsRUFFVixFQUZVLEVBRUwsQ0FGSyxFQUVELENBRkMsRUFFRyxDQUZILEVBRU8sQ0FGUCxFQUVXLENBRlgsRUFFZSxDQUZmLEVBRW1CLENBRm5CLEVBRXVCLENBRnZCLEVBRTJCLENBRjNCLEVBRStCLENBRi9CLEVBRW1DLENBRm5DLEVBRXVDLENBRnZDLEVBRTJDLENBRjNDLEVBRStDLENBRi9DLEVBRW1ELENBRm5ELEVBRXVELENBRnZELEVBRTJELENBRjNELEVBRStELENBRi9ELEVBRW1FLENBRm5FLEVBR1QsQ0FIUyxFQUdMLENBSEssRUFHRCxDQUhDLEVBR0csQ0FISCxFQUdPLENBSFAsRUFHVyxDQUhYLEVBR2UsQ0FIZixFQUdtQixDQUhuQixFQUd1QixDQUh2QixFQUcyQixDQUgzQixFQUcrQixDQUgvQixFQUdtQyxDQUhuQyxFQUd1QyxDQUh2QyxFQUcyQyxDQUgzQyxFQUcrQyxDQUgvQyxFQUdtRCxDQUhuRCxFQUd1RCxDQUh2RCxFQUcyRCxDQUgzRCxFQUcrRCxDQUgvRCxFQUdtRSxDQUhuRSxFQUlULENBSlMsRUFJTCxDQUpLLEVBSUQsQ0FKQyxFQUlHLENBSkgsRUFJTyxDQUpQLEVBSVcsQ0FKWCxFQUllLENBSmYsRUFJbUIsQ0FKbkIsRUFJdUIsQ0FKdkIsRUFJMkIsQ0FKM0IsRUFJK0IsQ0FKL0IsRUFJbUMsQ0FKbkMsRUFJdUMsQ0FKdkMsRUFJMkMsQ0FKM0MsRUFJK0MsQ0FKL0MsRUFJbUQsQ0FKbkQsRUFJdUQsQ0FKdkQsRUFJMkQsQ0FKM0QsRUFJK0QsQ0FKL0QsRUFJbUUsQ0FKbkUsRUFLVCxDQUxTLEVBS0wsQ0FMSyxFQUtELENBTEMsRUFLRyxDQUxILEVBS08sQ0FMUCxFQUtXLENBTFgsRUFLZSxDQUxmLEVBS21CLENBTG5CLEVBS3VCLENBTHZCLEVBSzJCLENBTDNCLEVBSytCLENBTC9CLEVBS21DLENBTG5DLEVBS3VDLENBTHZDLEVBSzJDLENBTDNDLEVBSytDLENBTC9DLEVBS21ELENBTG5ELEVBS3VELENBTHZELEVBSzJELENBTDNELEVBSytELENBTC9ELEVBS21FLENBTG5FLEVBTVQsQ0FOUyxFQU1MLENBTkssRUFNRCxDQU5DLEVBTUcsQ0FOSCxFQU1PLENBTlAsRUFNVyxDQU5YLEVBTWUsQ0FOZixFQU1tQixDQU5uQixFQU11QixDQU52QixFQU0yQixDQU4zQixFQU0rQixDQU4vQixFQU1tQyxDQU5uQyxFQU11QyxDQU52QyxFQU0yQyxDQU4zQyxFQU0rQyxDQU4vQyxFQU1tRCxDQU5uRCxFQU11RCxDQU52RCxFQU0yRCxDQU4zRCxFQU0rRCxDQU4vRCxFQU1tRSxDQU5uRSxFQU9ULENBUFMsRUFPTCxDQVBLLEVBT0QsQ0FQQyxFQU9HLENBUEgsRUFPTyxDQVBQLEVBT1csQ0FQWCxFQU9lLENBUGYsRUFPbUIsQ0FQbkIsRUFPdUIsQ0FQdkIsRUFPMkIsQ0FQM0IsRUFPK0IsQ0FQL0IsRUFPbUMsQ0FQbkMsRUFPdUMsQ0FQdkMsRUFPMkMsQ0FQM0MsRUFPK0MsQ0FQL0MsRUFPbUQsQ0FQbkQsRUFPdUQsQ0FQdkQsRUFPMkQsQ0FQM0QsRUFPK0QsQ0FQL0QsRUFPbUUsQ0FQbkUsRUFRVCxDQVJTLEVBUUwsQ0FSSyxFQVFELENBUkMsRUFRRyxDQVJILEVBUU8sQ0FSUCxFQVFXLENBUlgsRUFRZSxDQVJmLEVBUW1CLENBUm5CLEVBUXVCLENBUnZCLEVBUTJCLENBUjNCLEVBUStCLENBUi9CLEVBUW1DLENBUm5DLEVBUXVDLENBUnZDLEVBUTJDLENBUjNDLEVBUStDLENBUi9DLEVBUW1ELENBUm5ELEVBUXVELENBUnZELEVBUTJELENBUjNELEVBUStELENBUi9ELEVBUW1FLENBUm5FLEVBU1QsQ0FUUyxFQVNMLENBVEssRUFTRCxDQVRDLEVBU0csQ0FUSCxFQVNPLENBVFAsRUFTVyxDQVRYLEVBU2UsQ0FUZixFQVNtQixDQVRuQixFQVN1QixDQVR2QixFQVMyQixDQVQzQixFQVMrQixDQVQvQixFQVNtQyxDQVRuQyxFQVN1QyxDQVR2QyxFQVMyQyxDQVQzQyxFQVMrQyxDQVQvQyxFQVNtRCxDQVRuRCxFQVN1RCxDQVR2RCxFQVMyRCxDQVQzRCxFQVMrRCxDQVQvRCxFQVNtRSxDQVRuRSxFQVVULENBVlMsRUFVTCxDQVZLLEVBVUQsQ0FWQyxFQVVHLENBVkgsRUFVTyxDQVZQLEVBVVcsQ0FWWCxFQVVlLENBVmYsRUFVbUIsQ0FWbkIsRUFVdUIsQ0FWdkIsRUFVMkIsQ0FWM0IsRUFVK0IsQ0FWL0IsRUFVbUMsQ0FWbkMsRUFVdUMsQ0FWdkMsRUFVMkMsQ0FWM0MsRUFVK0MsQ0FWL0MsRUFVbUQsQ0FWbkQsRUFVdUQsQ0FWdkQsRUFVMkQsQ0FWM0QsRUFVK0QsQ0FWL0QsRUFVbUUsQ0FWbkUsRUFXVCxDQVhTLEVBV0wsQ0FYSyxFQVdELENBWEMsRUFXRyxDQVhILEVBV08sQ0FYUCxFQVdXLENBWFgsRUFXZSxDQVhmLEVBV21CLENBWG5CLEVBV3VCLENBWHZCLEVBVzJCLENBWDNCLEVBVytCLENBWC9CLEVBV21DLENBWG5DLEVBV3VDLENBWHZDLEVBVzJDLENBWDNDLEVBVytDLENBWC9DLEVBV21ELENBWG5ELEVBV3VELENBWHZELEVBVzJELENBWDNELEVBVytELENBWC9ELEVBV21FLENBWG5FLEVBWVQsQ0FaUyxFQVlMLENBWkssRUFZRCxDQVpDLEVBWUcsQ0FaSCxFQVlPLENBWlAsRUFZVyxDQVpYLEVBWWUsQ0FaZixFQVltQixDQVpuQixFQVl1QixDQVp2QixFQVkyQixDQVozQixFQVkrQixDQVovQixFQVltQyxDQVpuQyxFQVl1QyxDQVp2QyxFQVkyQyxDQVozQyxFQVkrQyxDQVovQyxFQVltRCxDQVpuRCxFQVl1RCxDQVp2RCxFQVkyRCxDQVozRCxFQVkrRCxDQVovRCxFQVltRSxDQVpuRSxFQWFULENBYlMsRUFhTCxDQWJLLEVBYUQsQ0FiQyxFQWFHLENBYkgsRUFhTyxDQWJQLEVBYVcsQ0FiWCxFQWFlLENBYmYsRUFhbUIsQ0FibkIsRUFhdUIsQ0FidkIsRUFhMkIsQ0FiM0IsRUFhK0IsQ0FiL0IsRUFhbUMsQ0FibkMsRUFhdUMsQ0FidkMsRUFhMkMsQ0FiM0MsRUFhK0MsQ0FiL0MsRUFhbUQsQ0FibkQsRUFhdUQsQ0FidkQsRUFhMkQsQ0FiM0QsRUFhK0QsQ0FiL0QsRUFhbUUsQ0FibkUsRUFjVCxDQWRTLEVBY0wsQ0FkSyxFQWNELENBZEMsRUFjRyxDQWRILEVBY08sQ0FkUCxFQWNXLENBZFgsRUFjZSxDQWRmLEVBY21CLENBZG5CLEVBY3VCLENBZHZCLEVBYzJCLENBZDNCLEVBYytCLENBZC9CLEVBY21DLENBZG5DLEVBY3VDLENBZHZDLEVBYzJDLENBZDNDLEVBYytDLENBZC9DLEVBY21ELENBZG5ELEVBY3VELENBZHZELEVBYzJELENBZDNELEVBYytELENBZC9ELEVBY21FLENBZG5FLEVBZVQsQ0FmUyxFQWVMLENBZkssRUFlRCxDQWZDLEVBZUcsQ0FmSCxFQWVPLENBZlAsRUFlVyxDQWZYLEVBZWUsQ0FmZixFQWVtQixDQWZuQixFQWV1QixDQWZ2QixFQWUyQixDQWYzQixFQWUrQixDQWYvQixFQWVtQyxDQWZuQyxFQWV1QyxDQWZ2QyxFQWUyQyxDQWYzQyxFQWUrQyxDQWYvQyxFQWVtRCxDQWZuRCxFQWV1RCxDQWZ2RCxFQWUyRCxDQWYzRCxFQWUrRCxDQWYvRCxFQWVrRSxFQWZsRSxDQUFiO0FBaUJBLGNBQUssTUFBTCxHQUFjLENBQ1osQ0FDRSxDQURGLEVBQ0ksQ0FESixFQUNNLENBRE4sRUFDUSxDQURSLEVBQ1UsQ0FEVixFQUNZLENBRFosRUFDYyxDQURkLEVBQ2dCLENBRGhCLEVBQ2tCLENBRGxCLEVBQ29CLENBRHBCLEVBQ3NCLENBRHRCLEVBQ3dCLENBRHhCLEVBQzBCLENBRDFCLEVBQzRCLENBRDVCLEVBQzhCLENBRDlCLEVBQ2dDLENBRGhDLEVBQ2tDLENBRGxDLEVBQ29DLENBRHBDLEVBQ3NDLENBRHRDLEVBQ3dDLENBRHhDLEVBRUUsQ0FGRixFQUVJLENBRkosRUFFTSxDQUZOLEVBRVEsQ0FGUixFQUVVLENBRlYsRUFFWSxDQUZaLEVBRWMsQ0FGZCxFQUVnQixDQUZoQixFQUVrQixDQUZsQixFQUVvQixDQUZwQixFQUVzQixDQUZ0QixFQUV3QixDQUZ4QixFQUUwQixDQUYxQixFQUU0QixDQUY1QixFQUU4QixDQUY5QixFQUVnQyxDQUZoQyxFQUVrQyxDQUZsQyxFQUVvQyxDQUZwQyxFQUVzQyxDQUZ0QyxFQUV3QyxDQUZ4QyxFQUdFLENBSEYsRUFHSSxDQUhKLEVBR00sQ0FITixFQUdRLENBSFIsRUFHVSxDQUhWLEVBR1ksQ0FIWixFQUdjLENBSGQsRUFHZ0IsQ0FIaEIsRUFHa0IsQ0FIbEIsRUFHb0IsQ0FIcEIsRUFHc0IsQ0FIdEIsRUFHd0IsQ0FIeEIsRUFHMEIsQ0FIMUIsRUFHNEIsQ0FINUIsRUFHOEIsQ0FIOUIsRUFHZ0MsQ0FIaEMsRUFHa0MsQ0FIbEMsRUFHb0MsQ0FIcEMsRUFHc0MsQ0FIdEMsRUFHd0MsQ0FIeEMsRUFJRSxDQUpGLEVBSUksQ0FKSixFQUlNLENBSk4sRUFJUSxDQUpSLEVBSVUsQ0FKVixFQUlZLENBSlosRUFJYyxDQUpkLEVBSWdCLENBSmhCLEVBSWtCLENBSmxCLEVBSW9CLENBSnBCLEVBSXNCLENBSnRCLEVBSXdCLENBSnhCLEVBSTBCLENBSjFCLEVBSTRCLENBSjVCLEVBSThCLENBSjlCLEVBSWdDLENBSmhDLEVBSWtDLENBSmxDLEVBSW9DLENBSnBDLEVBSXNDLENBSnRDLEVBSXdDLENBSnhDLEVBS0UsQ0FMRixFQUtJLENBTEosRUFLTSxDQUxOLEVBS1EsQ0FMUixFQUtVLENBTFYsRUFLWSxDQUxaLEVBS2MsQ0FMZCxFQUtnQixDQUxoQixFQUtrQixDQUxsQixFQUtvQixDQUxwQixFQUtzQixDQUx0QixFQUt3QixDQUx4QixFQUswQixDQUwxQixFQUs0QixDQUw1QixFQUs4QixDQUw5QixFQUtnQyxDQUxoQyxFQUtrQyxDQUxsQyxFQUtvQyxDQUxwQyxFQUtzQyxDQUx0QyxFQUt3QyxDQUx4QyxFQU1FLENBTkYsRUFNSSxDQU5KLEVBTU0sQ0FOTixFQU1RLENBTlIsRUFNVSxDQU5WLEVBTVksQ0FOWixFQU1jLENBTmQsRUFNZ0IsQ0FOaEIsRUFNa0IsQ0FObEIsRUFNb0IsQ0FOcEIsRUFNc0IsQ0FOdEIsRUFNd0IsQ0FOeEIsRUFNMEIsQ0FOMUIsRUFNNEIsQ0FONUIsRUFNOEIsQ0FOOUIsRUFNZ0MsQ0FOaEMsRUFNa0MsQ0FObEMsRUFNb0MsQ0FOcEMsRUFNc0MsQ0FOdEMsRUFNd0MsQ0FOeEMsRUFPRSxDQVBGLEVBT0ksQ0FQSixFQU9NLENBUE4sRUFPUSxDQVBSLEVBT1UsQ0FQVixFQU9ZLENBUFosRUFPYyxDQVBkLEVBT2dCLENBUGhCLEVBT2tCLENBUGxCLEVBT29CLENBUHBCLEVBT3NCLENBUHRCLEVBT3dCLENBUHhCLEVBTzBCLENBUDFCLEVBTzRCLENBUDVCLEVBTzhCLENBUDlCLEVBT2dDLENBUGhDLEVBT2tDLENBUGxDLEVBT29DLENBUHBDLEVBT3NDLENBUHRDLEVBT3dDLENBUHhDLEVBUUUsQ0FSRixFQVFJLENBUkosRUFRTSxDQVJOLEVBUVEsQ0FSUixFQVFVLENBUlYsRUFRWSxDQVJaLEVBUWMsQ0FSZCxFQVFnQixDQVJoQixFQVFrQixDQVJsQixFQVFvQixDQVJwQixFQVFzQixDQVJ0QixFQVF3QixDQVJ4QixFQVEwQixDQVIxQixFQVE0QixDQVI1QixFQVE4QixDQVI5QixFQVFnQyxDQVJoQyxFQVFrQyxDQVJsQyxFQVFvQyxDQVJwQyxFQVFzQyxDQVJ0QyxFQVF3QyxDQVJ4QyxFQVNFLENBVEYsRUFTSSxDQVRKLEVBU00sQ0FUTixFQVNRLENBVFIsRUFTVSxDQVRWLEVBU1ksQ0FUWixFQVNjLENBVGQsRUFTZ0IsQ0FUaEIsRUFTa0IsQ0FUbEIsRUFTb0IsQ0FUcEIsRUFTc0IsQ0FUdEIsRUFTd0IsQ0FUeEIsRUFTMEIsQ0FUMUIsRUFTNEIsQ0FUNUIsRUFTOEIsQ0FUOUIsRUFTZ0MsQ0FUaEMsRUFTa0MsQ0FUbEMsRUFTb0MsQ0FUcEMsRUFTc0MsQ0FUdEMsRUFTd0MsQ0FUeEMsRUFVRSxDQVZGLEVBVUksQ0FWSixFQVVNLENBVk4sRUFVUSxDQVZSLEVBVVUsQ0FWVixFQVVZLENBVlosRUFVYyxDQVZkLEVBVWdCLENBVmhCLEVBVWtCLENBVmxCLEVBVW9CLENBVnBCLEVBVXNCLENBVnRCLEVBVXdCLENBVnhCLEVBVTBCLENBVjFCLEVBVTRCLENBVjVCLEVBVThCLENBVjlCLEVBVWdDLENBVmhDLEVBVWtDLENBVmxDLEVBVW9DLENBVnBDLEVBVXNDLENBVnRDLEVBVXdDLENBVnhDLEVBV0UsQ0FYRixFQVdJLENBWEosRUFXTSxDQVhOLEVBV1EsQ0FYUixFQVdVLENBWFYsRUFXWSxDQVhaLEVBV2MsQ0FYZCxFQVdnQixDQVhoQixFQVdrQixDQVhsQixFQVdvQixDQVhwQixFQVdzQixDQVh0QixFQVd3QixDQVh4QixFQVcwQixDQVgxQixFQVc0QixDQVg1QixFQVc4QixDQVg5QixFQVdnQyxDQVhoQyxFQVdrQyxDQVhsQyxFQVdvQyxDQVhwQyxFQVdzQyxDQVh0QyxFQVd3QyxDQVh4QyxFQVlFLENBWkYsRUFZSSxDQVpKLEVBWU0sQ0FaTixFQVlRLENBWlIsRUFZVSxDQVpWLEVBWVksQ0FaWixFQVljLENBWmQsRUFZZ0IsQ0FaaEIsRUFZa0IsQ0FabEIsRUFZb0IsQ0FacEIsRUFZc0IsQ0FadEIsRUFZd0IsQ0FaeEIsRUFZMEIsQ0FaMUIsRUFZNEIsQ0FaNUIsRUFZOEIsQ0FaOUIsRUFZZ0MsQ0FaaEMsRUFZa0MsQ0FabEMsRUFZb0MsQ0FacEMsRUFZc0MsQ0FadEMsRUFZd0MsQ0FaeEMsRUFhRSxDQWJGLEVBYUksQ0FiSixFQWFNLENBYk4sRUFhUSxDQWJSLEVBYVUsQ0FiVixFQWFZLENBYlosRUFhYyxDQWJkLEVBYWdCLENBYmhCLEVBYWtCLENBYmxCLEVBYW9CLENBYnBCLEVBYXNCLENBYnRCLEVBYXdCLENBYnhCLEVBYTBCLENBYjFCLEVBYTRCLENBYjVCLEVBYThCLENBYjlCLEVBYWdDLENBYmhDLEVBYWtDLENBYmxDLEVBYW9DLENBYnBDLEVBYXNDLENBYnRDLEVBYXdDLENBYnhDLEVBY0UsQ0FkRixFQWNJLENBZEosRUFjTSxDQWROLEVBY1EsQ0FkUixFQWNVLENBZFYsRUFjWSxDQWRaLEVBY2MsQ0FkZCxFQWNnQixDQWRoQixFQWNrQixDQWRsQixFQWNvQixDQWRwQixFQWNzQixDQWR0QixFQWN3QixDQWR4QixFQWMwQixDQWQxQixFQWM0QixDQWQ1QixFQWM4QixDQWQ5QixFQWNnQyxDQWRoQyxFQWNrQyxDQWRsQyxFQWNvQyxDQWRwQyxFQWNzQyxDQWR0QyxFQWN3QyxDQWR4QyxFQWVFLENBZkYsRUFlSSxDQWZKLEVBZU0sQ0FmTixFQWVRLENBZlIsRUFlVSxDQWZWLEVBZVksQ0FmWixFQWVjLENBZmQsRUFlZ0IsQ0FmaEIsRUFla0IsQ0FmbEIsRUFlb0IsQ0FmcEIsRUFlc0IsQ0FmdEIsRUFld0IsQ0FmeEIsRUFlMEIsQ0FmMUIsRUFlNEIsQ0FmNUIsRUFlOEIsQ0FmOUIsRUFlZ0MsQ0FmaEMsRUFla0MsQ0FmbEMsRUFlb0MsQ0FmcEMsRUFlc0MsQ0FmdEMsRUFld0MsQ0FmeEMsQ0FEWSxFQWlCVCxDQUNELENBREMsRUFDQyxDQURELEVBQ0csQ0FESCxFQUNLLENBREwsRUFDTyxDQURQLEVBQ1MsQ0FEVCxFQUNXLENBRFgsRUFDYSxDQURiLEVBQ2UsQ0FEZixFQUNpQixDQURqQixFQUNtQixDQURuQixFQUNxQixDQURyQixFQUN1QixDQUR2QixFQUN5QixDQUR6QixFQUMyQixDQUQzQixFQUM2QixDQUQ3QixFQUMrQixDQUQvQixFQUNpQyxDQURqQyxFQUNtQyxDQURuQyxFQUNxQyxDQURyQyxFQUVELENBRkMsRUFFQyxDQUZELEVBRUcsQ0FGSCxFQUVLLENBRkwsRUFFTyxDQUZQLEVBRVMsQ0FGVCxFQUVXLENBRlgsRUFFYSxDQUZiLEVBRWUsQ0FGZixFQUVpQixDQUZqQixFQUVtQixDQUZuQixFQUVxQixDQUZyQixFQUV1QixDQUZ2QixFQUV5QixDQUZ6QixFQUUyQixDQUYzQixFQUU2QixDQUY3QixFQUUrQixDQUYvQixFQUVpQyxDQUZqQyxFQUVtQyxDQUZuQyxFQUVxQyxDQUZyQyxFQUdELENBSEMsRUFHQyxDQUhELEVBR0csQ0FISCxFQUdLLENBSEwsRUFHTyxDQUhQLEVBR1MsQ0FIVCxFQUdXLENBSFgsRUFHYSxDQUhiLEVBR2UsQ0FIZixFQUdpQixDQUhqQixFQUdtQixDQUhuQixFQUdxQixDQUhyQixFQUd1QixDQUh2QixFQUd5QixDQUh6QixFQUcyQixDQUgzQixFQUc2QixDQUg3QixFQUcrQixDQUgvQixFQUdpQyxDQUhqQyxFQUdtQyxDQUhuQyxFQUdxQyxDQUhyQyxFQUlELENBSkMsRUFJQyxDQUpELEVBSUcsQ0FKSCxFQUlLLENBSkwsRUFJTyxDQUpQLEVBSVMsQ0FKVCxFQUlXLENBSlgsRUFJYSxDQUpiLEVBSWUsQ0FKZixFQUlpQixDQUpqQixFQUltQixDQUpuQixFQUlxQixDQUpyQixFQUl1QixDQUp2QixFQUl5QixDQUp6QixFQUkyQixDQUozQixFQUk2QixDQUo3QixFQUkrQixDQUovQixFQUlpQyxDQUpqQyxFQUltQyxDQUpuQyxFQUlxQyxDQUpyQyxFQUtELENBTEMsRUFLQyxDQUxELEVBS0csQ0FMSCxFQUtLLENBTEwsRUFLTyxDQUxQLEVBS1MsQ0FMVCxFQUtXLENBTFgsRUFLYSxDQUxiLEVBS2UsQ0FMZixFQUtpQixDQUxqQixFQUttQixDQUxuQixFQUtxQixDQUxyQixFQUt1QixDQUx2QixFQUt5QixDQUx6QixFQUsyQixDQUwzQixFQUs2QixDQUw3QixFQUsrQixDQUwvQixFQUtpQyxDQUxqQyxFQUttQyxDQUxuQyxFQUtxQyxDQUxyQyxFQU1ELENBTkMsRUFNQyxDQU5ELEVBTUcsQ0FOSCxFQU1LLENBTkwsRUFNTyxDQU5QLEVBTVMsQ0FOVCxFQU1XLENBTlgsRUFNYSxDQU5iLEVBTWUsQ0FOZixFQU1pQixDQU5qQixFQU1tQixDQU5uQixFQU1xQixDQU5yQixFQU11QixDQU52QixFQU15QixDQU56QixFQU0yQixDQU4zQixFQU02QixDQU43QixFQU0rQixDQU4vQixFQU1pQyxDQU5qQyxFQU1tQyxDQU5uQyxFQU1xQyxDQU5yQyxFQU9ELENBUEMsRUFPQyxDQVBELEVBT0csQ0FQSCxFQU9LLENBUEwsRUFPTyxDQVBQLEVBT1MsQ0FQVCxFQU9XLENBUFgsRUFPYSxDQVBiLEVBT2UsQ0FQZixFQU9pQixDQVBqQixFQU9tQixDQVBuQixFQU9xQixDQVByQixFQU91QixDQVB2QixFQU95QixDQVB6QixFQU8yQixDQVAzQixFQU82QixDQVA3QixFQU8rQixDQVAvQixFQU9pQyxDQVBqQyxFQU9tQyxDQVBuQyxFQU9xQyxDQVByQyxFQVFELENBUkMsRUFRQyxDQVJELEVBUUcsQ0FSSCxFQVFLLENBUkwsRUFRTyxDQVJQLEVBUVMsQ0FSVCxFQVFXLENBUlgsRUFRYSxDQVJiLEVBUWUsQ0FSZixFQVFpQixDQVJqQixFQVFtQixDQVJuQixFQVFxQixDQVJyQixFQVF1QixDQVJ2QixFQVF5QixDQVJ6QixFQVEyQixDQVIzQixFQVE2QixDQVI3QixFQVErQixDQVIvQixFQVFpQyxDQVJqQyxFQVFtQyxDQVJuQyxFQVFxQyxDQVJyQyxFQVNELENBVEMsRUFTQyxDQVRELEVBU0csQ0FUSCxFQVNLLENBVEwsRUFTTyxDQVRQLEVBU1MsQ0FUVCxFQVNXLENBVFgsRUFTYSxDQVRiLEVBU2UsQ0FUZixFQVNpQixDQVRqQixFQVNtQixDQVRuQixFQVNxQixDQVRyQixFQVN1QixDQVR2QixFQVN5QixDQVR6QixFQVMyQixDQVQzQixFQVM2QixDQVQ3QixFQVMrQixDQVQvQixFQVNpQyxDQVRqQyxFQVNtQyxDQVRuQyxFQVNxQyxDQVRyQyxFQVVELENBVkMsRUFVQyxDQVZELEVBVUcsQ0FWSCxFQVVLLENBVkwsRUFVTyxDQVZQLEVBVVMsQ0FWVCxFQVVXLENBVlgsRUFVYSxDQVZiLEVBVWUsQ0FWZixFQVVpQixDQVZqQixFQVVtQixDQVZuQixFQVVxQixDQVZyQixFQVV1QixDQVZ2QixFQVV5QixDQVZ6QixFQVUyQixDQVYzQixFQVU2QixDQVY3QixFQVUrQixDQVYvQixFQVVpQyxDQVZqQyxFQVVtQyxDQVZuQyxFQVVxQyxDQVZyQyxFQVdELENBWEMsRUFXQyxDQVhELEVBV0csQ0FYSCxFQVdLLENBWEwsRUFXTyxDQVhQLEVBV1MsQ0FYVCxFQVdXLENBWFgsRUFXYSxDQVhiLEVBV2UsQ0FYZixFQVdpQixDQVhqQixFQVdtQixDQVhuQixFQVdxQixDQVhyQixFQVd1QixDQVh2QixFQVd5QixDQVh6QixFQVcyQixDQVgzQixFQVc2QixDQVg3QixFQVcrQixDQVgvQixFQVdpQyxDQVhqQyxFQVdtQyxDQVhuQyxFQVdxQyxDQVhyQyxFQVlELENBWkMsRUFZQyxDQVpELEVBWUcsQ0FaSCxFQVlLLENBWkwsRUFZTyxDQVpQLEVBWVMsQ0FaVCxFQVlXLENBWlgsRUFZYSxDQVpiLEVBWWUsQ0FaZixFQVlpQixDQVpqQixFQVltQixDQVpuQixFQVlxQixDQVpyQixFQVl1QixDQVp2QixFQVl5QixDQVp6QixFQVkyQixDQVozQixFQVk2QixDQVo3QixFQVkrQixDQVovQixFQVlpQyxDQVpqQyxFQVltQyxDQVpuQyxFQVlxQyxDQVpyQyxFQWFELENBYkMsRUFhQyxDQWJELEVBYUcsQ0FiSCxFQWFLLENBYkwsRUFhTyxDQWJQLEVBYVMsQ0FiVCxFQWFXLENBYlgsRUFhYSxDQWJiLEVBYWUsQ0FiZixFQWFpQixDQWJqQixFQWFtQixDQWJuQixFQWFxQixDQWJyQixFQWF1QixDQWJ2QixFQWF5QixDQWJ6QixFQWEyQixDQWIzQixFQWE2QixDQWI3QixFQWErQixDQWIvQixFQWFpQyxDQWJqQyxFQWFtQyxDQWJuQyxFQWFxQyxDQWJyQyxFQWNELENBZEMsRUFjQyxDQWRELEVBY0csQ0FkSCxFQWNLLENBZEwsRUFjTyxDQWRQLEVBY1MsQ0FkVCxFQWNXLENBZFgsRUFjYSxDQWRiLEVBY2UsQ0FkZixFQWNpQixDQWRqQixFQWNtQixDQWRuQixFQWNxQixDQWRyQixFQWN1QixDQWR2QixFQWN5QixDQWR6QixFQWMyQixDQWQzQixFQWM2QixDQWQ3QixFQWMrQixDQWQvQixFQWNpQyxDQWRqQyxFQWNtQyxDQWRuQyxFQWNxQyxDQWRyQyxFQWVELENBZkMsRUFlQyxDQWZELEVBZUcsQ0FmSCxFQWVLLENBZkwsRUFlTyxDQWZQLEVBZVMsQ0FmVCxFQWVXLENBZlgsRUFlYSxDQWZiLEVBZWUsQ0FmZixFQWVpQixDQWZqQixFQWVtQixDQWZuQixFQWVxQixDQWZyQixFQWV1QixDQWZ2QixFQWV5QixDQWZ6QixFQWUyQixDQWYzQixFQWU2QixDQWY3QixFQWUrQixDQWYvQixFQWVpQyxDQWZqQyxFQWVtQyxDQWZuQyxFQWVxQyxDQWZyQyxDQWpCUyxDQUFkO0FBN0JGO0FBZ0VDOzs7RUF4RTRCLGlCOzs7Ozs7Ozs7Ozs7O0lDRmxCLFcsV0FBQSxXO0FBR1gsMkJBQUE7QUFBQTs7QUFDRSxhQUFLLFVBQUwsR0FBa0IsRUFBbEI7QUFDRDs7OztxQ0FFZ0I7QUFDZixtQkFBTyxDQUNMLEtBQUssU0FBTCxDQUFlLGFBQWYsRUFBOEIsb0JBQTlCLENBREssRUFFTCxLQUFLLFNBQUwsQ0FBZSxjQUFmLEVBQStCLHlCQUEvQixDQUZLLEVBR0wsS0FBSyxTQUFMLENBQWUsVUFBZixFQUEyQiwrQkFBM0IsQ0FISyxFQUlMLEtBQUssU0FBTCxDQUFlLGNBQWYsRUFBK0Isa0NBQS9CLENBSkssQ0FBUDtBQU1EOzs7a0NBRWdCLEcsRUFBYSxHLEVBQVc7QUFDdkMsZ0JBQUksTUFBTSxJQUFJLEtBQUosRUFBVjtBQUVBLGdCQUFJLElBQUksSUFBSSxPQUFKLENBQVksVUFBVSxPQUFWLEVBQW1CLE1BQW5CLEVBQXlCO0FBQzNDLG9CQUFJLE1BQUosR0FBYSxZQUFBO0FBQ1gseUJBQUssVUFBTCxDQUFnQixHQUFoQixJQUF1QixHQUF2QjtBQUNBLDRCQUFRLEdBQVI7QUFDRCxpQkFIWSxDQUdYLElBSFcsQ0FHTixJQUhNLENBQWI7QUFLQSxvQkFBSSxPQUFKLEdBQWMsWUFBQTtBQUNaLDJCQUFPLDJCQUEyQixHQUFsQztBQUNELGlCQUZEO0FBR0QsYUFUbUIsQ0FTbEIsSUFUa0IsQ0FTYixJQVRhLENBQVosQ0FBUjtBQVdBLGdCQUFJLEdBQUosR0FBVSxHQUFWO0FBRUEsbUJBQU8sQ0FBUDtBQUNEOzs7aUNBRWUsRyxFQUFXO0FBQ3pCLG1CQUFRLE9BQU8sS0FBSyxVQUFiLEdBQTJCLEtBQUssVUFBTCxDQUFnQixHQUFoQixDQUEzQixHQUFrRCxJQUF6RDtBQUNEOzs7Ozs7Ozs7Ozs7Ozs7SUNuQ21CLE8sV0FBQSxPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQ3RCOzs7SUFHYSxlLFdBQUEsZTs7Ozs7Ozs7Ozs7O0FBRVg7Ozs0QkFHZSxLLEVBQWtCLEssRUFBYTtBQUM1QyxZQUFNLEtBQU4sQ0FBWSxLQUFaO0FBQ0Q7Ozs7RUFQa0MsaUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSHJDOzs7SUFHYSxnQixXQUFBLGdCOzs7Ozs7Ozs7Ozs7QUFFWDs7OzRCQUdlLEssRUFBa0IsSyxFQUFhO0FBQzVDLFlBQU0sS0FBTixDQUFZLEtBQVo7QUFDRDs7OztFQVBtQyxpQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNIdEM7OztJQUdhLGdCLFdBQUEsZ0I7Ozs7Ozs7Ozs7OztBQUVYOzs7NEJBR2UsSyxFQUFrQixLLEVBQWE7QUFDNUMsWUFBTSxLQUFOLENBQVksS0FBWjtBQUNEOzs7O0VBUG1DLGlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0h0Qzs7O0lBR2EsZSxXQUFBLGU7Ozs7Ozs7Ozs7OztBQUVYOzs7NEJBR2UsSyxFQUFrQixLLEVBQWE7QUFDNUMsWUFBTSxLQUFOLENBQVksS0FBWjtBQUNEOzs7O0VBUGtDLGlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0pyQzs7Ozs7SUFLYSxXLFdBQUEsVzs7Ozs7Ozs7Ozs7O0FBRVg7Ozs4QkFHYyxDQUFXOzs7O0VBTE0saUI7Ozs7Ozs7Ozs7O0FDRWpDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7Ozs7SUNoQnNCLFMsV0FBQSxTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7SUNxQ1QsYyxXQUFBLGM7QUFPWDs7O0FBR0EsOEJBQUE7QUFBQTs7QUFDRTtBQUNBO0FBQ0E7QUFDQSxhQUFLLGNBQUwsR0FBc0IsRUFBdEI7QUFDRDtBQUVEOzs7Ozs7Ozs7OzsrQkFPYyxLLEVBQXdCO0FBQ3BDLGlCQUFLLGNBQUwsQ0FBb0IsTUFBTSxJQUExQixJQUFrQyxLQUFsQztBQUNEO0FBRUQ7Ozs7Ozs7O3VDQUtzQixTLEVBQW1DO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQ3ZELHFDQUFrQixTQUFsQiw4SEFBNkI7QUFBQSx3QkFBcEIsS0FBb0I7O0FBQzNCLHlCQUFLLE1BQUwsQ0FBWSxLQUFaO0FBQ0Q7QUFIc0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUl4RDtBQUVEOzs7Ozs7Ozs7NkJBTVksUyxFQUFpQjtBQUMzQixxQkFBUyxjQUFULENBQXdCLFdBQXhCLEVBQ0csYUFESCxDQUNpQixLQUFLLGNBQUwsQ0FBb0IsU0FBcEIsQ0FEakI7QUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEZIOztBQUVBOzs7Ozs7OztBQUVBOzs7Ozs7O0lBT2Esa0IsV0FBQSxrQjs7O0FBUVg7Ozs7O0FBS0EsOEJBQW1CLEVBQW5CLEVBQWlDO0FBQUE7O0FBQUE7O0FBRy9CLFVBQUssZUFBTCxHQUF1QixJQUFJLDhCQUFKLEVBQXZCO0FBQ0EsVUFBSyxlQUFMLENBQXFCLE1BQXJCLENBQTRCLG1DQUFpQixNQUFqQixDQUF3QixFQUF4QixDQUE1QjtBQUorQjtBQUtoQztBQUVEOzs7Ozs7OzZCQUdhO0FBQ1g7QUFDRDs7OztFQXpCcUMscUI7Ozs7Ozs7Ozs7O0FDSnhDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7Ozs7Ozs7OztJQ2ZhLGdCLFdBQUEsZ0I7Ozs7Ozs7O0FBRVg7Ozs7OzsrQkFNcUIsTSxFQUFrQjtBQUVyQyxnQkFBSSxRQUFRLElBQUksV0FBSixDQUFnQixhQUFoQixFQUErQjtBQUN6Qyx3QkFBUTtBQUNOLDZCQUFTLE9BQU8sS0FBUDtBQURIO0FBRGlDLGFBQS9CLENBQVo7QUFNQSxtQkFBTyxLQUFQO0FBQ0Q7Ozs7Ozs7Ozs7Ozs7OztBQ2xCSDs7Ozs7QUFIQTs7QUFDQTs7QUFHQTs7OztBQU1BOzs7O0lBSWEsUyxXQUFBLFM7QUF5RVgsdUJBQVksYUFBWixFQUFtQyxjQUFuQyxFQUF5RDtBQUFBOztBQUFBOztBQUV2RDs7O0FBR0EsYUFBSyxNQUFMLEdBQWMsS0FBSyxTQUFMLENBQWUsYUFBZixFQUE4QixjQUE5QixDQUFkO0FBQ0EsYUFBSyxTQUFMLEdBQWlCLFNBQVMsY0FBVCxDQUF3QixZQUF4QixDQUFqQjtBQUNBLGFBQUssU0FBTCxDQUFlLFlBQWYsQ0FBNEIsS0FBSyxNQUFqQyxFQUF5QyxLQUFLLFNBQUwsQ0FBZSxVQUF4RDtBQUVBLGlCQUFTLGNBQVQsQ0FBd0IsV0FBeEIsRUFBcUMsZ0JBQXJDLENBQ0UsWUFERixFQUVFLFVBQUMsS0FBRDtBQUFBLG1CQUF3QixNQUFLLDJCQUFMLENBQWlDLEtBQWpDLENBQXhCO0FBQUEsU0FGRixFQUdFLEtBSEY7QUFNQSxhQUFLLFNBQUwsR0FBaUIsSUFBakI7QUFFQSxhQUFLLFVBQUwsR0FBa0IsRUFBbEI7QUFFQSxhQUFLLGFBQUwsR0FBcUIsQ0FBckI7QUFFQSxhQUFLLFdBQUwsR0FBbUIsSUFBbkI7QUFFQSxhQUFLLE1BQUwsR0FBYyxJQUFJLGtCQUFKLENBQVcsRUFBQyxHQUFFLEdBQUgsRUFBTyxHQUFFLEdBQVQsRUFBWCxDQUFkO0FBRUEsYUFBSyxRQUFMLEdBQWdCLElBQUksa0JBQUosQ0FBYSxLQUFLLE1BQWxCLENBQWhCO0FBRUEsYUFBSyxZQUFMLEdBQW9CLElBQUksMEJBQUosRUFBcEI7QUFFQSxhQUFLLE1BQUwsR0FBYyxJQUFJLGNBQUosRUFBZDtBQUVBLGFBQUssZUFBTCxHQUF1QixDQUF2QjtBQUVBLGFBQUssV0FBTCxHQUFtQjtBQUNqQjtBQUNBO0FBQ0EsYUFBSyxNQUhZLENBQW5CO0FBTUE7QUFDQSxhQUFLLElBQUwsQ0FBVSxZQUFZLEdBQVosRUFBVjtBQUNEO0FBRUQ7Ozs7Ozs7Ozs7O2tDQU9rQixDLEVBQVcsQyxFQUFTO0FBQ3BDLGdCQUFJLFNBQVMsU0FBUyxhQUFULENBQXVCLFFBQXZCLENBQWI7QUFDQSxtQkFBTyxFQUFQLEdBQVksV0FBWjtBQUNBLG1CQUFPLEtBQVAsR0FBZSxDQUFmO0FBQ0EsbUJBQU8sTUFBUCxHQUFnQixDQUFoQjtBQUNBLG1CQUFPLFFBQVAsR0FBa0IsQ0FBbEI7QUFFQSxtQkFBTyxNQUFQO0FBQ0Q7OztvREFFa0MsSyxFQUFrQjtBQUNuRCxvQkFBUSxHQUFSLENBQVksc0JBQVosRUFBb0MsTUFBTSxNQUFOLENBQWEsS0FBakQ7QUFDRDtBQUVEOzs7Ozs7Ozs7OztnQ0FRZ0IsSyxFQUFhO0FBQzNCO0FBQ0E7QUFDQSxpQkFBSyxJQUFJLElBQUUsQ0FBWCxFQUFjLElBQUUsS0FBSyxlQUFyQixFQUFzQyxHQUF0QyxFQUEyQztBQUN6QyxxQkFBSyxXQUFMLENBQWlCLENBQWpCLEVBQW9CLE1BQXBCLENBQTJCLEtBQTNCO0FBQ0Q7QUFFRCxpQkFBSyxlQUFMLEdBQXVCLEtBQUssV0FBTCxDQUFpQixNQUF4QztBQUNEO0FBRUQ7Ozs7OztnQ0FHYTtBQUVYO0FBQ0EsaUJBQUssUUFBTCxDQUFjLElBQWQsQ0FBbUIsS0FBSyxlQUF4QixFQUF5QyxLQUFLLFdBQTlDO0FBQ0Q7QUFFRDs7Ozs7O3VDQUdvQjtBQUNsQixtQkFBTyxvQkFBUCxDQUE0QixLQUFLLFNBQWpDO0FBQ0Esb0JBQVEsR0FBUixDQUFZLFlBQVo7QUFDRDtBQUVEOzs7Ozs7dUNBR21CO0FBQ2pCLGlCQUFLLFlBQUw7QUFDRDtBQUVIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzZCQW1CYyxNLEVBQTJCO0FBQ3JDO0FBQ0E7QUFDQSxpQkFBSyxTQUFMLEdBQWlCLE9BQU8scUJBQVAsQ0FBNkIsS0FBSyxJQUFMLENBQVUsSUFBVixDQUFlLElBQWYsQ0FBN0IsQ0FBakI7QUFFQTtBQUNBLGdCQUFJLFFBQVEsQ0FBQyxTQUFTLEtBQUssYUFBZixJQUFnQyxNQUE1QztBQUNBO0FBQ0EsaUJBQUssYUFBTCxHQUFxQixNQUFyQjtBQUVBLGlCQUFLLFlBQUwsQ0FBa0IsV0FBbEIsQ0FBOEIsS0FBSyxNQUFuQyxFQUEyQyxLQUEzQztBQUNBLGlCQUFLLE9BQUwsQ0FBYSxLQUFiO0FBQ0EsaUJBQUssS0FBTDtBQUNEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoT0g7OztJQUdhLEssV0FBQSxLOzs7QUFZWDs7O0FBR0EscUJBQUE7QUFBQTs7QUFBQTs7QUFHRSxjQUFLLElBQUwsR0FBWSxXQUFaO0FBRUEsY0FBSyxFQUFMLEdBQVUsR0FBVjtBQUNBLGNBQUssR0FBTCxHQUFXLENBQVg7QUFDQSxjQUFLLEtBQUwsR0FBYSxHQUFiO0FBQ0EsY0FBSyxRQUFMLEdBQWdCO0FBQ2QsZUFBRyxDQURXO0FBRWQsZUFBRztBQUZXLFNBQWhCO0FBUkY7QUFZQztBQUVEOzs7Ozs7OzsrQkFJTyxLLEVBQWE7QUFDbEIsaUJBQUssUUFBTCxDQUFjLENBQWQsSUFBbUIsS0FBSyxLQUFMLEdBQWEsS0FBaEM7QUFDQSxpQkFBSyxRQUFMLENBQWMsQ0FBZCxJQUFtQixLQUFLLEtBQUwsR0FBYSxLQUFoQztBQUNEOzs7NkJBRUksRyxFQUE2QjtBQUNoQyxnQkFBSSxTQUFKO0FBQ0EsZ0JBQUksR0FBSixDQUFRLEtBQUssUUFBTCxDQUFjLENBQXRCLEVBQXlCLEtBQUssUUFBTCxDQUFjLENBQXZDLEVBQTBDLEVBQTFDLEVBQThDLENBQTlDLEVBQWlELEtBQUssRUFBTCxHQUFRLENBQXpEO0FBQ0EsZ0JBQUksU0FBSixHQUFnQixTQUFoQjtBQUNBLGdCQUFJLElBQUo7QUFDQSxnQkFBSSxTQUFKO0FBQ0Q7Ozs7RUE1Q3dCLHFCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3FCM0I7Ozs7Ozs7SUFPc0IsUyxXQUFBLFM7OztBQVNwQjs7O0FBR0EsdUJBQUE7QUFBQTs7QUFBQTtBQUVDO0FBWUQ7Ozs7OzBCQUNhLEssRUFBYSxDQUFVOzs7MEJBQ3ZCLEssRUFBYSxDQUFVOzs7MEJBQ3ZCLEssRUFBYSxDQUFVOzs7MEJBQ3ZCLEssRUFBYSxDQUFVOzs7O0VBOUJFLHVCOzs7Ozs7Ozs7Ozs7OztBQ2hDeEM7Ozs7Ozs7O0FBZUE7Ozs7Ozs7O0lBUWEsTSxXQUFBLE07OztBQU1YOzs7QUFHQyxrQkFBWSxRQUFaLEVBQWdDO0FBQUE7O0FBQUE7O0FBRy9CLFVBQUssUUFBTCxHQUFnQixFQUFDLEdBQUUsR0FBSCxFQUFPLEdBQUUsR0FBVCxFQUFoQjtBQUVBLFVBQUssS0FBTCxHQUFhLEdBQWI7QUFFQSxVQUFLLFVBQUwsR0FBa0IsSUFBSSw2QkFBSixPQUFsQjtBQVArQjtBQVFoQztBQUVEOzs7Ozs7Ozs7OzsyQkFPYyxLLEVBQWE7QUFDekIsV0FBSyxVQUFMLENBQWdCLE1BQWhCO0FBQ0E7QUFDRDtBQUdEOzs7Ozs7O3lCQUlhLEcsRUFBNkI7QUFDeEMsVUFBSSxTQUFKO0FBQ0EsVUFBSSxHQUFKLENBQVEsS0FBSyxRQUFMLENBQWMsQ0FBdEIsRUFBeUIsS0FBSyxRQUFMLENBQWMsQ0FBdkMsRUFBMEMsRUFBMUMsRUFBOEMsQ0FBOUMsRUFBaUQsS0FBSyxFQUFMLEdBQVEsQ0FBekQ7QUFDQSxVQUFJLFNBQUosR0FBZ0IsU0FBaEI7QUFDQSxVQUFJLElBQUo7QUFDQSxVQUFJLFNBQUo7QUFDRDtBQUdEOzs7Ozs7O0FBUUE7Ozs7Ozs7MEJBSWEsSyxFQUFhO0FBQ3hCO0FBQ0E7QUFDQSxXQUFLLFFBQUwsQ0FBYyxDQUFkLElBQW1CLEtBQUssS0FBTCxHQUFhLEtBQWhDO0FBQ0Q7QUFFRDs7Ozs7Ozs7MEJBS2EsSyxFQUFhO0FBQ3hCO0FBQ0E7QUFDQSxXQUFLLFFBQUwsQ0FBYyxDQUFkLElBQW1CLEtBQUssS0FBTCxHQUFhLEtBQWhDO0FBQ0Q7QUFFRDs7Ozs7Ozs7MEJBS2EsSyxFQUFhO0FBQ3hCLFdBQUssUUFBTCxDQUFjLENBQWQsSUFBbUIsS0FBSyxLQUFMLEdBQWEsS0FBaEM7QUFDRDtBQUVDOzs7Ozs7OzswQkFLVyxLLEVBQWE7QUFDeEIsV0FBSyxRQUFMLENBQWMsQ0FBZCxJQUFtQixLQUFLLEtBQUwsR0FBYSxLQUFoQztBQUNEOzs7O0VBMUZ5QixxQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUNlTixVLFdBQUEsVTtBQThCcEI7Ozs7QUFJQSwwQkFBQTtBQUFBOztBQUVFLGFBQUssRUFBTCxHQUFVLFdBQVcsYUFBWCxFQUFWO0FBRUE7QUFDQSxhQUFLLGNBQUwsR0FBc0I7QUFDcEIsMEJBQWMsSUFBSSxXQUFKLENBQWdCLFlBQWhCLEVBQThCO0FBQzFDLHdCQUFRO0FBQ04sMkJBQU8sS0FBSyxLQUFMO0FBREQ7QUFEa0MsYUFBOUI7QUFETSxTQUF0QjtBQU9BLGlCQUFTLGNBQVQsQ0FBd0IsV0FBeEIsRUFDRyxhQURILENBQ2lCLEtBQUssY0FBTCxDQUFvQixZQUFwQixDQURqQjtBQUVEO0FBRUQ7Ozs7Ozs7OztnQ0FLWTtBQUNWLG1CQUFPLEtBQUssRUFBWjtBQUNEOzs7cUNBWXNCLE0sRUFBcUI7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFFMUMscUNBQWtCLE1BQWxCLDhIQUEwQjtBQUFBLHdCQUFqQixLQUFpQjs7QUFDeEIseUJBQUssY0FBTCxDQUFvQixLQUFwQixJQUE2QixJQUFJLEtBQUosQ0FBVSxLQUFWLENBQTdCO0FBQ0Q7QUFKeUM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUszQzs7Ozs7QUF4RUQ7Ozs7Ozs7O0FBTWUsV0FBQSxhQUFBLEdBQXdCLENBQXhCOzs7Ozs7Ozs7OztBQ3RDakI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7O0FDc0JBOzs7Ozs7QUFNQSxJQUFLLGNBQUw7QUFBQSxDQUFBLFVBQUssY0FBTCxFQUFtQjtBQUNqQixtQkFBQSxlQUFBLFNBQUEsSUFBQSxDQUFBLElBQUEsU0FBQTtBQUNBLG1CQUFBLGVBQUEsS0FBQSxJQUFBLENBQUEsSUFBQSxLQUFBO0FBQ0EsbUJBQUEsZUFBQSxpQkFBQSxJQUFBLENBQUEsSUFBQSxpQkFBQTtBQUNBLG1CQUFBLGVBQUEsZ0JBQUEsSUFBQSxDQUFBLElBQUEsZ0JBQUE7QUFDRCxDQUxELEVBQUssbUJBQUEsaUJBQWMsRUFBZCxDQUFMO0FBT0E7Ozs7O0FBS0EsSUFBSyxNQUFMO0FBQUEsQ0FBQSxVQUFLLE1BQUwsRUFBVztBQUNULFdBQUEsSUFBQSxJQUFBLFNBQUE7QUFDQSxXQUFBLE1BQUEsSUFBQSxXQUFBO0FBQ0EsV0FBQSxNQUFBLElBQUEsV0FBQTtBQUNBLFdBQUEsT0FBQSxJQUFBLFlBQUE7QUFDQSxXQUFBLEdBQUEsSUFBQSxHQUFBO0FBQ0EsV0FBQSxHQUFBLElBQUEsR0FBQTtBQUNBLFdBQUEsUUFBQSxJQUFBLFdBQUE7QUFDQSxXQUFBLE9BQUEsSUFBQSxPQUFBO0FBQ0EsV0FBQSxPQUFBLElBQUEsT0FBQTtBQUNELENBVkQsRUFBSyxXQUFBLFNBQU0sRUFBTixDQUFMO0FBWUE7Ozs7Ozs7Ozs7OztBQVlDLElBQUssWUFBTDtBQUFBLENBQUEsVUFBSyxZQUFMLEVBQWlCO0FBQ2hCLGlCQUFBLGFBQUEsU0FBQSxJQUFBLENBQUEsSUFBQSxTQUFBO0FBQ0EsaUJBQUEsYUFBQSxRQUFBLElBQUEsQ0FBQSxJQUFBLFFBQUE7QUFDQSxpQkFBQSxhQUFBLE1BQUEsSUFBQSxDQUFBLElBQUEsTUFBQTtBQUNBLGlCQUFBLGFBQUEsVUFBQSxJQUFBLENBQUEsSUFBQSxVQUFBO0FBQ0EsaUJBQUEsYUFBQSxVQUFBLElBQUEsQ0FBQSxJQUFBLFVBQUE7QUFDRCxDQU5BLEVBQUssaUJBQUEsZUFBWSxFQUFaLENBQUw7QUFRRDs7OztJQUdhLFksV0FBQSxZO0FBU1g7Ozs7QUFJQSw0QkFBQTtBQUFBOztBQUFBOztBQUVFLGlCQUFTLGNBQVQsQ0FBd0IsV0FBeEIsRUFBcUMsZ0JBQXJDLENBQ0UsU0FERixFQUNhLFVBQUMsS0FBRDtBQUFBLG1CQUFXLE1BQUssYUFBTCxDQUFtQixLQUFuQixDQUFYO0FBQUEsU0FEYixFQUNtRCxLQURuRDtBQUlBLGlCQUFTLGNBQVQsQ0FBd0IsV0FBeEIsRUFBcUMsZ0JBQXJDLENBQ0UsT0FERixFQUNXLFVBQUMsS0FBRDtBQUFBLG1CQUFXLE1BQUssY0FBTCxDQUFvQixLQUFwQixDQUFYO0FBQUEsU0FEWCxFQUNrRCxLQURsRDtBQUlBLGFBQUssUUFBTCxHQUFnQixLQUFLLFlBQUwsRUFBaEI7QUFFQTtBQUNBO0FBQ0EsYUFBSyxpQkFBTCxDQUF1QixlQUFlLE9BQXRDO0FBQ0Q7QUFFRDs7Ozs7Ozs7OztnQ0FNZSxLLEVBQXNCLE8sRUFBZ0I7QUFDbkQsaUJBQUssUUFBTCxDQUFjLE1BQU0sR0FBcEIsRUFBeUIsT0FBekIsR0FBbUMsT0FBbkM7QUFDRDtBQUVEOzs7Ozs7Ozs7c0NBTXFCLEssRUFBb0I7QUFDdkMsa0JBQU0sY0FBTjtBQUVBLGdCQUFJLEtBQUssUUFBTCxDQUFjLE1BQU0sR0FBcEIsQ0FBSixFQUE4QjtBQUM1QixxQkFBSyxRQUFMLENBQWMsTUFBTSxHQUFwQixFQUF5QixNQUF6QixHQUFrQyxhQUFhLE9BQS9DO0FBQ0Q7QUFDRjtBQUVEOzs7Ozs7Ozt1Q0FLc0IsSyxFQUFvQjtBQUN4QyxrQkFBTSxjQUFOO0FBRUEsZ0JBQUksS0FBSyxRQUFMLENBQWMsTUFBTSxHQUFwQixDQUFKLEVBQThCO0FBQzVCLHFCQUFLLFFBQUwsQ0FBYyxNQUFNLEdBQXBCLEVBQXlCLE1BQXpCLEdBQWtDLGFBQWEsTUFBL0M7QUFDRDtBQUNGO0FBRUQ7Ozs7OztvQ0FHbUIsSyxFQUFrQixLLEVBQWE7QUFFaEQsZ0JBQUksS0FBSyxRQUFMLENBQWMsT0FBTyxFQUFyQixFQUF5QixNQUF6QixLQUFvQyxhQUFhLE9BQXJELEVBQThEO0FBQzVELHFCQUFLLFFBQUwsQ0FBYyxPQUFPLEVBQXJCLEVBQXlCLE9BQXpCLENBQWlDLE9BQWpDLENBQXlDLEtBQXpDLEVBQWdELEtBQWhEO0FBQ0Q7QUFDRCxnQkFBSSxLQUFLLFFBQUwsQ0FBYyxPQUFPLElBQXJCLEVBQTJCLE1BQTNCLEtBQXNDLGFBQWEsT0FBdkQsRUFBZ0U7QUFDOUQscUJBQUssUUFBTCxDQUFjLE9BQU8sSUFBckIsRUFBMkIsT0FBM0IsQ0FBbUMsT0FBbkMsQ0FBMkMsS0FBM0MsRUFBa0QsS0FBbEQ7QUFDRDtBQUNELGdCQUFJLEtBQUssUUFBTCxDQUFjLE9BQU8sSUFBckIsRUFBMkIsTUFBM0IsS0FBc0MsYUFBYSxPQUF2RCxFQUFnRTtBQUM5RCxxQkFBSyxRQUFMLENBQWMsT0FBTyxJQUFyQixFQUEyQixPQUEzQixDQUFtQyxPQUFuQyxDQUEyQyxLQUEzQyxFQUFrRCxLQUFsRDtBQUNEO0FBQ0QsZ0JBQUksS0FBSyxRQUFMLENBQWMsT0FBTyxLQUFyQixFQUE0QixNQUE1QixLQUF1QyxhQUFhLE9BQXhELEVBQWlFO0FBQy9ELHFCQUFLLFFBQUwsQ0FBYyxPQUFPLEtBQXJCLEVBQTRCLE9BQTVCLENBQW9DLE9BQXBDLENBQTRDLEtBQTVDLEVBQW1ELEtBQW5EO0FBQ0Q7QUFDRCxnQkFBSSxLQUFLLFFBQUwsQ0FBYyxPQUFPLENBQXJCLEVBQXdCLE1BQXhCLEtBQW1DLGFBQWEsT0FBcEQsRUFBNkQ7QUFDM0QscUJBQUssUUFBTCxDQUFjLE9BQU8sQ0FBckIsRUFBd0IsT0FBeEIsQ0FBZ0MsT0FBaEMsQ0FBd0MsS0FBeEMsRUFBK0MsS0FBL0M7QUFDRDtBQUNELGdCQUFJLEtBQUssUUFBTCxDQUFjLE9BQU8sQ0FBckIsRUFBd0IsTUFBeEIsS0FBbUMsYUFBYSxPQUFwRCxFQUE2RDtBQUMzRCxxQkFBSyxRQUFMLENBQWMsT0FBTyxDQUFyQixFQUF3QixPQUF4QixDQUFnQyxPQUFoQyxDQUF3QyxLQUF4QyxFQUErQyxLQUEvQztBQUNEO0FBQ0QsZ0JBQUksS0FBSyxRQUFMLENBQWMsT0FBTyxNQUFyQixFQUE2QixNQUE3QixLQUF3QyxhQUFhLE9BQXpELEVBQWtFO0FBQ2hFLHFCQUFLLFFBQUwsQ0FBYyxPQUFPLE1BQXJCLEVBQTZCLE9BQTdCLENBQXFDLE9BQXJDLENBQTZDLEtBQTdDLEVBQW9ELEtBQXBEO0FBQ0Q7QUFDRCxnQkFBSSxLQUFLLFFBQUwsQ0FBYyxPQUFPLEtBQXJCLEVBQTRCLE1BQTVCLEtBQXVDLGFBQWEsT0FBeEQsRUFBaUU7QUFDL0QscUJBQUssUUFBTCxDQUFjLE9BQU8sS0FBckIsRUFBNEIsT0FBNUIsQ0FBb0MsT0FBcEMsQ0FBNEMsS0FBNUMsRUFBbUQsS0FBbkQ7QUFDRDtBQUNELGdCQUFJLEtBQUssUUFBTCxDQUFjLE9BQU8sS0FBckIsRUFBNEIsTUFBNUIsS0FBdUMsYUFBYSxPQUF4RCxFQUFpRTtBQUMvRCxxQkFBSyxRQUFMLENBQWMsT0FBTyxLQUFyQixFQUE0QixPQUE1QixDQUFvQyxPQUFwQyxDQUE0QyxLQUE1QyxFQUFtRCxLQUFuRDtBQUNEO0FBQ0Y7QUFFRDs7Ozs7Ozs7dUNBS29CO0FBQ2xCLGdCQUFJLEtBQUssRUFBVDtBQUVBLGlCQUFJLElBQUksU0FBUixJQUFxQixNQUFyQixFQUE2QjtBQUMzQixtQkFBRyxPQUFPLFNBQVAsQ0FBSCxJQUF3QjtBQUN0Qiw2QkFBUyxvQkFEYTtBQUV0Qiw0QkFBUSxhQUFhO0FBRkMsaUJBQXhCO0FBSUQ7QUFFRCxtQkFBTyxFQUFQO0FBQ0Q7QUFFRDs7Ozs7Ozs7OzswQ0FPMEIsYSxFQUE2QjtBQUNyRCxvQkFBTyxhQUFQO0FBQ0UscUJBQUssQ0FBTDtBQUNFO0FBQ0Y7QUFDRTtBQUNBLHlCQUFLLFFBQUwsQ0FBYyxPQUFPLEVBQXJCLEVBQXlCLE9BQXpCLEdBQW1DLElBQUkseUJBQUosRUFBbkM7QUFDQSx5QkFBSyxRQUFMLENBQWMsT0FBTyxJQUFyQixFQUEyQixPQUEzQixHQUFxQyxJQUFJLHlCQUFKLEVBQXJDO0FBQ0EseUJBQUssUUFBTCxDQUFjLE9BQU8sSUFBckIsRUFBMkIsT0FBM0IsR0FBcUMsSUFBSSx3QkFBSixFQUFyQztBQUNBLHlCQUFLLFFBQUwsQ0FBYyxPQUFPLEtBQXJCLEVBQTRCLE9BQTVCLEdBQXNDLElBQUksd0JBQUosRUFBdEM7QUFDQSx5QkFBSyxRQUFMLENBQWMsT0FBTyxDQUFyQixFQUF3QixPQUF4QixHQUFrQyxJQUFJLG9CQUFKLEVBQWxDO0FBQ0EseUJBQUssUUFBTCxDQUFjLE9BQU8sQ0FBckIsRUFBd0IsT0FBeEIsR0FBa0MsSUFBSSxvQkFBSixFQUFsQztBQUNBLHlCQUFLLFFBQUwsQ0FBYyxPQUFPLE1BQXJCLEVBQTZCLE9BQTdCLEdBQXVDLElBQUksb0JBQUosRUFBdkM7QUFDQSx5QkFBSyxRQUFMLENBQWMsT0FBTyxLQUFyQixFQUE0QixPQUE1QixHQUFzQyxJQUFJLG9CQUFKLEVBQXRDO0FBQ0EseUJBQUssUUFBTCxDQUFjLE9BQU8sS0FBckIsRUFBNEIsT0FBNUIsR0FBc0MsSUFBSSxvQkFBSixFQUF0QztBQWJKO0FBZUQ7Ozs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7SUN2T2EsTSxXQUFBLE0sR0FRWCxrQkFBQTtBQUFBO0FBQWdCLEM7Ozs7Ozs7Ozs7Ozs7Ozs7SUN0Q0wsUSxXQUFBLFE7QUFnQlgsc0JBQVksTUFBWixFQUFxQztBQUFBOztBQUVuQyxhQUFLLE1BQUwsR0FBYyxNQUFkO0FBRUE7Ozs7O0FBS0MsYUFBSyxHQUFMLEdBQVcsS0FBSyxNQUFMLENBQVksVUFBWixDQUF1QixJQUF2QixDQUFYO0FBRUQ7Ozs7O0FBS0MsYUFBSyxHQUFMLENBQVMscUJBQVQsR0FBaUMsS0FBakM7QUFFRDs7Ozs7OztBQU9BLGFBQUssVUFBTCxHQUFrQixDQUFsQjtBQUVBOzs7Ozs7O0FBT0EsYUFBSyxNQUFMLEdBQWMsRUFBZDtBQUVBOzs7Ozs7QUFNQSxhQUFLLEtBQUwsR0FBYSxDQUFiO0FBRUEsYUFBSyxXQUFMLEdBQW1CLElBQUksb0JBQUosRUFBbkI7QUFDRDs7Ozs2QkFFSSxlLEVBQXlCLFcsRUFBdUI7QUFFbkQ7QUFDQTtBQUNBLGlCQUFLLEdBQUwsQ0FBUyxTQUFULENBQ0UsQ0FERixFQUVFLENBRkYsRUFHRSxLQUFLLE1BQUwsQ0FBWSxLQUhkLEVBSUUsS0FBSyxNQUFMLENBQVksTUFKZDtBQU9BO0FBQ0E7QUFDQSxpQkFBSyxXQUFMLENBQWlCLEtBQUssV0FBdEI7QUFFQSxpQkFBSyxJQUFJLElBQUUsQ0FBWCxFQUFjLElBQUUsZUFBaEIsRUFBaUMsR0FBakMsRUFBc0M7QUFDcEMsNEJBQVksQ0FBWixFQUFlLElBQWYsQ0FBb0IsS0FBSyxHQUF6QjtBQUNEO0FBQ0Y7QUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQ0FzQlksRyxFQUFZO0FBQ3RCLGlCQUFLLElBQUksSUFBRSxDQUFYLEVBQWMsSUFBRSxJQUFJLElBQXBCLEVBQTBCLEdBQTFCLEVBQStCO0FBQzdCLHFCQUFLLElBQUksSUFBRSxDQUFYLEVBQWMsSUFBRSxJQUFJLElBQXBCLEVBQTBCLEdBQTFCLEVBQStCO0FBQzdCLHdCQUFJLE9BQU8sSUFBSSxPQUFKLENBQVksQ0FBWixFQUFlLENBQWYsQ0FBWDtBQUVBO0FBQ0Esd0JBQUksU0FBUyxLQUFLLFVBQWxCLEVBQThCO0FBQzVCLDZCQUFLLEdBQUwsQ0FBUyxTQUFUO0FBQ0U7QUFDQSw0QkFBSSxFQUZOO0FBR0U7QUFDQyx5QkFBQyxPQUFPLENBQVIsSUFBYSxJQUFJLElBQWxCLEdBQTBCLEtBQUssTUFKakM7QUFLRTtBQUNBLDZCQUFLLEtBQUwsQ0FBWSxDQUFDLE9BQU8sQ0FBUixJQUFhLElBQUksSUFBN0IsSUFBc0MsS0FBSyxNQU43QztBQU9FO0FBQ0EsNkJBQUssTUFSUDtBQVNFO0FBQ0EsNkJBQUssTUFWUDtBQVdFO0FBQ0EsNkJBQUssS0FBSyxNQUFMLEdBQWMsS0FBSyxLQUF4QixDQVpGO0FBYUU7QUFDQSw2QkFBSyxLQUFLLE1BQUwsR0FBYyxLQUFLLEtBQXhCLENBZEY7QUFlRTtBQUNBLDZCQUFLLE1BQUwsR0FBYyxLQUFLLEtBaEJyQjtBQWlCRztBQUNELDZCQUFLLE1BQUwsR0FBYyxLQUFLLEtBbEJyQjtBQW9CRDtBQUNGO0FBQ0Y7QUFDRjs7Ozs7Ozs7Ozs7QUN6SUg7O0FBYUE7OztBQUdBLFNBQVMsSUFBVCxHQUFhO0FBRVg7QUFDQSxRQUFJLG9CQUFKLENBQWMsR0FBZCxFQUFtQixHQUFuQjtBQUNBO0FBQ0EsYUFBUyxjQUFULENBQXdCLFdBQXhCLEVBQXFDLEtBQXJDO0FBQ0Q7QUFBQTtBQUVEOzs7OztBQUtDLE9BQU8sTUFBUCxHQUFnQixZQUFBO0FBRWYsV0FBTyxRQUFQLEdBQWtCLElBQUksd0JBQUosRUFBbEI7QUFDQSxRQUFJLElBQUksT0FBTyxRQUFQLENBQWdCLFVBQWhCLEVBQVI7QUFDQSxZQUFRLEdBQVIsQ0FBWSxDQUFaLEVBQWUsSUFBZixDQUFxQixZQUFLO0FBQ3hCO0FBQ0QsS0FGRDtBQUdELENBUEEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJleHBvcnQgY2xhc3MgTWFwQmFzZSB7XG4gIFNNOiBIVE1MSW1hZ2VFbGVtZW50O1xuICBjb2xzOiBudW1iZXI7XG4gIHJvd3M6IG51bWJlcjtcbiAgdHNpemU6IG51bWJlcjtcbiAgdGlsZXM6IEFycmF5PGFueT47XG4gIFxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbHMgPSAwO1xuICAgIHRoaXMucm93cyA9IDA7XG4gICAgdGhpcy50c2l6ZSA9IDA7XG4gICAgdGhpcy50aWxlcyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdGlsZSB2YWx1ZSBsb2NhdGVkIGJ5IHRoZSBjb2x1bW4gYW5kIHJvdyAoeCx5KSBjb29yZGluYXRlcy5cbiAgICogVGhpcyBpcyB0cml2aWFsIHdpdGggYSAyRCBhcnJheSwgYnV0IHRoaXMgbWV0aG9kIGFsbG93cyB1cyB0byB1c2UgYSAxRFxuICAgKiBhcnJheSBpbnN0ZWFkLlxuICAgKlxuICAgKiBAcGFyYW0ge2ludGVnZXJ9IHggICBUaGUgeC1heGlzIHBvc2l0aW9uIG9mIHRoZSByZXF1ZXN0ZWQgdGlsZS5cbiAgICogQHBhcmFtIHtpbnRlZ2VyfSB5ICAgVGhlIHktYXhpcyBwb3NpdGlvbiBvZiB0aGUgcmVxdWVzdGVkIHRpbGUuXG4gICAqL1xuICBnZXRUaWxlKHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmNvbHMgPT09IDBcbiAgICAgIHx8IHRoaXMucm93cyA9PT0gMFxuICAgICAgfHwgdGhpcy50c2l6ZSA9PT0gMFxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFwIHNpemUgbmVlZHMgdG8gaGF2ZSBwcm9wZXIgZGltZW5zaW9ucy5cIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudGlsZXNbeSAqIHRoaXMuY29scyArIHhdO1xuICB9XG59XG4iLCJpbXBvcnQgeyBNYXBCYXNlIH0gZnJvbSBcIi4vTWFwQmFzZVwiO1xuXG5leHBvcnQgY2xhc3MgT3ZlcndvcmxkIGV4dGVuZHMgTWFwQmFzZSB7XG4gIFNNOiBIVE1MSW1hZ2VFbGVtZW50O1xuICB0aWxlczogQXJyYXk8YW55PjtcbiAgbGF5ZXJzOiBBcnJheTxhbnk+O1xuICBjb2xzOiBudW1iZXI7XG4gIHJvd3M6IG51bWJlcjtcbiAgdHNpemU6IG51bWJlcjtcbiAgXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3ByaXRlbWFwIHRvIGJlIHVzZWQuXG4gICAgICogQHZhciB7SFRNTEltYWdlRWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLlNNID0gd2luZG93LkZfTE9BREVSLmdldEltYWdlKCdURVNUTlVNQkVSRUQnKTtcblxuICAgIHRoaXMuY29scyA9IDIwO1xuICAgIHRoaXMucm93cyA9IDE1O1xuICAgIHRoaXMudHNpemUgPSAzMDA7XG4gICAgdGhpcy50aWxlcyA9IFtcbiAgICAgICAgMSwgIDIsICAzLCAgNCwgIDUsICA2LCAgNywgIDgsICA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LCAxNiwgMTcsIDE4LCAxOSwgMjAsXG4gICAgICAgMjEsICAyLCAgMSwgIDEsICAxLCAgMSwgIDEsICAxLCAgMSwgIDEsICAxLCAgMSwgIDEsICAxLCAgMSwgIDEsICAxLCAgMSwgIDEsICAxLFxuICAgICAgICA4LCAgOCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCxcbiAgICAgICAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsXG4gICAgICAgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLFxuICAgICAgICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDUsICA1LCAgNSwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCxcbiAgICAgICAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICA1LCAgMCwgIDUsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsXG4gICAgICAgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgNSwgIDUsICA1LCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLFxuICAgICAgICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCxcbiAgICAgICAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsXG4gICAgICAgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLFxuICAgICAgICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCxcbiAgICAgICAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsXG4gICAgICAgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLFxuICAgICAgICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAgMCwgIDAsICAwLCAxMCxcbiAgICBdO1xuICAgIHRoaXMubGF5ZXJzID0gW1xuICAgICAgW1xuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgXSwgW1xuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgICAwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsXG4gICAgICAgIDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxcbiAgICAgICAgMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLFxuICAgICAgXVxuICAgIF1cbiAgfVxuXG59XG4iLCJleHBvcnQgY2xhc3MgQXNzZXRMb2FkZXIge1xuICBwcml2YXRlIF9hc3NldExpc3Q6IEFycmF5PGFueT47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fYXNzZXRMaXN0ID0gW107XG4gIH1cblxuICBwdWJsaWMgaW5pdEFzc2V0cygpOiBBcnJheTxhbnk+IHtcbiAgICByZXR1cm4gW1xuICAgICAgdGhpcy5sb2FkSW1hZ2UoXCJ0ZXN0VGlsZXNldFwiLCBcIi4vREFULzFiaXR0ZXN0LnBuZ1wiKSxcbiAgICAgIHRoaXMubG9hZEltYWdlKFwidGVzdFRpbGVzZXQyXCIsIFwiLi9EQVQvcHN5Y2hpYy1zd2FtcC5wbmdcIiksXG4gICAgICB0aGlzLmxvYWRJbWFnZShcIlRFU1RPUklHXCIsIFwiLi9EQVQvbG93LXJlcy1zcHJpdGVzaGVldC5wbmdcIiksXG4gICAgICB0aGlzLmxvYWRJbWFnZShcIlRFU1ROVU1CRVJFRFwiLCBcIi4vREFUL3BpeGVsX2FydF90aWxlc2V0X3Rlc3QucG5nXCIpLFxuICAgIF07XG4gIH1cblxuICBwdWJsaWMgbG9hZEltYWdlKGtleTogc3RyaW5nLCBzcmM6IHN0cmluZykge1xuICAgIGxldCBpbWcgPSBuZXcgSW1hZ2UoKTtcblxuICAgIGxldCBkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYXNzZXRMaXN0W2tleV0gPSBpbWc7XG4gICAgICAgIHJlc29sdmUoaW1nKTtcbiAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlamVjdCgnQ291bGQgbm90IGxvYWQgaW1hZ2U6ICcgKyBzcmMpO1xuICAgICAgfTtcbiAgICB9LmJpbmQodGhpcykpO1xuICBcbiAgICBpbWcuc3JjID0gc3JjO1xuICBcbiAgICByZXR1cm4gZDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRJbWFnZShrZXk6IHN0cmluZyk6IEhUTUxJbWFnZUVsZW1lbnQge1xuICAgIHJldHVybiAoa2V5IGluIHRoaXMuX2Fzc2V0TGlzdCkgPyB0aGlzLl9hc3NldExpc3Rba2V5XSA6IG51bGw7XG4gIH07XG59IiwiaW1wb3J0IHsgR2FtZUFjdG9yIH0gZnJvbSBcIi4uL0dhbWVPYmplY3RcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbW1hbmQge1xuICBwdWJsaWMgYWJzdHJhY3QgZXhlY3V0ZShhY3RvcjogR2FtZUFjdG9yLCBkZWx0YTogbnVtYmVyKTogdm9pZDtcbn1cbiIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tIFwiLi9Db21tYW5kXCI7XG5pbXBvcnQgeyBHYW1lQWN0b3IgfSBmcm9tIFwiLi4vR2FtZU9iamVjdFwiO1xuXG4vKipcbiAqIFRoZSBNb3ZlRWFzdENvbW1hbmQgY2xhc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb3ZlRWFzdENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIGNvbW1hbmQuXG4gICAqL1xuICBwdWJsaWMgZXhlY3V0ZShhY3RvcjogR2FtZUFjdG9yLCBkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgYWN0b3IubW92ZUUoZGVsdGEpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSBcIi4vQ29tbWFuZFwiO1xuaW1wb3J0IHsgR2FtZUFjdG9yIH0gZnJvbSBcIi4uL0dhbWVPYmplY3RcIjtcblxuLyoqXG4gKiBUaGUgTW92ZU5vcnRoQ29tbWFuZCBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vdmVOb3J0aENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIGNvbW1hbmQuXG4gICAqL1xuICBwdWJsaWMgZXhlY3V0ZShhY3RvcjogR2FtZUFjdG9yLCBkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgYWN0b3IubW92ZU4oZGVsdGEpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSBcIi4vQ29tbWFuZFwiO1xuaW1wb3J0IHsgR2FtZUFjdG9yIH0gZnJvbSBcIi4uL0dhbWVPYmplY3RcIjtcblxuLyoqXG4gKiBUaGUgTW92ZVNvdXRoQ29tbWFuZCBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vdmVTb3V0aENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIGNvbW1hbmQuXG4gICAqL1xuICBwdWJsaWMgZXhlY3V0ZShhY3RvcjogR2FtZUFjdG9yLCBkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgYWN0b3IubW92ZVMoZGVsdGEpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSBcIi4vQ29tbWFuZFwiO1xuaW1wb3J0IHsgR2FtZUFjdG9yIH0gZnJvbSBcIi4uL0dhbWVPYmplY3RcIjtcblxuLyoqXG4gKiBUaGUgTW92ZVdlc3RDb21tYW5kIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgTW92ZVdlc3RDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSBjb21tYW5kLlxuICAgKi9cbiAgcHVibGljIGV4ZWN1dGUoYWN0b3I6IEdhbWVBY3RvciwgZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgIGFjdG9yLm1vdmVXKGRlbHRhKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gXCIuL0NvbW1hbmRcIjtcblxuLyoqXG4gKiBUaGUgTnVsbENvbW1hbmQgY2xhc3MuXG4gKiBUaGlzIGNsYXNzIGlzIHNwZWNpYWwgaW4gdGhhdCBpdCBpbnRlbnRpb25hbGx5IGRvZXNuJ3QgZXhlY3V0ZSBhbnl0aGluZywgaW5cbiAqIHNvIGlmIGEgdXNlciBkb2Vzbid0IGhhdmUgYSBtYXBwZWQgYnV0dG9uLCB3ZSBkb24ndCBoYXZlIHRvIGNoZWNrIGZvIGBudWxsYC5cbiAqL1xuZXhwb3J0IGNsYXNzIE51bGxDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSBjb21tYW5kLlxuICAgKi9cbiAgcHVibGljIGV4ZWN1dGUoKTogdm9pZCB7fVxufVxuIiwiLyoqXG4gKiBAZmlsZSBUaGUgQ29tbWFuZCBCYXJyZWwuIFJlLWV4cG9ydHMgQ29tbWFuZCBmaWxlcyBmb3IgZWFzaWVyIGltcG9ydFxuICogZWxzZXdoZXJlLlxuICogQHNlZSBAbGluayBodHRwczovL2Jhc2FyYXQuZ2l0Ym9va3MuaW8vdHlwZXNjcmlwdC9kb2NzL3RpcHMvYmFycmVsLmh0bWxcbiAqL1xuXG4vKipcbiAqIFRoZSBiYXNlIGNvbW1hbmQgY2xhc3MuXG4gKi9cbmV4cG9ydCAqIGZyb20gJy4vQ29tbWFuZCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vTnVsbENvbW1hbmQnO1xuXG5leHBvcnQgKiBmcm9tICcuL01vdmVOb3J0aENvbW1hbmQnO1xuXG5leHBvcnQgKiBmcm9tICcuL01vdmVTb3V0aENvbW1hbmQnO1xuXG5leHBvcnQgKiBmcm9tICcuL01vdmVFYXN0Q29tbWFuZCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vTW92ZVdlc3RDb21tYW5kJztcblxuIiwiaW50ZXJmYWNlIElDb21wb25lbnQge1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29tcG9uZW50IHtcblxufVxuIiwiLyoqXG4gKiBUaGUgRXZlbnRDb21wb25lbnQgaW50ZXJmYWNlLlxuICovXG4gaW50ZXJmYWNlIElFdmVudENvbXBvbmVudCB7XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIEVTNiBFdmVudHMgb3IgQ3VzdG9tRXZlbnRzIHRoYXQgY2FuIGJlIGVtaXR0ZWQuXG4gICAqXG4gICAqIEB0eXBlIHtFdmVudENvbnRhaW5lcn1cbiAgICovXG4gIGF0dGFjaGVkRXZlbnRzOiBFdmVudENvbnRhaW5lcjtcblxuICAvKipcbiAgICogQWRkcyBET00gRXZlbnRzIHRvIHRoaXMgY29tcG9uZW50IHZpYSBhbiBhcnJheSBvZiBldmVudHMuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudHMgVGhlIGFycmF5IG9mIGV2ZW50cyB0byBhZGQuXG4gICAqL1xuICBhdHRhY2hNdWx0aXBsZShldmVudExpc3Q6IEFycmF5PEV2ZW50fEN1c3RvbUV2ZW50Pik6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIGEgc2luZ2xlIGV2ZW50IHRvIHRoaXMgY29tcG9uZW50LiBBdHRhY2hlZCBjb21wb25lbnRzIGNhbiBiZVxuICAgKiBlbWl0dGVkLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgQW4gYEV2ZW50YCBvciBgQ3VzdG9tRXZlbnRgIHRoYXQgdGhpcyBFdmVudENvbXBvbmVudCBrbm93c1xuICAgKiBhYm91dC5cbiAgICovXG4gIGF0dGFjaChldmVudDogRXZlbnR8Q3VzdG9tRXZlbnQpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBFbWl0cyBhbiBldmVudCB2aWEgdGhlIGBnYW1lLXBhbmVgIERPTSBlbGVtZW50LiBVc2VzIHRoZSBzdHJpbmcgbmFtZSBvZiB0aGVcbiAgICogZXZlbnQgdG8gbG9va3VwIGlmIGl0J3MgaW4gdGhlIGF0dGFjaGVkRXZlbnQgbWVtYmVyLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBldmVudCB0byBlbWl0LlxuICAgKi9cbiAgZW1pdChldmVudE5hbWU6IHN0cmluZyk6IHZvaWQ7XG59XG5cbi8qKlxuICogVGhlIEV2ZW50Q29tcG9uZW50IGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgRXZlbnRDb21wb25lbnQgaW1wbGVtZW50cyBJRXZlbnRDb21wb25lbnQge1xuXG4gIC8qKlxuICAgKiBAdmFyIGF0dGFjaGVkRXZlbnRzIFRoZSBsaXN0IG9mIGV2ZW50cyB0aGF0IGNhbiBiZSBlbWl0dGVkLlxuICAgKi9cbiAgcHVibGljIGF0dGFjaGVkRXZlbnRzOiBFdmVudENvbnRhaW5lcjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gV2UgbmVlZCB0byBkZWNsYXJlIHRoaXMgYXMgYW4gb2JqZWN0IG90aGVyd2lzZSB3ZSBnZXQgYSByZWZlcmVuY2UgZXJyb3JcbiAgICAvLyB3aGVuIHdlIHRyeSBhbmQgYXNzaWduIGV2ZW50cyB0byBpdCBpbiB0aGUgYGF0dGFjaGAgYW5kIGBhdHRhY2hNdWx0aXBsZWBcbiAgICAvLyBtZXRob2RzLlxuICAgIHRoaXMuYXR0YWNoZWRFdmVudHMgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyBhIHNpbmdsZSBldmVudCB0byB0aGlzIGNvbXBvbmVudC4gQXR0YWNoZWQgY29tcG9uZW50cyBjYW4gYmVcbiAgICogZW1pdHRlZC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IEFuIGBFdmVudGAgb3IgYEN1c3RvbUV2ZW50YCB0aGF0IHRoaXMgRXZlbnRDb21wb25lbnQga25vd3NcbiAgICogYWJvdXQuXG4gICAqL1xuICBwdWJsaWMgYXR0YWNoKGV2ZW50OiBFdmVudHxDdXN0b21FdmVudCk6IHZvaWQge1xuICAgIHRoaXMuYXR0YWNoZWRFdmVudHNbZXZlbnQudHlwZV0gPSBldmVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIERPTSBFdmVudHMgdG8gdGhpcyBjb21wb25lbnQgdmlhIGFuIGFycmF5IG9mIGV2ZW50cy5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50cyBUaGUgYXJyYXkgb2YgZXZlbnRzIHRvIGFkZC5cbiAgICovXG4gIHB1YmxpYyBhdHRhY2hNdWx0aXBsZShldmVudExpc3Q6IEFycmF5PEV2ZW50fEN1c3RvbUV2ZW50Pik6IHZvaWQge1xuICAgIGZvciAobGV0IGV2ZW50IG9mIGV2ZW50TGlzdCkge1xuICAgICAgdGhpcy5hdHRhY2goZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0cyBhbiBldmVudCB2aWEgdGhlIGBnYW1lLXBhbmVgIERPTSBlbGVtZW50LiBVc2VzIHRoZSBzdHJpbmcgbmFtZSBvZiB0aGVcbiAgICogZXZlbnQgdG8gbG9va3VwIGlmIGl0J3MgaW4gdGhlIGF0dGFjaGVkRXZlbnQgbWVtYmVyLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBldmVudCB0byBlbWl0LlxuICAgKi9cbiAgcHVibGljIGVtaXQoZXZlbnROYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1wYW5lJylcbiAgICAgIC5kaXNwYXRjaEV2ZW50KHRoaXMuYXR0YWNoZWRFdmVudHNbZXZlbnROYW1lXSk7XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgR2FtZU9iamVjdCB9IGZyb20gJy4uL0dhbWVPYmplY3QvR2FtZU9iamVjdCc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XG5pbXBvcnQgeyBFdmVudENvbXBvbmVudCB9IGZyb20gJy4vRXZlbnRDb21wb25lbnQnO1xuXG5pbXBvcnQgeyBQbGF5ZXJEZWF0aEV2ZW50IH0gZnJvbSAnLi4vRXZlbnQvUGxheWVyRGVhdGhFdmVudCc7XG5cbi8qKlxuICogVGhlIExpZmVmb3JjZSBjb21wb25lbnQuIEFkZHMgaGVhbHRoIHRvIGEgR2FtZU9iamVjdC4gQWRkcyBsaWZlLCBoZWFsdGhcbiAqIHJlZ2VuZXJhdGlvbiwgYW5kIGRlYXRoLlxuICpcbiAqIFRoaXMgY29tcG9uZW50IGlzIHJlcXVpcmVkIGZvciBlbnRpdGllcyB0byBiZSBhbGl2ZSBvciBkZWFkLCBhcyB3ZWxsIGFzIHRha2VcbiAqIGRhbWFnZS5cbiAqL1xuZXhwb3J0IGNsYXNzIExpZmVmb3JjZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG5cbiAgcHJpdmF0ZSBjdXJyZW50SFA6IG51bWJlcjtcblxuICBwcml2YXRlIG1heEhQOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBfZXZlbnRDb21wb25lbnQ6IEV2ZW50Q29tcG9uZW50O1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIEdPIFRoZSBHYW1lT2JqZWN0IHRoaXMgY29tcG9uZW50IGJlbG9uZ3MgdG8uXG4gICAqL1xuICBwdWJsaWMgY29uc3RydWN0b3IoR086IEdhbWVPYmplY3QpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5fZXZlbnRDb21wb25lbnQgPSBuZXcgRXZlbnRDb21wb25lbnQoKTtcbiAgICB0aGlzLl9ldmVudENvbXBvbmVudC5hdHRhY2goUGxheWVyRGVhdGhFdmVudC5jcmVhdGUoR08pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgaXMgaW50ZW5kZWQgdG8gYmUgcnVuIG9uY2UgcGVyIGZyYW1lLlxuICAgKi9cbiAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICAvLyB0aGlzLl9ldmVudENvbXBvbmVudC5lbWl0KCdwbGF5ZXJfZGllZCcpO1xuICB9XG5cbn1cbiIsIi8qKlxuICogQGZpbGUgVGhlIENvbXBvbmVudCBCYXJyZWwuIFJlLWV4cG9ydHMgQ29tcG9uZW50IGZpbGVzIGZvciBlYXNpZXIgaW1wb3J0XG4gKiBlbHNld2hlcmUuXG4gKiBAc2VlIEBsaW5rIGh0dHBzOi8vYmFzYXJhdC5naXRib29rcy5pby90eXBlc2NyaXB0L2RvY3MvdGlwcy9iYXJyZWwuaHRtbFxuICovXG5cbi8qKlxuICogUHJvZ2VuaXRvciBjbGFzc2VzIGZvciBhbGwgQ29tcG9uZW50IGNsYXNzZXMgaW4gdGhlIGdhbWUuXG4gKi9cbmV4cG9ydCAqIGZyb20gJy4vQ29tcG9uZW50JztcblxuLyoqXG4gKiBUaGUgTGlmZWZvcmNlIGNvbXBvbmVudC4gQWRkcyBoZWFsdGggYW5kIGFsbCB0aGF0IGNvbWVzIHdpdGggaXQgd2hlbiBhdHRhY2hlZFxuICogdG8gYW4gZW50aXR5LlxuICovXG5leHBvcnQgKiBmcm9tICcuL0xpZmVmb3JjZUNvbXBvbmVudCc7XG5cbi8qKlxuICogVGhlIEV2ZW50IGNvbXBvbmVudC4gQWxsb3dzIGFuIGVudGl5IHRvIGVtaXQgYW5kL29yIGxpc3RlbiBmb3IgZXZlbnRzLlxuICovXG5leHBvcnQgKiBmcm9tICcuL0V2ZW50Q29tcG9uZW50JztcbiIsImltcG9ydCB7IEdhbWVPYmplY3QgfSBmcm9tICcuLi9HYW1lT2JqZWN0JztcblxuLyoqXG4gKiBUaGUgUGxheWVyRGVhdGhFdmVudCBjbGFzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFBsYXllckRlYXRoRXZlbnQge1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIG5hdGl2ZSBFUzYgQ3VzdG9tRXZlbnQuIFtbQ3VzdG9tRXZlbnRdXSBhbGxvd3MgdGhlIGF0dGFjaG1lbnRcbiAgICogb2YgZGF0YSB2aWEgdGhlIGBDdXN0b21FdmVudEluaXRgIGRpY3Rpb25hcnkuXG4gICAqXG4gICAqIEBwYXJhbSBwbGF5ZXIgVGhlIHBsYXllciBHYW1lT2JqZWN0LlxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBjcmVhdGUocGxheWVyOiBHYW1lT2JqZWN0KTogQ3VzdG9tRXZlbnQge1xuXG4gICAgbGV0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdwbGF5ZXJfZGllZCcsIHtcbiAgICAgIGRldGFpbDoge1xuICAgICAgICAnZ29faWQnOiBwbGF5ZXIuZ2V0SWQoKSxcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBldmVudDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSW5wdXRIYW5kbGVyIH0gZnJvbSBcIi4vSW5wdXQvSW5wdXRIYW5kbGVyXCI7XG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi9SZW5kZXIvQ2FtZXJhL0NhbWVyYVwiO1xuaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tIFwiLi9SZW5kZXIvUmVuZGVyZXJcIjtcblxuLy8gUGxheWVyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuL0dhbWVPYmplY3QnO1xuXG4vLyBFbmVtaWVzXG4vLyBUT0RPOiBNaWdodCByZW1vdmVcbmltcG9ydCB7IEVuZW15IH0gZnJvbSAnLi9HYW1lT2JqZWN0JztcblxuLyoqXG4gKiBUaGUgR2FtZSBzdXBlcmNsYXNzLiBPcGVyYXRpb25zIHRvIGFjdCB1cG9uIHRoZSBtYWluIGdhbWUgdGhyZWFkIGFyZSBmb3VuZFxuICogaGVyZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEZpZW5kR2FtZSB7XG5cbiAgLyoqXG4gICAqIFRoZSBpbnB1dCBoYW5kbGVyIHRoYXQgYWNjZXB0cyBwbGF5ZXIgaW5wdXQuXG4gICAqL1xuICBwdWJsaWMgSW5wdXRIYW5kbGVyOiBJbnB1dEhhbmRsZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBpbnN0YW5jZSBvZiB0aGUgUGxheWVyJ3MgY2hhcmFjdGVyLlxuICAgKi9cbiAgcHVibGljIFBsYXllcjogUGxheWVyO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVuZGVyZXIgcmVzcG9uc2libGUgZm9yIGRyYXdpbmcgdG8gdGhlIHNjcmVlbi5cbiAgICovXG4gIHB1YmxpYyBSZW5kZXJlcjogUmVuZGVyZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBtYWluIGNhbWVyYVxuICAgKi9cbiAgcHVibGljIENhbWVyYTogQ2FtZXJhO1xuXG4gIC8qKlxuICAgKiBUaGUgY2FudmFzIGluIHRoZSBET00uIFdoYXQgdGhlIGdhbWUgaXMgcmVuZGVyZWQgb24uXG4gICAqL1xuICBwdWJsaWMgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcblxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBjdXJyZW50bHktYWN0aXZlIGdhbWUgb2JqZWN0cy5cbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHB1YmxpYyBnYW1lT2JqZWN0Q291bnQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgYWN0aXZlIGdhbWUgb2JqZWN0cy4gRXZlcnkgZ2FtZSBvYmplY3QgaW4gdGhpcyBsaXN0IHdpbGwgaGF2ZVxuICAgKiB0aGVpciBzdGF0ZSB1cGRhdGVkIGV2ZXJ5IGZyYW1lLCBpZiBwb3NzaWJsZS5cbiAgICovXG4gIHB1YmxpYyBnYW1lT2JqZWN0czogQXJyYXk8YW55PjtcblxuICAvKipcbiAgICogVGhlIG1heCBhbW91bnQgb2YgYWN0aXZlIGdhbWUgb2JqZWN0cyB0aGF0IGNhbiBiZSBwcmVzZW50IGluIHRoZSBnYW1lLlxuICAgKiBUT0RPOiBGaWd1cmUgb3V0IHdoYXQgaGFwcGVucyBpZiB0aGlzIGxpbWl0IGlzIHJlYWNoZWQuXG4gICAqIEBpbnRlcm5hbCBUaGlzIGNvdWxkIGJlIGFuIFwiaW1wb3J0YW5jZSB3ZWlnaHRcIiB3aGVyZSBsZXNzIGltcG9ydGFudCBnYW1lXG4gICAqIG9iamVjdHMgYXJlIHB1cmdlZC5cbiAgICovXG4gIHB1YmxpYyBtYXhFbnRpdGllczogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgSFRNTCB3cmFwcGVyIGZvciB0aGUgZ2FtZS4gQXNzdW1lIGV2ZXJ5dGhpbmcgaW4gdGhpcyBjb250YWluZXIgaXMgcGFydFxuICAgKiBvZiB0aGUgZ2FtZS5cbiAgICovXG4gIHB1YmxpYyBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBIb3cgZnJlcXVlbnRseSB0aGUgZ2FtZSBzdGF0ZSB1cGRhdGVzLCBpZGVhbGx5LiBEZWZhdWx0cyB0byA2MCBIeiwgMTYuNlxuICAgKiBmcmFtZXMtcGVyLXNlY29uZC5cbiAgICovXG4gIHB1YmxpYyB0aWNrTGVuZ3RoOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBtb3N0IHJlY2VudGx5IGVsYXBzZWQgdGljayBvZiB0aGUgZ2FtZSBjbG9jay5cbiAgICovXG4gIHB1YmxpYyBsYXN0RnJhbWVUaW1lOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCByZXR1cm5lZCBmcm9tIG91ciBtYWluIGxvb3AncyBtb3N0IHJlY2VudCBjYWxsIHRvXG4gICAqIHJlcXVlc3RBbmltYXRpb25GcmFtZSgpLiBUaGUgdG9rZW4gY2FuIHRoZW4gYmUgdXNlZCB3aGVuIHdlIGNhbGxcbiAgICogY2FuY2VsQW5pbWF0aW9uRnJhbWUoKSB0byBzdG9wIHRoZSBtYWluIGxvb3AgYnkgdGVsbGluZyB0aGUgYnJvd3NlciB0b1xuICAgKiBjYW5jZWwgdGhlIHJlcXVlc3QgdGhhdCBjb3JyZXNwb25kcyB0byBvdXIgdG9rZW4uXG4gICAqL1xuICBwdWJsaWMgc3RvcFRva2VuOiBudW1iZXJ8bnVsbDtcblxuICBjb25zdHJ1Y3RvcihnYW1lUGFuZVdpZHRoOiBudW1iZXIsIGdhbWVQYW5lSGVpZ2h0OiBudW1iZXIpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgZ2FtZSBwYW5lIGFuZCBjYW52YXMuXG4gICAgICovXG4gICAgdGhpcy5jYW52YXMgPSB0aGlzLmdlbkNhbnZhcyhnYW1lUGFuZVdpZHRoLCBnYW1lUGFuZUhlaWdodCk7XG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpZW5kLWdhbWVcIik7XG4gICAgdGhpcy5jb250YWluZXIuaW5zZXJ0QmVmb3JlKHRoaXMuY2FudmFzLCB0aGlzLmNvbnRhaW5lci5maXJzdENoaWxkKTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLXBhbmUnKS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ3Rlc3RfZXZlbnQnLFxuICAgICAgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4gdGhpcy5yZXNwb25kVG9HYW1lT2JqZWN0Q3JlYXRpb24oZXZlbnQpLFxuICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgdGhpcy5zdG9wVG9rZW4gPSBudWxsO1xuXG4gICAgdGhpcy50aWNrTGVuZ3RoID0gNjA7XG5cbiAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSAwO1xuXG4gICAgdGhpcy5tYXhFbnRpdGllcyA9IDEwMDA7XG5cbiAgICB0aGlzLlBsYXllciA9IG5ldyBQbGF5ZXIoe3g6MTI1LHk6MTI1fSk7XG5cbiAgICB0aGlzLlJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKHRoaXMuY2FudmFzKTtcblxuICAgIHRoaXMuSW5wdXRIYW5kbGVyID0gbmV3IElucHV0SGFuZGxlcigpO1xuXG4gICAgdGhpcy5DYW1lcmEgPSBuZXcgQ2FtZXJhKCk7XG5cbiAgICB0aGlzLmdhbWVPYmplY3RDb3VudCA9IDA7XG5cbiAgICB0aGlzLmdhbWVPYmplY3RzID0gW1xuICAgICAgLy8gVE9ETyBUaGlzIGlzIGEgdGVzdCwgZG8gc2hvdWxkIGJlIGVtcHR5IG9uIGluaXQuXG4gICAgICAvLyBuZXcgRW5lbXkoKSxcbiAgICAgIHRoaXMuUGxheWVyLFxuICAgIF07XG5cbiAgICAvLyBMZXQncyBraWNrIG9mZiB0aGUgZ2FtZSBsb29wIVxuICAgIHRoaXMubWFpbihwZXJmb3JtYW5jZS5ub3coKSk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgbmV3IGNhbnZhcyBET00gY2FudmFzIGVsZW1lbnQuIFRoZSBnYW1lIHdpbGwgcnVuIGluIHRoaXNcbiAgICogY2FudmFzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdyBUaGUgd2lkdGggb2YgdGhlIGNhbnZhcywgaW4gcGl4ZWxzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gaCBUaGUgaGVpZ2h0IG9mIHRoZSBjYW52YXMsIGluIHBpeGVscy5cbiAgICovXG4gIHByaXZhdGUgZ2VuQ2FudmFzKHc6IG51bWJlciwgaDogbnVtYmVyKTogSFRNTENhbnZhc0VsZW1lbnQge1xuICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMuaWQgPSBcImdhbWUtcGFuZVwiO1xuICAgIGNhbnZhcy53aWR0aCA9IHc7XG4gICAgY2FudmFzLmhlaWdodCA9IGg7XG4gICAgY2FudmFzLnRhYkluZGV4ID0gMTtcblxuICAgIHJldHVybiBjYW52YXM7XG4gIH1cblxuICBwdWJsaWMgcmVzcG9uZFRvR2FtZU9iamVjdENyZWF0aW9uKGV2ZW50OiBDdXN0b21FdmVudCkge1xuICAgIGNvbnNvbGUubG9nKCdldmVudC5kZXRhaWwuZ29faWQgOicsIGV2ZW50LmRldGFpbC5nb19pZCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgZ2FtZSBzdGF0ZSBhcyBvZiBhIGdpdmVuIHBvaW50IGluIHRpbWUuIEl0IGlzIHRoZSBhdXRob3JpdHlcbiAgICogZm9yIGdhbWUgc3RhdGUuIFRoZSBkZWx0YSBzaG91bGQgYmUgdXNlZCBpbiBjYWxjdWxhdGlvbnMgdG8gbWFrZSB0aGUgZ2FtZVxuICAgKiBzaW11bGF0aW9uIGZyYW1lcmF0ZSBpbmRlcGVuZGVudC5cbiAgICpcbiAgICogQHBhcmFtIHtmbG9hdH0gZGVsdGEgIFRoZSBkaWZmZXJlbmNlIGluIHRpbWUgYmV0d2VlbiB0aGlzIGZyYW1lIGFuZCBsYXN0XG4gICAqIGZyYW1lLCBpbiBzZWNvbmRzLlxuICAgKi9cbiAgcHJpdmF0ZSBfdXBkYXRlKGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBUT0RPIFJlbW92ZSBjbG9nLlxuICAgIC8vIGNvbnNvbGUubG9nKCdkZWx0YSA6JywgZGVsdGEpO1xuICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLmdhbWVPYmplY3RDb3VudDsgaSsrKSB7XG4gICAgICB0aGlzLmdhbWVPYmplY3RzW2ldLnVwZGF0ZShkZWx0YSk7XG4gICAgfVxuXG4gICAgdGhpcy5nYW1lT2JqZWN0Q291bnQgPSB0aGlzLmdhbWVPYmplY3RzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNwb25zaWJsZSBmb3IgZHJhd2luZyB0aGUgY3VycmVudCBnYW1lIHN0YXRlIHRvIHRoZSBzY3JlZW4uXG4gICAqL1xuICBwcml2YXRlIF9kcmF3KCk6IHZvaWQge1xuXG4gICAgLy8gRHJhdyB0aGUgc2NlbmUuXG4gICAgdGhpcy5SZW5kZXJlci5kcmF3KHRoaXMuZ2FtZU9iamVjdENvdW50LCB0aGlzLmdhbWVPYmplY3RzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgbWFpbiBnYW1lIGxvb3AuXG4gICAqL1xuICBwcml2YXRlIHN0b3BNYWluTG9vcCgpOiB2b2lkIHtcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5zdG9wVG9rZW4pO1xuICAgIGNvbnNvbGUubG9nKFwiR29vZGJ5ZS4uLlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRlbXB0cyB0byBncmFjZWZ1bGx5IHRlYXIgZG93biB0aGUgZ2FtZS5cbiAgICovXG4gIHB1YmxpYyBzaHV0ZG93bkdhbWUoKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wTWFpbkxvb3AoKTtcbiAgfVxuXG4vKipcbiAgKiBUaGUgbWFpbiBnYW1lIGxvb3AuIFdlIHVzZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgdG8gYmUgdGhyZWFkLXNhZmUgYW5kIG5vdFxuICAqIGRvbWluYXRlIHRoZSBicm93c2VyIHdoZW4gdGhlIHBsYXllciBibHVycyBmb2N1cyBvbiBvdXIgdGFiLlxuICAqXG4gICogcmVuZGVyKCkgaXMgcGFzc2VkIHRGcmFtZSBiZWNhdXNlIGl0IGlzIGFzc3VtZWQgdGhhdCB0aGUgcmVuZGVyIG1ldGhvZCB3aWxsXG4gICogICAgICAgICAgY2FsY3VsYXRlIGhvdyBsb25nIGl0IGhhcyBiZWVuIHNpbmNlIHRoZSBtb3N0IHJlY2VudGx5IHBhc3NlZFxuICAqICAgICAgICAgIHVwZGF0ZSB0aWNrIGZvciBleHRyYXBvbGF0aW9uIChwdXJlbHkgY29zbWV0aWMgZm9yIGZhc3QgZGV2aWNlcykuXG4gICogICAgICAgICAgSXQgZHJhd3MgdGhlIHNjZW5lLlxuICAqXG4gICogdXBkYXRlKCkgY2FsY3VsYXRlcyB0aGUgZ2FtZSBzdGF0ZSBhcyBvZiBhIGdpdmVuIHBvaW50IGluIHRpbWUuXG4gICpcbiAgKiBpbml0KCkgICBQZXJmb3JtcyB3aGF0ZXZlciB0YXNrcyBhcmUgbmVlZGVkIGJlZm9yZSB0aGUgbWFpbiBsb29wIGNhbiBydW4uXG4gICpcbiAgKlxuICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gdEZyYW1lIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlXG4gICogbmF2aWdhdGlvblN0YXJ0ICh3aGVuIHRoZSBwcmV2aW91cyBkb2N1bWVudCBpcyB1bmxvYWRlZC5cbiAgKiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCkgYWx3YXlzIHByb3ZpZGVzIGEgRE9NSGlnaFJlc1RpbWVTdGFtcCB0b1xuICAqIGNhbGxiYWNrcyBhcyBhbiBhcmd1bWVudCB3aGVuIHRoZXkgYXJlIGV4ZWN1dGVkLlxuICAqL1xuICBwdWJsaWMgbWFpbih0RnJhbWU6IERPTUhpZ2hSZXNUaW1lU3RhbXApOiB2b2lkIHtcbiAgICAvLyBTdG9yZSB0aGUgSUQgcmV0dXJuZWQgZnJvbSBvdXIgbWFpbiBsb29wJ3MgbW9zdCByZWNlbnQgY2FsbCB0b1xuICAgIC8vIHJlcXVlc3RBbmltYXRpb25GcmFtZSgpLlxuICAgIHRoaXMuc3RvcFRva2VuID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLm1haW4uYmluZCh0aGlzKSk7XG5cbiAgICAvLyBEZWx0YSBzaG91bGQgYmUgaW4gc2Vjb25kcywgbm90IG1zLCBzbyB3ZSBkaXZpZGUgYnkgMTAwMC5cbiAgICBsZXQgZGVsdGEgPSAodEZyYW1lIC0gdGhpcy5sYXN0RnJhbWVUaW1lKSAvIDEwMDAuMDtcbiAgICAvLyBLZWVwIHRyYWNrIG9mIHdoZW4gdGhlIGxhc3QgZnJhbWUgaGFwcGVuZWQuXG4gICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gdEZyYW1lO1xuXG4gICAgdGhpcy5JbnB1dEhhbmRsZXIuaGFuZGxlSW5wdXQodGhpcy5QbGF5ZXIsIGRlbHRhKTtcbiAgICB0aGlzLl91cGRhdGUoZGVsdGEpO1xuICAgIHRoaXMuX2RyYXcoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgR2FtZUFjdG9yIH0gZnJvbSAnLi9HYW1lQWN0b3InO1xuXG4vKipcbiAqIFRoZSBFbmVteSBiYXNlIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgRW5lbXkgZXh0ZW5kcyBHYW1lQWN0b3Ige1xuICBwdWJsaWMgSFA6IG51bWJlcjtcbiAgcHVibGljIEFUSzogbnVtYmVyO1xuICBwdWJsaWMgc3BlZWQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBHYW1lT2JqZWN0XG4gICAqXG4gICAqIEB0eXBlIHtDb29yZGluYXRlfVxuICAgKi9cbiAgcHVibGljIHBvc2l0aW9uOiBDb29yZGluYXRlO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLm5hbWUgPSBcIkJsYWNrIEJhdFwiO1xuXG4gICAgdGhpcy5IUCA9IDEwMDtcbiAgICB0aGlzLkFUSyA9IDE7XG4gICAgdGhpcy5zcGVlZCA9IDEwMDtcbiAgICB0aGlzLnBvc2l0aW9uID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIHtAaW5oZXJpdGRvY31cbiAgICovXG4gIHVwZGF0ZShkZWx0YTogbnVtYmVyKSB7XG4gICAgdGhpcy5wb3NpdGlvbi54ICs9IHRoaXMuc3BlZWQgKiBkZWx0YTtcbiAgICB0aGlzLnBvc2l0aW9uLnkgKz0gdGhpcy5zcGVlZCAqIGRlbHRhO1xuICB9XG5cbiAgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55LCAxMCwgMCwgTWF0aC5QSSoyKTtcbiAgICBjdHguZmlsbFN0eWxlID0gXCIjMDA5NUREXCI7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEdhbWVPYmplY3QgfSBmcm9tICcuLi9HYW1lT2JqZWN0JztcblxuLyoqXG4gKiBUaGUgaW50ZXJmYWNlIGZvciB0aGUgW1tHYW1lQWN0b3JdXSBjbGFzcy5cbiAqXG4gKiBAaW50ZXJmYWNlIElHYW1lQWN0b3JcbiAqL1xuaW50ZXJmYWNlIElHYW1lQWN0b3Ige1xuXG4gIC8qKlxuICAgKiBUaGUgcG9zaXRpb24gbWVtYmVyLiBTaWduaWZpZXMgdGhlIGxvY2F0aW9uIG9mIHRoZSBvZiB0aGUgR2FtZU9iamVjdC5cbiAgICpcbiAgICogQHR5cGUge0Nvb3JkaW5hdGV9XG4gICAqL1xuICBwb3NpdGlvbjogQ29vcmRpbmF0ZTtcblxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgc2lnbmF0dXJlIGZvciB0aGUgdXBkYXRlIG1ldGhvZCBmb3IgdGhlIEdhbWVBY3Rvci5cbiAgICpcbiAgICogQHBhcmFtIGRlbHRhIFRoZSB0aW1lIGRpZmZlcmVuY2UgYmV0d2VlbiBmcmFtZXMuIFByb3ZpZGVkIGJ5IHRoZSBnYW1lJ3NcbiAgICogbWFpbiBnYW1lIGxvb3AuXG4gICAqIEBzZWUgRmllbmRHYW1lLm1haW4oKVxuICAgKi9cbiAgdXBkYXRlKGRlbHRhOiBudW1iZXIpOiB2b2lkO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIEdhbWVBY3RvciBjbGFzcy4gQWxsIEdhbWVPYmplY3RzIHRoYXQgY2FuIGluZmx1ZW5jZSB0aGluZ3MgaW4gdGhlXG4gKiBlbnZpcm9ubWVudCB3aWxsIGRlcml2ZSBmcm9tIHRoZSBHYW1lQWN0b3IgY2xhc3MuXG4gKiBAYWJzdHJhY3RcbiAqIEBleHRlbmRzIFtbR2FtZU9iamVjdF1dIFRoZSBHYW1lT2JqZWN0IGJhc2UgYWJzdHJhY3QgY2xhc3MuXG4gKiBAaW1wbGVtZW50cyBbW0lHYW1lQWN0b3JdXVxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgR2FtZUFjdG9yIGV4dGVuZHMgR2FtZU9iamVjdCBpbXBsZW1lbnRzIElHYW1lQWN0b3Ige1xuXG4gIC8qKlxuICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIEdhbWVPYmplY3QuXG4gICAqXG4gICAqIEB0eXBlIHtDb29yZGluYXRlfVxuICAgKi9cbiAgcHVibGljIHBvc2l0aW9uOiBDb29yZGluYXRlO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHVwZGF0ZSBtZXRob2QgZm9yIHRoZSBhYnN0cmFjdCBHYW1lQWN0b3IgY2xhc3MuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiBAcGFyYW0gZGVsdGEgVGhlIHRpbWUgZGlmZmVyZW5jZSBiZXR3ZWVuIGZyYW1lcy4gUHJvdmlkZWQgYnkgdGhlIGdhbWUnc1xuICAgKiBtYWluIGdhbWUgbG9vcC5cbiAgICogQHNlZSBGaWVuZEdhbWUubWFpbigpXG4gICAqL1xuICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlKGRlbHRhOiBudW1iZXIpOiB2b2lkO1xuXG4gIC8vIFRPRE86IE1ha2UgYSBzdWJjbGFzcyB0aGF0IGhhcyBtb3ZlbWVudC4gTm90IGFsbCBhY3RvcnMgd2lsbCwgSSBkb250IHRoaW5rLlxuICBwdWJsaWMgbW92ZU4oZGVsdGE6IG51bWJlcik6IHZvaWQge31cbiAgcHVibGljIG1vdmVTKGRlbHRhOiBudW1iZXIpOiB2b2lkIHt9XG4gIHB1YmxpYyBtb3ZlRShkZWx0YTogbnVtYmVyKTogdm9pZCB7fVxuICBwdWJsaWMgbW92ZVcoZGVsdGE6IG51bWJlcik6IHZvaWQge31cbn1cbiIsImltcG9ydCB7IEdhbWVBY3RvciB9IGZyb20gJy4vR2FtZUFjdG9yJztcbmltcG9ydCB7IExpZmVmb3JjZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL0NvbXBvbmVudCc7XG5cbi8qKlxuICogVGhlIGludGVyZmFjZSBmb3IgdGhlIFtbUGxheWVyXV0gY2xhc3MuXG4gKlxuICogQGludGVyZmFjZSBJUGxheWVyXG4gKi9cbmludGVyZmFjZSBJUGxheWVyIHtcblxuICBtb3ZlTihkZWx0YTogbnVtYmVyKTogdm9pZDtcbiAgbW92ZVMoZGVsdGE6IG51bWJlcik6IHZvaWQ7XG4gIG1vdmVFKGRlbHRhOiBudW1iZXIpOiB2b2lkO1xuICBtb3ZlVyhkZWx0YTogbnVtYmVyKTogdm9pZDtcbn1cblxuLyoqXG4gKiBUaGUgUGxheWVyIGNsYXNzLiBLZWVwcyB0cmFjayBvZiB0aGUgc3RhdGUgb2YgdGhlIHBsYXllciBpbmNsdWRpbmcgYWxsXG4gKiBhdHRyaWJ1dGVzIGFuZCBzdGF0cy5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBleHRlbmRzIFtbR2FtZUFjdG9yXV0gVGhlIEdhbWVPYmplY3QgYmFzZSBhYnN0cmFjdCBjbGFzcy5cbiAqIEBpbXBsZW1lbnRzIFtbSVBsYXllcl1dXG4gKi9cbmV4cG9ydCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBHYW1lQWN0b3IgaW1wbGVtZW50cyBJUGxheWVyIHtcblxuICBwdWJsaWMgc3BlZWQ6IG51bWJlcjtcblxuICBwcml2YXRlIF9saWZlZm9yY2U6IExpZmVmb3JjZUNvbXBvbmVudDtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICAgY29uc3RydWN0b3IocG9zaXRpb246IENvb3JkaW5hdGUpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5wb3NpdGlvbiA9IHt4OjEwMCx5OjEwMH07XG5cbiAgICB0aGlzLnNwZWVkID0gMTAwO1xuXG4gICAgdGhpcy5fbGlmZWZvcmNlID0gbmV3IExpZmVmb3JjZUNvbXBvbmVudCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBQbGF5ZXIncyBzdGF0ZS4gSW50ZW5kZWQgdG8gYmUgcnVuIGluIHRoZSBtYWluIGdhbWUgbG9vcC5cbiAgICpcbiAgICogQHBhcmFtIGRlbHRhIFRoZSB0aW1lIGRpZmZlcmVuY2UgYmV0d2VlbiBmcmFtZXMuIFByb3ZpZGVkIGJ5IHRoZSBnYW1lJ3NcbiAgICogbWFpbiBnYW1lIGxvb3AuXG4gICAqIEBzZWUgRmllbmRHYW1lLm1haW4oKVxuICAgKi9cbiAgcHVibGljIHVwZGF0ZShkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fbGlmZWZvcmNlLnVwZGF0ZSgpO1xuICAgIC8vIFRPRE86IGNvbnNvbGUubG9nKCd0aGlzLnBvc2l0aW9uIDonLCB0aGlzLnBvc2l0aW9uKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBQbGF5ZXIgZW50aXR5XG4gICAqIEBwYXJhbSBjdHggVGhlIGNhbnZhcyBjb250ZXh0LlxuICAgKi9cbiAgIHB1YmxpYyBkcmF3KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmModGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnksIDEwLCAwLCBNYXRoLlBJKjIpO1xuICAgIGN0eC5maWxsU3R5bGUgPSBcIiMwMDk1RERcIjtcbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqICAgIHwgICAgICAgICAgICAgICAuICAgIHx8XG4gICAqICAgfHx8ICAgICAgLi4uLiAgLnx8LiAgLi4uICAgIC4uLiAgIC4uIC4uLiAgICAuLi4uXG4gICAqICB8ICB8fCAgIC58ICAgJycgIHx8ICAgIHx8ICAufCAgJ3wuICB8fCAgfHwgIHx8LiAnXG4gICAqICAuJycnJ3wuICB8fCAgICAgICB8fCAgICB8fCAgfHwgICB8fCAgfHwgIHx8ICAuICd8Li5cbiAgICogLnwuICAufHwuICAnfC4uLicgICd8LicgLnx8LiAgJ3wuLnwnIC58fC4gfHwuIHwnLi58J1xuICAgKi9cblxuICAvKipcbiAgICogTW92ZSB0aGUgUGxheWVyIG5vcnRoLlxuICAgKiBAcGFyYW0gZGVsdGEgVGhlIGdhbWUncyBkZWx0YSBiZXR3ZWVuIGZyYW1lcy5cbiAgICovXG4gIHB1YmxpYyBtb3ZlTihkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gRGVjcmVtZW50aW5nIHt5fSBtYWtlcyB0aGUgYWN0b3IgbW92ZSBzb3V0aCwgc2luY2Ugd2UncmUgZGVhbGluZyB3aXRoIGFcbiAgICAvLyAyRCBhcnJheSBhbmQgbm90IGFuIGFjdHVhbCBtYXRoZW1hdGljYWwgZ3JpZCBwbGFuZS5cbiAgICB0aGlzLnBvc2l0aW9uLnkgLT0gdGhpcy5zcGVlZCAqIGRlbHRhO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdGhlIFBsYXllciBzb3V0aC5cbiAgICpcbiAgICogQHBhcmFtIGRlbHRhIFRoZSBnYW1lJ3MgZGVsdGEgYmV0d2VlbiBmcmFtZXMuXG4gICAqL1xuICBwdWJsaWMgbW92ZVMoZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgIC8vIEluY3JlYXNpbmcge3l9IG1ha2VzIHRoZSBhY3RvciBtb3ZlIHNvdXRoLCBzaW5jZSB3ZSdyZSBkZWFsaW5nIHdpdGggYSAyRFxuICAgIC8vIGFycmF5IGFuZCBub3QgYW4gYWN0dWFsIG1hdGhlbWF0aWNhbCBncmlkIHBsYW5lLlxuICAgIHRoaXMucG9zaXRpb24ueSArPSB0aGlzLnNwZWVkICogZGVsdGE7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0aGUgUGxheWVyIGVhc3QuXG4gICAqXG4gICAqIEBwYXJhbSBkZWx0YSBUaGUgZ2FtZSdzIGRlbHRhIGJldHdlZW4gZnJhbWVzLlxuICAgKi9cbiAgcHVibGljIG1vdmVFKGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnBvc2l0aW9uLnggKz0gdGhpcy5zcGVlZCAqIGRlbHRhO1xuICB9XG5cbiAgICAvKipcbiAgICogTW92ZSB0aGUgUGxheWVyIHdlc3QuXG4gICAqXG4gICAqIEBwYXJhbSBkZWx0YSBUaGUgZ2FtZSdzIGRlbHRhIGJldHdlZW4gZnJhbWVzLlxuICAgKi9cbiAgcHVibGljIG1vdmVXKGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnBvc2l0aW9uLnggLT0gdGhpcy5zcGVlZCAqIGRlbHRhO1xuICB9XG5cbn1cblxuIiwiLyoqXG4gKiBUaGUgaW50ZXJmYWNlIGZvciB0aGUgW1tHYW1lQWN0b3JdXSBjbGFzcy5cbiAqXG4gKiBAaW50ZXJmYWNlIElHYW1lQWN0b3JcbiAqL1xuaW50ZXJmYWNlIElHYW1lT2JqZWN0IHtcblxuICAvKipcbiAgICogVGhlIGh1bWFuLXJlYWRhYmxlIG5hbWUgb2YgdGhlIEdhbWVPYmplY3QuIFRoaXMgd2lsbCBhcHBlYXIgaW4tZ2FtZS5cbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIG5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgZXZlbnRzIHRoYXQgY2FuIGJlIGVtaXR0ZWQuXG4gICAqXG4gICAqIEB0eXBlIHtFdmVudENvbnRhaW5lcn1cbiAgICovXG4gIGF0dGFjaGVkRXZlbnRzOiBFdmVudENvbnRhaW5lcjtcblxuICAvKipcbiAgICogRGVmaW5lcyB0aGUgc2lnbmF0dXJlIGZvciB0aGUgdXBkYXRlIG1ldGhvZCBmb3IgdGhlIEdhbWVBY3Rvci5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIEBwYXJhbSBkZWx0YSBUaGUgdGltZSBkaWZmZXJlbmNlIGJldHdlZW4gZnJhbWVzLiBQcm92aWRlZCBieSB0aGUgZ2FtZSdzXG4gICAqIG1haW4gZ2FtZSBsb29wLlxuICAgKiBAc2VlIEZpZW5kR2FtZS5tYWluKClcbiAgICovXG4gIHVwZGF0ZShkZWx0YTogbnVtYmVyKTogdm9pZDtcbn1cblxuLyoqXG4gKiBUaGUgR2FtZU9iamVjdCBhYnN0cmFjdCBjbGFzcy4gQWxsIGdhbWUgZW50aXRpZXMgaW5oZXJpdCBmcm9tIHRoaXMgY2xhc3MuXG4gKiBPbiBpbnN0YW50aWF0aW9uLCB0aGUgY2xhc3Mgd2lsbCBnZW5lcmF0ZSBhbiBhdXRvLWluY3JlbWVudGluZyBpZCBmb3IgdXNlXG4gKiBpbiBpZGVudGlmeWluZyB0aGUgbmV3bHktY3JlYXRlZCBHYW1lT2JqZWN0LlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgR2FtZU9iamVjdCBpbXBsZW1lbnRzIElHYW1lT2JqZWN0IHtcblxuICAvKipcbiAgICogQHZhciBpZEluY3JlbWVudG9yIEtlZXBzIHRyYWNrIG9mIHRoZSBgaWRgIG9mIHRoZSBsYXN0IEdhbWVPYmplY3RcbiAgIGluc3RhbnRpYXRlZC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgaWRJbmNyZW1lbnRvcjogbnVtYmVyID0gMTtcblxuICAvKipcbiAgICogQHZhciBpZCBUaGUgaWQgb2YgdGhlIGluc3RhbmNlIG9mIHRoZSBHYW1lT2JqZWN0LlxuICAgKi9cbiAgcHJpdmF0ZSBpZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgICogQHZhciB0eXBlIFRoZSBuYW1lIG9mIHRoZSB0eXBlIG9mIHRoZSBHYW1lT2JqZWN0LlxuICAgICovXG4gIHByb3RlY3RlZCB0eXBlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEB2YXIgbmFtZSBUaGUgaHVtYW5pemVkIG5hbWUgb2YgdGhlIEdhbWVPYmplY3QuXG4gICAqL1xuICBwdWJsaWMgbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAdmFyIGF0dGFjaGVkRXZlbnRzIFRoZSBsaXN0IG9mIGV2ZW50cyB0aGF0IGNhbiBiZSBlbWl0dGVkLlxuICAgKi9cbiAgcHVibGljIGF0dGFjaGVkRXZlbnRzOiBFdmVudENvbnRhaW5lcjtcblxuICAvKipcbiAgICogVGhlIEdhbWVPYmplY3QgY29uc3RydWN0b3IuIEF1dG8taW5jcmVtZW50cyB0aGUgR2FtZU9qZWN0IGlkIGZvciB0aGUgbmV3XG4gICAqIEdhbWVPYmplY3QgYmVpbmcgY3JlYXRlZC5cbiAgICovXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcblxuICAgIHRoaXMuaWQgPSBHYW1lT2JqZWN0LmlkSW5jcmVtZW50b3IrKztcblxuICAgIC8vIEF0dGFjaCBldmVudHMgdG8gdGhlIEdhbWUgT2JqZWN0IGFuZCBlbWl0IHRoZSBjcmVhdGVkIGV2ZW50LlxuICAgIHRoaXMuYXR0YWNoZWRFdmVudHMgPSB7XG4gICAgICAnR09fY3JlYXRlZCc6IG5ldyBDdXN0b21FdmVudCgnR09fY3JlYXRlZCcsIHtcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgZ29faWQ6IHRoaXMuZ2V0SWQoKSxcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgfVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLXBhbmUnKVxuICAgICAgLmRpc3BhdGNoRXZlbnQodGhpcy5hdHRhY2hlZEV2ZW50c1snR09fY3JlYXRlZCddKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBY2Nlc3NvciBmb3IgdGhlIHByaXZhdGUgbWVtYmVyIGBpZGAuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBpZCBvZiB0aGUgR2FtZU9iamVjdFxuICAgKi9cbiAgcHVibGljIGdldElkKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaWQ7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgR2FtZU9iamVjdCdzIHN0YXRlLiBJbnRlbmRlZCB0byBiZSBydW4gaW4gdGhlIG1haW4gZ2FtZSBsb29wLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogQHBhcmFtIGRlbHRhIFRoZSB0aW1lIGRpZmZlcmVuY2UgYmV0d2VlbiBmcmFtZXMuIFByb3ZpZGVkIGJ5IHRoZSBnYW1lJ3NcbiAgICogbWFpbiBnYW1lIGxvb3AuXG4gICAqIEBzZWUgRmllbmRHYW1lLm1haW4oKVxuICAgKi9cbiAgcHVibGljIGFic3RyYWN0IHVwZGF0ZShkZWx0YTogbnVtYmVyKTogdm9pZDtcblxuICBwcm90ZWN0ZWQgYXR0YWNoRXZlbnRzKGV2ZW50czogQXJyYXk8c3RyaW5nPik6IHZvaWQge1xuXG4gICAgZm9yIChsZXQgZXZlbnQgb2YgZXZlbnRzKSB7XG4gICAgICB0aGlzLmF0dGFjaGVkRXZlbnRzW2V2ZW50XSA9IG5ldyBFdmVudChldmVudCk7XG4gICAgfVxuICB9XG5cbn1cbiIsIi8qKlxuICogQGZpbGUgVGhlIEdhbWVPYmplY3QgQmFycmVsLiBSZS1leHBvcnRzIEdhbWVPYmplY3QgZmlsZXMgZm9yIGVhc2llciBpbXBvcnRcbiAqIGVsc2V3aGVyZS5cbiAqIEBzZWUgQGxpbmsgaHR0cHM6Ly9iYXNhcmF0LmdpdGJvb2tzLmlvL3R5cGVzY3JpcHQvZG9jcy90aXBzL2JhcnJlbC5odG1sXG4gKi9cblxuLyoqXG4gKiBQcm9nZW5pdG9yIGNsYXNzZXMgZm9yIGFsbCBlbnRpdGllcyBpbiB0aGUgZ2FtZS5cbiAqL1xuZXhwb3J0ICogZnJvbSAnLi9HYW1lT2JqZWN0JztcblxuLyoqXG4gKiBUaGUgYmFzZSBHYW1lQWN0b3IgY2xhc3MuIEFsbCBHYW1lT2JqZWN0cyB0aGF0IGNhbiBpbmZsdWVuY2UgdGhpbmdzIGluIHRoZVxuICogZW52aXJvbm1lbnQgd2lsbCBkZXJpdmUgZnJvbSB0aGUgR2FtZUFjdG9yIGNsYXNzLlxuICovXG5leHBvcnQgKiBmcm9tICcuL0dhbWVBY3Rvci9HYW1lQWN0b3InO1xuXG4vKipcbiAqIFRoZSBwbGF5ZXIgY2hhcmFjdGVyIGNsYXNzLlxuICovXG5leHBvcnQgKiBmcm9tICcuL0dhbWVBY3Rvci9QbGF5ZXInO1xuXG4vKipcbiAqIFRoZSBiYXNlIGVuZW15IGNsYXNzLiBUT0RPOiBNaWdodCBiZSBkZXByZWNhdGVkIGluIHRoZSBmdXR1cmUuXG4gKi9cbmV4cG9ydCAqIGZyb20gJy4vR2FtZUFjdG9yL0VuZW15JztcbiIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tIFwiLi4vQ29tbWFuZFwiO1xuaW1wb3J0IHsgR2FtZUFjdG9yIH0gZnJvbSAnLi4vR2FtZU9iamVjdCc7XG5cbmltcG9ydCB7IE51bGxDb21tYW5kIH0gZnJvbSBcIi4uL0NvbW1hbmRcIjtcbmltcG9ydCB7IE1vdmVOb3J0aENvbW1hbmQgfSBmcm9tIFwiLi4vQ29tbWFuZFwiO1xuaW1wb3J0IHsgTW92ZVNvdXRoQ29tbWFuZCB9IGZyb20gXCIuLi9Db21tYW5kXCI7XG5pbXBvcnQgeyBNb3ZlRWFzdENvbW1hbmQgfSBmcm9tIFwiLi4vQ29tbWFuZFwiO1xuaW1wb3J0IHsgTW92ZVdlc3RDb21tYW5kIH0gZnJvbSBcIi4uL0NvbW1hbmRcIjtcblxuLyoqXG4gKiBUaGUgaW50ZXJmYWNlIGZvciB0aGUgSW5wdXRIYW5kbGVyXG4gKi9cbmludGVyZmFjZSBJSW5wdXRIYW5kbGVyIHtcblxuICAvKipcbiAgICogQmluZHMgYW4gaW5wdXQgdG8gYSBjb21tYW5kLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgVGhlIHVzZXIgaW50ZXJhY3Rpb24gd2l0aCBhIGtleWJvYXJkLlxuICAgKiBAcGFyYW0gY29tbWFuZFxuICAgKi9cbiAga2V5QmluZChldmVudDogS2V5Ym9hcmRFdmVudCwgY29tbWFuZDogQ29tbWFuZCk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYW55IGlucHV0IGlmIGEgbWFwcGVkIGJ1dHRvbiBpcyBwcmVzc2VkLiBSdW4gb25jZSBwZXIgZ2FtZSB1cGRhdGVcbiAgICogdGljay5cbiAgICpcbiAgICogQHBhcmFtIGFjdG9yIFRoZSBnYW1lIGFjdG9yIGVudGl0eSB0byBoYW5kbGUgaW5wdXQuIE1vc3QgbGlrZWx5IHdpbGwgYmUgdGhlXG4gICAqIFBsYXllcihzKS5cbiAgICogQHBhcmFtIGRlbHRhIFRoZVxuICAgKi9cbiAgaGFuZGxlSW5wdXQoYWN0b3I6IEdhbWVBY3RvciwgZGVsdGE6IG51bWJlcik6IHZvaWQ7XG59XG5cbi8qKlxuICogVGhlIElJbnB1dE1hcCBpbnRlcmZhY2UuXG4gKiBAa2V5c1xuICogW2tleV06IFRoZSBuYW1lIG9mIHRoZSBrZXkgcHJlc3NlZCwgc2VudCBieSB0aGUgYnJvd3Nlci5oZWFkZXJcbiAqIFtjb21tYW5kXTogVGhlIG1hcHBlZCBjb21tYW5kIHRvIGJlIGV4ZWN1dGVkLlxuICogW3N0YXR1c106IFRoZSBidXR0b24ncyBjdXJyZW50IHN0YXR1c1xuICovXG5pbnRlcmZhY2UgSUlucHV0TWFwIHtcbiAgW2tleTogc3RyaW5nXToge1xuICAgIGNvbW1hbmQ6IENvbW1hbmQsXG4gICAgc3RhdHVzOiBCdXR0b25TdGF0dXNcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBidWlsdC1pbiBjb250cm9sIHNjaGVtZSB0eXBlcy4gQWxsb3dzIGEgdXNlciB0byBjaGFuZ2UgdGhlIGNvbnRyb2wgc2NoZW1lXG4gKiB3aXRob3V0IHJlbWFwcGluZyBhbGwgdGhlIGtleXMgaW5kaXZpZHVhbGx5LlxuICpcbiAqIEB0eXBlIHtlbnVtfSBDb250cm9sU2NoZW1lc1xuICovXG5lbnVtIENvbnRyb2xTY2hlbWVzIHtcbiAgREVGQVVMVCxcbiAgRlBTLFxuICBPTkVIQU5ERURfUklHSFQsXG4gIE9ORUhBTkRFRF9MRUZULFxufVxuXG4vKipcbiAqIE1hcHMgYSBidXR0b24gdG8gYSBrZXlib2FyZCBpbnB1dCBrZXkuXG4gKlxuICogQHR5cGUge2VudW19IEJ1dHRvblxuICovXG5lbnVtIEJ1dHRvbiB7XG4gIFVQID0gXCJBcnJvd1VwXCIsXG4gIERPV04gPSBcIkFycm93RG93blwiLFxuICBMRUZUID0gXCJBcnJvd0xlZnRcIixcbiAgUklHSFQgPSBcIkFycm93UmlnaHRcIixcbiAgRSA9IFwiZVwiLFxuICBRID0gXCJxXCIsXG4gIEJTUEFDRSA9IFwiQmFja3NwYWNlXCIsXG4gIEVOVEVSID0gXCJFbnRlclwiLFxuICBTSElGVCA9IFwiU2hpZnRcIixcbn1cblxuLyoqXG4gKiBUaGUgQnV0dG9uU3RhdHVzIGVudW0uXG4gKiBAdmFsdWVzXG4gKiBbUFJFU1NFRF06IFRoZSBidXR0b24gaXMgcHJlc3NlZC5cbiAqIFtSQUlTRURdOiBUaGUgYnV0dG9uIGlzIE5PVCBwcmVzc2VkLCBpdCBpcyByYWlzZWQuIEFsc28gY2FuIGJlIGNvbnNpZGVyZWRcbiAqIFwidW50b3VjaGVkXCIgYnkgdGhlIHBsYXllci5cbiAqIFtIRUxEXTogVGhlIGJ1dHRvbiBpcyBoZWxkIGRvd24uXG4gKiBbUkVMRUFTRURdOiBUaGUgYnV0dG9uIGhhcyBiZWVuIHJlbGVhc2VkIGZyb20gYSBwcmVzc2VkIHN0YXRlLlxuICogW0RJU0FCTEVEXTogVGhlIGJ1dHRvbiBoYXMgYmVlbiBkaXNhYmxlZCBhbmQgd2lsbCBub3QgZmlyZSBldmVudHMuXG4gKlxuICogQHR5cGUge2VudW19IEJ1dHRvblN0YXR1c1xuICovXG4gZW51bSBCdXR0b25TdGF0dXMge1xuICBQUkVTU0VELFxuICBSQUlTRUQsXG4gIEhFTEQsXG4gIFJFTEVBU0VELFxuICBESVNBQkxFRCxcbn1cblxuLyoqXG4gKiBUaGUgSW5wdXRIYW5kbGVyIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgSW5wdXRIYW5kbGVyIGltcGxlbWVudHMgSUlucHV0SGFuZGxlciB7XG5cbiAgLyoqXG4gICAqIFRPRE8gU3RydWN0dXJlIHNob3VsZCBhZGQgW1wiY29udGV4dFwiXSBzbyB3ZSBjYW4gaGF2ZSBjb250ZXh0LWluZGVwZW5kZW50XG4gICAqIGJ1dHRvbnNcbiAgICogQHR5cGUge0lJbnB1dE1hcH0gVGhlIGlucHV0TWFwIGluc3RhbmNlLlxuICAgKi9cbiAgcHJpdmF0ZSBpbnB1dE1hcDogSUlucHV0TWFwO1xuXG4gIC8qKlxuICAgKiBUaGUgSW5wdXRIYW5kbGVyIGNvbnN0cnVjdG9yLlxuICAgKiBBdHRhY2hlcyB0aGUga2V5ZG93biBhbmQga2V5dXAgS2V5Ym9hcmRFdmVudCB0byB0aGUgZG9jdW1lbnQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLXBhbmUnKS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ2tleWRvd24nLCAoZXZlbnQpID0+IHRoaXMuYnV0dG9uUHJlc3NlZChldmVudCksIGZhbHNlXG4gICAgKTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLXBhbmUnKS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ2tleXVwJywgKGV2ZW50KSA9PiB0aGlzLmJ1dHRvblJlbGVhc2VkKGV2ZW50KSwgZmFsc2VcbiAgICApO1xuXG4gICAgdGhpcy5pbnB1dE1hcCA9IHRoaXMuaW5pdElucHV0TWFwKCk7XG5cbiAgICAvLyBUT0RPOiBUaGlzIHNob3VsZCByZWFkIGluIHVzZXItZGVmaW5lZCBpbnB1dCBtYXBwaW5ncywgb3RoZXJpd3NlIGxvYWRcbiAgICAvLyBkZWZhdWx0IHNldHRpbmdzLiAoaWYgdXNlciBoYXMgc2F2ZWQgY29udHJvbCBzY2hlbWUsIGVsc2UgbG9hZCBkZWZhdWx0KVxuICAgIHRoaXMubG9hZENvbnRyb2xTY2hlbWUoQ29udHJvbFNjaGVtZXMuREVGQVVMVCk7XG4gIH1cblxuICAvKipcbiAgICogQmluZHMgYW4gaW5wdXQgdG8gYSBjb21tYW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IFRoZSBrZXkgdG8gYmluZCB0aGUgZXZlbnQgdG9cbiAgICogQHBhcmFtIHtDb21tYW5kfSBjb21tYW5kIFRoZSBjb21tYW5kIHRvIGJpbmQgdG8gdGhlIGJ1dHRvblxuICAgKi9cbiAgcHVibGljIGtleUJpbmQoZXZlbnQ6IEtleWJvYXJkRXZlbnQsIGNvbW1hbmQ6IENvbW1hbmQpOiB2b2lkIHtcbiAgICB0aGlzLmlucHV0TWFwW2V2ZW50LmtleV0uY29tbWFuZCA9IGNvbW1hbmQ7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5zIGlmIGEgYnV0dG9uIHdhcyBwcmVzc2VkLiBDYWxsYmFjayBmb3Igd2hlbiBhIGJ1dHRvbiBpcyBwcmVzc2VkIGJ5XG4gICAqIHRoZSB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IFRoZSB1c2VyIGludGVyYWN0aW9uIHdpdGggYSBrZXlib2FyZC5cbiAgICovXG4gIHB1YmxpYyBidXR0b25QcmVzc2VkKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICh0aGlzLmlucHV0TWFwW2V2ZW50LmtleV0pIHtcbiAgICAgIHRoaXMuaW5wdXRNYXBbZXZlbnQua2V5XS5zdGF0dXMgPSBCdXR0b25TdGF0dXMuUFJFU1NFRDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIHdoZW4gYSBidXR0b24gaXMgcmVsZWFzZWQgYnkgdGhlIHVzZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgVGhlIHVzZXIgaW50ZXJhY3Rpb24gd2l0aCBhIGtleWJvYXJkLlxuICAgKi9cbiAgcHVibGljIGJ1dHRvblJlbGVhc2VkKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICh0aGlzLmlucHV0TWFwW2V2ZW50LmtleV0pIHtcbiAgICAgIHRoaXMuaW5wdXRNYXBbZXZlbnQua2V5XS5zdGF0dXMgPSBCdXR0b25TdGF0dXMuUkFJU0VEO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHVzZXIgaW5wdXQuIFJ1bnMgb25jZSBwZXIgZ2FtZSBsb29wLlxuICAgKi9cbiAgcHVibGljIGhhbmRsZUlucHV0KGFjdG9yOiBHYW1lQWN0b3IsIGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcblxuICAgIGlmICh0aGlzLmlucHV0TWFwW0J1dHRvbi5VUF0uc3RhdHVzID09PSBCdXR0b25TdGF0dXMuUFJFU1NFRCkge1xuICAgICAgdGhpcy5pbnB1dE1hcFtCdXR0b24uVVBdLmNvbW1hbmQuZXhlY3V0ZShhY3RvciwgZGVsdGEpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnB1dE1hcFtCdXR0b24uRE9XTl0uc3RhdHVzID09PSBCdXR0b25TdGF0dXMuUFJFU1NFRCkge1xuICAgICAgdGhpcy5pbnB1dE1hcFtCdXR0b24uRE9XTl0uY29tbWFuZC5leGVjdXRlKGFjdG9yLCBkZWx0YSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlucHV0TWFwW0J1dHRvbi5MRUZUXS5zdGF0dXMgPT09IEJ1dHRvblN0YXR1cy5QUkVTU0VEKSB7XG4gICAgICB0aGlzLmlucHV0TWFwW0J1dHRvbi5MRUZUXS5jb21tYW5kLmV4ZWN1dGUoYWN0b3IsIGRlbHRhKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaW5wdXRNYXBbQnV0dG9uLlJJR0hUXS5zdGF0dXMgPT09IEJ1dHRvblN0YXR1cy5QUkVTU0VEKSB7XG4gICAgICB0aGlzLmlucHV0TWFwW0J1dHRvbi5SSUdIVF0uY29tbWFuZC5leGVjdXRlKGFjdG9yLCBkZWx0YSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlucHV0TWFwW0J1dHRvbi5FXS5zdGF0dXMgPT09IEJ1dHRvblN0YXR1cy5QUkVTU0VEKSB7XG4gICAgICB0aGlzLmlucHV0TWFwW0J1dHRvbi5FXS5jb21tYW5kLmV4ZWN1dGUoYWN0b3IsIGRlbHRhKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaW5wdXRNYXBbQnV0dG9uLlFdLnN0YXR1cyA9PT0gQnV0dG9uU3RhdHVzLlBSRVNTRUQpIHtcbiAgICAgIHRoaXMuaW5wdXRNYXBbQnV0dG9uLlFdLmNvbW1hbmQuZXhlY3V0ZShhY3RvciwgZGVsdGEpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnB1dE1hcFtCdXR0b24uQlNQQUNFXS5zdGF0dXMgPT09IEJ1dHRvblN0YXR1cy5QUkVTU0VEKSB7XG4gICAgICB0aGlzLmlucHV0TWFwW0J1dHRvbi5CU1BBQ0VdLmNvbW1hbmQuZXhlY3V0ZShhY3RvciwgZGVsdGEpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnB1dE1hcFtCdXR0b24uRU5URVJdLnN0YXR1cyA9PT0gQnV0dG9uU3RhdHVzLlBSRVNTRUQpIHtcbiAgICAgIHRoaXMuaW5wdXRNYXBbQnV0dG9uLkVOVEVSXS5jb21tYW5kLmV4ZWN1dGUoYWN0b3IsIGRlbHRhKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaW5wdXRNYXBbQnV0dG9uLlNISUZUXS5zdGF0dXMgPT09IEJ1dHRvblN0YXR1cy5QUkVTU0VEKSB7XG4gICAgICB0aGlzLmlucHV0TWFwW0J1dHRvbi5TSElGVF0uY29tbWFuZC5leGVjdXRlKGFjdG9yLCBkZWx0YSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIGFuIGlucHV0IG1hcCBzbyB0aGUgc3RydWN0dXJlIGlzIGF2YWlsYWJsZSB3aGVuIG5lZWRlZC5cbiAgICpcbiAgICogQHJldHVybiB7SUlucHV0TWFwfSBUaGUgSUlucHV0TWFwIGludGVyZmFjZS5cbiAgICovXG4gIHByaXZhdGUgaW5pdElucHV0TWFwKCk6IElJbnB1dE1hcCB7XG4gICAgbGV0IGlwID0ge307XG5cbiAgICBmb3IobGV0IGJ1dHRvbktleSBpbiBCdXR0b24pIHtcbiAgICAgIGlwW0J1dHRvbltidXR0b25LZXldXSA9IHtcbiAgICAgICAgY29tbWFuZDogTnVsbENvbW1hbmQsXG4gICAgICAgIHN0YXR1czogQnV0dG9uU3RhdHVzLlJBSVNFRFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkcyBhIGNvbnRyb2wgc2NoZW1lIHdoZW4gdGhlIGdhbWUgZmlyc3QgaW5pdGlhbGl6ZXMsIHNvIHRoZSBwbGF5ZXIgY2FuXG4gICAqIGhhdmUgc29tZSBpbnB1dC4gU3VwcG9ydHMgbXVsdGlwbGUgY29udHJvbCBzY2hlbWVzIHNvIHBsYXllcnMgY2FuIHJlLW1hcFxuICAgKiBjb250cm9scyB3aXRob3V0IGhhdmluZyB0byByZS1tYXAgZWFjaCBidXR0b24gaW5kaXZpZHVhbGx5LlxuICAgKlxuICAgKiBAcGFyYW0gY29udHJvbFNjaGVtZVxuICAgKi9cbiAgcHJpdmF0ZSBsb2FkQ29udHJvbFNjaGVtZShjb250cm9sU2NoZW1lOiBDb250cm9sU2NoZW1lcyk6IHZvaWQge1xuICAgIHN3aXRjaChjb250cm9sU2NoZW1lKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gdGhpcy5pbnB1dE1hcFtCdXR0b24uVVBdLmNvbW1hbmQgPSBuZXcgTW92ZU5vcnRoQ29tbWFuZChwbGF5ZXI6IEdhbWVBY3Rvcik7XG4gICAgICAgIHRoaXMuaW5wdXRNYXBbQnV0dG9uLlVQXS5jb21tYW5kID0gbmV3IE1vdmVOb3J0aENvbW1hbmQoKTtcbiAgICAgICAgdGhpcy5pbnB1dE1hcFtCdXR0b24uRE9XTl0uY29tbWFuZCA9IG5ldyBNb3ZlU291dGhDb21tYW5kKCk7XG4gICAgICAgIHRoaXMuaW5wdXRNYXBbQnV0dG9uLkxFRlRdLmNvbW1hbmQgPSBuZXcgTW92ZVdlc3RDb21tYW5kKCk7XG4gICAgICAgIHRoaXMuaW5wdXRNYXBbQnV0dG9uLlJJR0hUXS5jb21tYW5kID0gbmV3IE1vdmVFYXN0Q29tbWFuZCgpO1xuICAgICAgICB0aGlzLmlucHV0TWFwW0J1dHRvbi5FXS5jb21tYW5kID0gbmV3IE51bGxDb21tYW5kKCk7XG4gICAgICAgIHRoaXMuaW5wdXRNYXBbQnV0dG9uLlFdLmNvbW1hbmQgPSBuZXcgTnVsbENvbW1hbmQoKTtcbiAgICAgICAgdGhpcy5pbnB1dE1hcFtCdXR0b24uQlNQQUNFXS5jb21tYW5kID0gbmV3IE51bGxDb21tYW5kKCk7XG4gICAgICAgIHRoaXMuaW5wdXRNYXBbQnV0dG9uLkVOVEVSXS5jb21tYW5kID0gbmV3IE51bGxDb21tYW5kKCk7XG4gICAgICAgIHRoaXMuaW5wdXRNYXBbQnV0dG9uLlNISUZUXS5jb21tYW5kID0gbmV3IE51bGxDb21tYW5kKCk7XG4gICAgfVxuICB9XG59XG5cbi8vIHZhciBrZXkgPSB7XG4vLyAgIEJBQ0tTUEFDRTogOCxcbi8vICAgVEFCOiAgICAgICA5LFxuLy8gICBSRVRVUk46ICAgMTMsXG4vLyAgIEVTQzogICAgICAyNyxcbi8vICAgU1BBQ0U6ICAgIDMyLFxuLy8gICBQQUdFVVA6ICAgMzMsXG4vLyAgIFBBR0VET1dOOiAzNCxcbi8vICAgRU5EOiAgICAgIDM1LFxuLy8gICBIT01FOiAgICAgMzYsXG4vLyAgIExFRlQ6ICAgICAzNyxcbi8vICAgVVA6ICAgICAgIDM4LFxuLy8gICBSSUdIVDogICAgMzksXG4vLyAgIERPV046ICAgICA0MCxcbi8vICAgSU5TRVJUOiAgIDQ1LFxuLy8gICBERUxFVEU6ICAgNDYsXG4vLyAgIFpFUk86ICAgICA0OCwgT05FOiA0OSwgVFdPOiA1MCwgVEhSRUU6IDUxLCBGT1VSOiA1MiwgRklWRTogNTMsIFNJWDogNTQsIFNFVkVOOiA1NSwgRUlHSFQ6IDU2LCBOSU5FOiA1Nyxcbi8vICAgQTogICAgICAgIDY1LCBCOiA2NiwgQzogNjcsIEQ6IDY4LCBFOiA2OSwgRjogNzAsIEc6IDcxLCBIOiA3MiwgSTogNzMsIEo6IDc0LCBLOiA3NSwgTDogNzYsIE06IDc3LCBOOiA3OCwgTzogNzksIFA6IDgwLCBROiA4MSwgUjogODIsIFM6IDgzLCBUOiA4NCwgVTogODUsIFY6IDg2LCBXOiA4NywgWDogODgsIFk6IDg5LCBaOiA5MCxcbi8vICAgVElMREE6ICAgIDE5MlxuLy8gfTtcbiIsImludGVyZmFjZSBJQ2FtZXJhIHtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgcG9zaXRpb24gb2YgdGhlIGNhbWVyYS5cbiAgICovXG4gIHBvc2l0aW9uOiBDb29yZGluYXRlO1xuXG4gIC8qKlxuICAgKiBUaGUgd2lkdGggb2YgdGhlIENhbWVyYSdzIHZpZXdwb3J0LlxuICAgKi9cbiAgd2lkdGg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGhlaWdodCBvZiB0aGUgQ2FtZXJhJ3Mgdmlld3BvcnQuXG4gICAqL1xuICBoZWlnaHQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGxpbWl0IGZvciB0aGUgY2FtZXJhJ3MgcG9zaXRpb24g4oCUIFRoZSBsb3dlciBsaW1pdCB3aWxsIG5lYXJseSBhbHdheXMgYmVcbiAgICogKDAsMCkuIFRoZSB1cHBlciBsaW1pdCBpcyBlcXVhbCB0byB0aGUgc2l6ZSBvZiB0aGUgd29ybGQgbWludXMgdGhlIHNpemUgb2ZcbiAgICogdGhlIGNhbWVyYSdzIHZpZXdwb3J0LlxuICAgKi9cbiAgbWF4WDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgbGltaXQgZm9yIHRoZSBjYW1lcmEncyBwb3NpdGlvbiDigJQgVGhlIGxvd2VyIGxpbWl0IHdpbGwgbmVhcmx5IGFsd2F5cyBiZVxuICAgKiAoMCwwKS4gVGhlIHVwcGVyIGxpbWl0IGlzIGVxdWFsIHRvIHRoZSBzaXplIG9mIHRoZSB3b3JsZCBtaW51cyB0aGUgc2l6ZSBvZlxuICAgKiB0aGUgY2FtZXJhJ3Mgdmlld3BvcnQuXG4gICAqL1xuICBtYXhZOiBudW1iZXI7XG5cbn1cblxuZXhwb3J0IGNsYXNzIENhbWVyYSBpbXBsZW1lbnRzIElDYW1lcmEge1xuXG4gIHBvc2l0aW9uOiBDb29yZGluYXRlO1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgbWF4WDogbnVtYmVyO1xuICBtYXhZOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7fVxuXG59XG4iLCJpbXBvcnQgeyBNYXBCYXNlIH0gZnJvbSBcIi4uLy4uL2F0bGFzZXMvTWFwQmFzZVwiO1xuaW1wb3J0IHsgT3ZlcndvcmxkIH0gZnJvbSBcIi4uLy4uL2F0bGFzZXMvT3ZlcndvcmxkXCI7XG5cbmV4cG9ydCBjbGFzcyBSZW5kZXJlciB7XG5cbiAgRU1QVFlfVElMRTogbnVtYmVyO1xuICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgcGl4ZWxzOiBudW1iZXI7XG4gIHNjYWxlOiBudW1iZXI7XG4gIHNjZW5lV2lkdGg6IG51bWJlcjtcbiAgc2NlbmVIZWlnaHQ6IG51bWJlcjtcblxuICAvKipcbiAgICogVE9ETzogQ2hhbmdlIHRoaXMgdG8gYmUgdGhlIHNjZW5lLiBSZWNyZWF0ZSB0aGUgUmVuZGVyZXIgd2hlbiBhIG5ldyBzY2VuZVxuICAgKiBpcyBsb2FkZWQuXG4gICAqL1xuICBwcm90ZWN0ZWQgX2N1cnJlbnRNYXA6IE1hcEJhc2U7XG5cbiAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuXG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2FudmFzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAdmFyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIC8qKlxuICAgICAqIFByZXZlbnQgYW50aS1hbGlhc2luZyBpbiB0aGUgZXZlbnQgYSB0aWxlIGdldHMgc2NhbGVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkfVxuICAgICAqL1xuICAgICB0aGlzLmN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBlbXB0eSB0aWxlIHZhbHVlLiBJZiB0aGlzIHZhbHVlIGlzIHNldCBmb3IgYSBwb3NpdGlvbiBpbiBhIG1hcCdzXG4gICAgICogYXJyYXksIGl0IHdpbGwgbm90IGJlIHJlbmRlcmVkLlxuICAgICAqIFRPRE86IE1vdmUgdGhpcyB0byB0aGUgU2NlbmUuXG4gICAgICpcbiAgICAgKiBAdmFyIHtpbnRlZ2VyfVxuICAgICAqL1xuICAgIHRoaXMuRU1QVFlfVElMRSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVyIGZvciB4LHkgcG9zaXRpb24gdG8gcGl4ZWxzLiBXaGF0IHNpemUgdGhlIHRpbGVzIGZvciB0aGUgZ2FtZVxuICAgICAqIHdpbGwgYmUgcmVuZGVyZWQgYXQuIEFsd2F5cyB1c2UgYSBwb3dlciBvZiAyIHNvIHRoZSBzY2FsaW5nIHByZXZlbnRzXG4gICAgICogYmx1cnJpbmcuXG4gICAgICpcbiAgICAgKiBAdmFyIHtpbnRlZ2VyfVxuICAgICAqL1xuICAgIHRoaXMucGl4ZWxzID0gMzI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGUgYXQgd2hpY2ggdGhlIHRpbGUgd2lsbCBiZSByZW5kZXJlZC4gMSA9IDF4IHNjYWxpbmcsIDIgPSAyeFxuICAgICAqIHNjYWxpbmcsIGV0Yy5cbiAgICAgKlxuICAgICAqIEB2YXIge2ludGVnZXJ9XG4gICAgICovXG4gICAgdGhpcy5zY2FsZSA9IDE7XG5cbiAgICB0aGlzLl9jdXJyZW50TWFwID0gbmV3IE92ZXJ3b3JsZCgpO1xuICB9XG5cbiAgZHJhdyhnYW1lT2JqZWN0Q291bnQ6IG51bWJlciwgZ2FtZU9iamVjdHM6IEFycmF5PGFueT4pIHtcblxuICAgIC8vIENsZWFyIHRoZSBzY3JlZW5cbiAgICAvLyBUT0RPOiBQdWxsIHRoaXMgb3V0LiBQdXQgaW4gcmVuZGVyZXIuXG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCxcbiAgICAgIHRoaXMuY2FudmFzLmhlaWdodFxuICAgICk7XG5cbiAgICAvLyBBbHdheXMgc3RvcmUgdGhlIHRleHR1cmUgaW4gYSB2YXIgc28gd2UgZG9uJ3QgY2FsbCBcIm5ldyBGb28oKVwiIG11bHRpcGxlXG4gICAgLy8gdGltZXMgYSBzZWNvbmQuXG4gICAgdGhpcy5kcmF3VGlsZU1hcCh0aGlzLl9jdXJyZW50TWFwKTtcblxuICAgIGZvciAobGV0IGk9MDsgaTxnYW1lT2JqZWN0Q291bnQ7IGkrKykge1xuICAgICAgZ2FtZU9iamVjdHNbaV0uZHJhdyh0aGlzLmN0eCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgYSBtYXAgYWNjb3JkaW5nIHRvIHRoZSBjb29yZGluYXRlcyBnaXZlbiBpbiB0aGUgbWFwJ3MgZmlsZSBieVxuICAgKiB0cmFuc2xhdGluZyB0aGUgY29vcmRpbmF0ZXMgdG8gYSBzcHJpdGVzaGVldC5cbiAgICpcbiAgICogSWYgYSB0aWxlIGlzIDMyeDMyIHBpeGVscywgdGhlIDFzdCB0aWxlIHdpbGwgc3RhcnQgYXQgKDAsMCkgb25cbiAgICogdGhlIHNwcml0ZXNoZWV0LCB0aGUgMm5kIHRpbGUgd2lsbCBzdGFydCBhdCAoMzIsMCksIHRoZSAzNGQgYXQgKDY0LDApIGFuZFxuICAgKiBzbyBvbi5cbiAgICpcbiAgICogKy0tLSstLS0rLS0tKy0tLStcbiAgICogfCAxIHwgMiB8IDMgfCA0IHxcbiAgICogKy0tLSstLS0rLS0tKy0tLStcbiAgICogfCA1IHwgNiB8IDcgfCA4IHxcbiAgICogKy0tLSstLS0rLS0tKy0tLStcbiAgICpcbiAgICogJ3NvdXJjZSB4JyBhbmQgJ3NvdXJjZSB5JyB3aWxsIGdldCB0aGUgY29ycmVjdCBjb29yZHMgaW4gdGhlIGltYWdlIGZpbGUuXG4gICAqIFNvIGZvciBvdXIgZmlyc3QgdGlsZSwgJzEnLCBkcmF3SW1hZ2Ugd2lsbCBncmFiIHRoZSBzdWJpbWFnZSBhdCAoMzIsMCkuXG4gICAqIGRyYXdJbWFnZSB3b3VsZCBnZXQgdGhlIHN1YmltYWdlIGF0ICg2NCwzMikgZm9yIHRpbGUgJzcnLlxuICAgKlxuICAgKiBUT0RPICBodHRwczovL2hhc2hyb2NrZXQuY29tL2Jsb2cvcG9zdHMvdXNpbmctdGlsZWQtYW5kLWNhbnZhcy10by1yZW5kZXItZ2FtZS1zY3JlZW5zXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgIFRoZSBtYXAgb2JqZWN0IHRoYXQgZXh0ZW5kcyBNYXBCYXNlLlxuICAgKi9cbiAgZHJhd1RpbGVNYXAobWFwOiBNYXBCYXNlKTogdm9pZCB7XG4gICAgZm9yIChsZXQgeD0wOyB4PG1hcC5jb2xzOyB4KyspIHtcbiAgICAgIGZvciAobGV0IHk9MDsgeTxtYXAucm93czsgeSsrKSB7XG4gICAgICAgIGxldCB0aWxlID0gbWFwLmdldFRpbGUoeCwgeSk7XG5cbiAgICAgICAgLy8gTGV0J3Mgc2tpcCByZW5kZXJpbmcgZW1wdHkgdGlsZXMuXG4gICAgICAgIGlmICh0aWxlICE9PSB0aGlzLkVNUFRZX1RJTEUpIHtcbiAgICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAvLyBJbWFnZSBTb3VyY2VcbiAgICAgICAgICAgIG1hcC5TTSxcbiAgICAgICAgICAgIC8vIFNvdXJjZSB4IChTZWUgZXhhbXBsZSBpbiBjb21tZW50IGJsb2NrKVxuICAgICAgICAgICAgKCh0aWxlIC0gMSkgJSBtYXAuY29scykgKiB0aGlzLnBpeGVscyxcbiAgICAgICAgICAgIC8vIFNvdXJjZSB5IChTZWUgZXhhbXBsZSBpbiBjb21tZW50IGJsb2NrKVxuICAgICAgICAgICAgTWF0aC5mbG9vcigoKHRpbGUgLSAxKSAvIG1hcC5yb3dzKSkgKiB0aGlzLnBpeGVscyxcbiAgICAgICAgICAgIC8vIFNvdXJjZSB3aWR0aFxuICAgICAgICAgICAgdGhpcy5waXhlbHMsXG4gICAgICAgICAgICAvLyBTb3VyY2UgaGVpZ2h0XG4gICAgICAgICAgICB0aGlzLnBpeGVscyxcbiAgICAgICAgICAgIC8vIFRhcmdldCB4XG4gICAgICAgICAgICB4ICogKHRoaXMucGl4ZWxzICogdGhpcy5zY2FsZSksXG4gICAgICAgICAgICAvLyBUYXJnZXQgeVxuICAgICAgICAgICAgeSAqICh0aGlzLnBpeGVscyAqIHRoaXMuc2NhbGUpLFxuICAgICAgICAgICAgLy8gVGFyZ2V0IHdpZHRoXG4gICAgICAgICAgICB0aGlzLnBpeGVscyAqIHRoaXMuc2NhbGUsXG4gICAgICAgICAgICAgLy8gVGFyZ2V0IGhlaWdodFxuICAgICAgICAgICAgdGhpcy5waXhlbHMgKiB0aGlzLnNjYWxlLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IEZpZW5kR2FtZSB9IGZyb20gXCIuL2VuZ2luZS9GaWVuZEdhbWVcIjtcbmltcG9ydCB7IEFzc2V0TG9hZGVyIH0gZnJvbSBcIi4vZW5naW5lL0Fzc2V0TG9hZGVyXCI7XG5cbi8qKlxuICogV2UgbmVlZCBzb21lIGdsb2JhbCB2YXJpYWJsZXMgc28gd2UgY2FuIGxvYWQgdGhlIGdhbWUgYW5kIHRoZSBhc3NldHMuIExldCdzXG4gKiBjb25zaWRlciBtb3ZpbmcgdGhlIEZfTE9BREVSIHRvIGl0J3Mgb3duIGNsYXNzIHNvIHdlIGRvbid0IG5lZWQgYSBnbG9iYWwgZm9yXG4gKiB0aGUgYXNzZXRzLlxuICovXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIEZfTE9BREVSOiBBc3NldExvYWRlcjtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBGaWVuZEdhbWUsIHdoaWNoIGxvYWRzIHRoZSBnYW1lLlxuICovXG5mdW5jdGlvbiBpbml0KCkge1xuXG4gIC8vIEluaXQgZnVuY3Rpb25hbGl0eSwgZm9yIG5vdy5cbiAgbmV3IEZpZW5kR2FtZSg2NDAsIDQ4MCk7XG4gIC8vIEZvY3VzIHRoZSBnYW1lIHBhbmUgb24gcGFnZSBsb2FkLlxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1wYW5lJykuZm9jdXMoKTtcbn07XG5cbi8qKlxuICogRW5zdXJlIHRoZSBhc3NldHMgYXJlIGxvYWRlZCBiZWZvcmUgd2UgaW5pdGlhbGl6ZSB0aGUgZ2FtZS4gV2UgZG8gdGhpcyB3aXRoIGFcbiAqIHByb21pc2UgdG8gZW5zdXJlIGFsbCB0aGUgaW1hZ2VzIGFyZSBsb2FkZWQgYW5kIHJlYWR5IHRvIGJlIHVzZWQuXG4gKiBUT0RPIE1ha2UgdGhpcyBiZXR0ZXIsIG1vcmUgVHlwZVNjcmlwdC15LlxuICovXG4gd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXG4gIHdpbmRvdy5GX0xPQURFUiA9IG5ldyBBc3NldExvYWRlcigpO1xuICB2YXIgcCA9IHdpbmRvdy5GX0xPQURFUi5pbml0QXNzZXRzKCk7XG4gIFByb21pc2UuYWxsKHApLnRoZW4oICgpID0+IHtcbiAgICBpbml0KCk7XG4gIH0pO1xufVxuIl19"}